(()=>{function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var r={},i={},s=t.parcelRequiree8ef;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},t.parcelRequiree8ef=s),importScripts("./Sync.worker.48bf6c93.cb8c8027.js");function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var a={};function c(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:a}var l=Object.assign,u=Object.getOwnPropertyDescriptor,d=Object.defineProperty,h=Object.prototype,f=[];Object.freeze(f);var p={};Object.freeze(p);var m="undefined"!=typeof Proxy,b=Object.toString();function y(){m||o("Proxy not available")}function g(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var v=function(){};function w(e){return"function"==typeof e}function _(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function k(e){return null!==e&&"object"==typeof e}function T(e){if(!k(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===b}function N(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function E(e,t,n){d(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function I(e,t,n){d(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function A(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return k(e)&&!0===e[n]}}function S(e){return e instanceof Map}function R(e){return e instanceof Set}var O=void 0!==Object.getOwnPropertySymbols;var x="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:O?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function P(e){return null===e?null:"object"==typeof e?""+e:e}function C(e,t){return h.hasOwnProperty.call(e,t)}var L=Object.getOwnPropertyDescriptors||function(e){var t={};return x(e).forEach((function(n){t[n]=u(e,n)})),t};function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var W=Symbol("mobx-stored-annotations");function G(e){return Object.assign((function(t,n){K(t,n,e)}),e)}function K(e,t,n){C(e,W)||E(e,W,D({},e[W])),function(e){return e.annotationType_===Z}(n)||(e[W][t]=n)}var H=Symbol("mobx administration"),q=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=He.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return vt(this)},t.reportChanged=function(){yt(),wt(this),gt()},t.toString=function(){return this.name_},e}(),J=A("Atom",q);function Y(e,t,n){void 0===t&&(t=v),void 0===n&&(n=v);var r,i=new q(e);return t!==v&&Gt(zt,i,t,r),n!==v&&Wt(i,n),i}var $={identity:function(e,t){return e===t},structural:function(e,t){return sr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return sr(e,t,1)}};function X(e,t,n){return en(e)?e:Array.isArray(e)?Re.array(e,{name:n}):T(e)?Re.object(e,void 0,{name:n}):S(e)?Re.map(e,{name:n}):R(e)?Re.set(e,{name:n}):"function"!=typeof e||Dt(e)||Qt(e)?e:N(e)?$t(e):Bt(n,e)}function Q(e){return e}var Z="override";function ee(e,t){return{annotationType_:e,options_:t,make_:te,extend_:ne}}function te(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Dt(n.value))return 1;var s=re(e,this,t,n,!1);return d(r,t,s),2}function ne(e,t,n,r){var i=re(e,this,t,n);return e.defineProperty_(t,i,r)}function re(e,t,n,r,i){var s,o,a,c,l,u,d,h;void 0===i&&(i=ft.safeDescriptors),h=r,t.annotationType_,h.value;var f,p=r.value;null!=(s=t.options_)&&s.bound&&(p=p.bind(null!=(f=e.proxy_)?f:e.target_));return{value:Me(null!=(o=null==(a=t.options_)?void 0:a.name)?o:n.toString(),p,null!=(c=null==(l=t.options_)?void 0:l.autoAction)&&c,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ie(e,t){return{annotationType_:e,options_:t,make_:se,extend_:oe}}function se(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!C(e.target_,t)||!Qt(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Qt(n.value))return 1;var s=ae(e,this,t,n,!1,!1);return d(r,t,s),2}function oe(e,t,n,r){var i,s=ae(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,s,r)}function ae(e,t,n,r,i,s){var o;void 0===s&&(s=ft.safeDescriptors),o=r,t.annotationType_,o.value;var a,c=r.value;(Qt(c)||(c=$t(c)),i)&&((c=c.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0);return{value:c,configurable:!s||e.isPlainObject_,enumerable:!1,writable:!s}}function ce(e,t){return{annotationType_:e,options_:t,make_:le,extend_:ue}}function le(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ue(e,t,n,r){var i;return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,D({},this.options_,{get:n.get,set:n.set}),r)}function de(e,t){return{annotationType_:e,options_:t,make_:he,extend_:fe}}function he(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function fe(e,t,n,r){var i,s;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(s=this.options_)?void 0:s.enhancer)?i:X,r)}var pe=me();function me(e){return{annotationType_:"true",options_:e,make_:be,extend_:ye}}function be(e,t,n,r){var i,s,o,a;if(n.get)return Ce.make_(e,t,n,r);if(n.set){var c=Me(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!ft.safeDescriptors||e.isPlainObject_,set:c})?0:2:(d(r,t,{configurable:!0,set:c}),2)}if(r!==e.target_&&"function"==typeof n.value)return N(n.value)?(null!=(a=this.options_)&&a.autoBind?$t.bound:$t).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?Bt.bound:Bt).make_(e,t,n,r);var l,u=!1===(null==(i=this.options_)?void 0:i.deep)?Re.ref:Re;"function"==typeof n.value&&null!=(s=this.options_)&&s.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_));return u.make_(e,t,n,r)}function ye(e,t,n,r){var i,s,o;if(n.get)return Ce.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!ft.safeDescriptors||e.isPlainObject_,set:Me(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_));return(!1===(null==(s=this.options_)?void 0:s.deep)?Re.ref:Re).extend_(e,t,n,r)}var ge={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ve(e){return e||ge}Object.freeze(ge);var we=de("observable"),_e=de("observable.ref",{enhancer:Q}),ke=de("observable.shallow",{enhancer:function(e,t,n){return null==e||zn(e)||En(e)||Pn(e)||Bn(e)?e:Array.isArray(e)?Re.array(e,{name:n,deep:!1}):T(e)?Re.object(e,void 0,{name:n,deep:!1}):S(e)?Re.map(e,{name:n,deep:!1}):R(e)?Re.set(e,{name:n,deep:!1}):void 0}}),Te=de("observable.struct",{enhancer:function(e,t){return sr(e,t)?t:e}}),Ne=G(we);function Ee(e){return!0===e.deep?X:!1===e.deep?Q:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:X;var t,n,r}function Ie(e,t,n){if(!_(t))return en(e)?e:T(e)?Re.object(e,t,n):Array.isArray(e)?Re.array(e,t):S(e)?Re.map(e,t):R(e)?Re.set(e,t):"object"==typeof e&&null!==e?e:Re.box(e,t);K(e,t,we)}Object.assign(Ie,Ne);var Ae,Se,Re=l(Ie,{box:function(e,t){var n=ve(t);return new Ke(e,Ee(n),n.name,!0,n.equals)},array:function(e,t){var n=ve(t);return(!1===ft.useProxies||!1===n.proxy?er:bn)(e,Ee(n),n.name)},map:function(e,t){var n=ve(t);return new xn(e,Ee(n),n.name)},set:function(e,t){var n=ve(t);return new Ln(e,Ee(n),n.name)},object:function(e,t,n){return Kt(!1===ft.useProxies||!1===(null==n?void 0:n.proxy)?Mn({},n):function(e,t){var n,r;return y(),e=Mn(e,t),null!=(r=(n=e[H]).proxy_)?r:n.proxy_=new Proxy(e,sn)}({},n),e,t)},ref:G(_e),shallow:G(ke),deep:Ne,struct:G(Te)}),Oe="computed",xe=ce(Oe),Pe=ce("computed.struct",{equals:$.structural}),Ce=function(e,t){if(_(t))return K(e,t,xe);if(T(e))return G(ce(Oe,e));var n=T(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new $e(n)};Object.assign(Ce,xe),Ce.struct=G(Pe);var Le,Be=0,Ue=1,De=null!=(Ae=null==(Se=u((function(){}),"name"))?void 0:Se.configurable)&&Ae,je={value:"action",configurable:!0,writable:!1,enumerable:!1};function Me(e,t,n,r){function i(){return Ve(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,De&&(je.value=e,Object.defineProperty(i,"name",je)),i}function Ve(e,t,n,r,i){var s=function(e,t,n,r){var i=!1,s=0,o=ft.trackingDerivation,a=!t||!o;yt();var c=ft.allowStateChanges;a&&(st(),c=ze(!0));var l=at(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:c,prevAllowStateReads_:l,notifySpy_:i,startTime_:s,actionId_:Ue++,parentActionId_:Be};return Be=u.actionId_,u}(0,t);try{return n.apply(r,i)}catch(e){throw s.error_=e,e}finally{!function(e){Be!==e.actionId_&&o(30);Be=e.parentActionId_,void 0!==e.error_&&(ft.suppressReactionErrors=!0);We(e.prevAllowStateChanges_),ct(e.prevAllowStateReads_),gt(),e.runAsAction_&&ot(e.prevDerivation_);ft.suppressReactionErrors=!1}(s)}}function Fe(e,t){var n=ze(e);try{return t()}finally{We(n)}}function ze(e){var t=ft.allowStateChanges;return ft.allowStateChanges=e,t}function We(e){ft.allowStateChanges=e}Le=Symbol.toPrimitive;var Ge,Ke=function(e){function t(t,n,r,i,s){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===s&&(s=$.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=s,o.value_=n(t,void 0,r),o}j(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==ft.UNCHANGED){this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(tt(this),on(this)){var t=cn(this,{object:this,type:fn,newValue:e});if(!t)return ft.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?ft.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),ln(this)&&dn(this,{type:fn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return an(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:fn,newValue:this.value_,oldValue:void 0}),un(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return P(this.get())},n[Le]=function(){return this.valueOf()},t}(q);Ge=Symbol.toPrimitive;var He,qe,Je,Ye,$e=function(){function e(e){this.dependenciesState_=He.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=He.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Qe(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Je.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||o(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Me("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?$.structural:$.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==He.UP_TO_DATE_)return;e.lowestObserverState_=He.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===He.UP_TO_DATE_&&(e.dependenciesState_=He.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&o(32,this.name_,this.derivation),0!==ft.inBatch||0!==this.observers_.size||this.keepAlive_){if(vt(this),et(this)){var e=ft.trackingContext;this.keepAlive_&&!e&&(ft.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===He.STALE_)return;e.lowestObserverState_=He.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===He.POSSIBLY_STALE_?t.dependenciesState_=He.STALE_:t.dependenciesState_===He.UP_TO_DATE_&&(e.lowestObserverState_=He.UP_TO_DATE_)}))}(this),ft.trackingContext=e}}else et(this)&&(this.warnAboutUntrackedRead_(),yt(),this.value_=this.computeValue_(!1),gt());var t=this.value_;if(Ze(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&o(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else o(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===He.NOT_TRACKING_,n=this.computeValue_(!0),r=t||Ze(e)||Ze(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=ze(!1);if(e)t=nt(this,this.derivation,this.scope_);else if(!0===ft.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Qe(e)}return We(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(rt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return jt((function(){var s=n.get();if(!r||t){var o=st();e({observableKind:"computed",debugObjectName:n.name_,type:fn,object:n,newValue:s,oldValue:i}),ot(o)}r=!1,i=s}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return P(this.get())},t[Ge]=function(){return this.valueOf()},e}(),Xe=A("ComputedValue",$e);(qe=He||(He={}))[qe.NOT_TRACKING_=-1]="NOT_TRACKING_",qe[qe.UP_TO_DATE_=0]="UP_TO_DATE_",qe[qe.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",qe[qe.STALE_=2]="STALE_",(Ye=Je||(Je={}))[Ye.NONE=0]="NONE",Ye[Ye.LOG=1]="LOG",Ye[Ye.BREAK=2]="BREAK";var Qe=function(e){this.cause=void 0,this.cause=e};function Ze(e){return e instanceof Qe}function et(e){switch(e.dependenciesState_){case He.UP_TO_DATE_:return!1;case He.NOT_TRACKING_:case He.STALE_:return!0;case He.POSSIBLY_STALE_:for(var t=at(!0),n=st(),r=e.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(Xe(o)){if(ft.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return ot(n),ct(t),!0}if(e.dependenciesState_===He.STALE_)return ot(n),ct(t),!0}}return lt(e),ot(n),ct(t),!1}}function tt(e){}function nt(e,t,n){var r=at(!0);lt(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++ft.runId;var i,s=ft.trackingDerivation;if(ft.trackingDerivation=e,ft.inBatch++,!0===ft.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new Qe(e)}return ft.inBatch--,ft.trackingDerivation=s,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=He.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=n[o];0===a.diffValue_&&(a.diffValue_=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}n.length=i,e.newObserving_=null,s=t.length;for(;s--;){var c=t[s];0===c.diffValue_&&mt(c,e),c.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,pt(l,e))}r!==He.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),ct(r),i}function rt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)mt(t[n],e);e.dependenciesState_=He.NOT_TRACKING_}function it(e){var t=st();try{return e()}finally{ot(t)}}function st(){var e=ft.trackingDerivation;return ft.trackingDerivation=null,e}function ot(e){ft.trackingDerivation=e}function at(e){var t=ft.allowStateReads;return ft.allowStateReads=e,t}function ct(e){ft.allowStateReads=e}function lt(e){if(e.dependenciesState_!==He.UP_TO_DATE_){e.dependenciesState_=He.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=He.UP_TO_DATE_}}var ut=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},dt=!0,ht=!1,ft=function(){var e=c();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(dt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ut).version&&(dt=!1),dt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ut):(setTimeout((function(){ht||o(35)}),1),new ut)}();function pt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function mt(e,t){e.observers_.delete(t),0===e.observers_.size&&bt(e)}function bt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,ft.pendingUnobservations.push(e))}function yt(){ft.inBatch++}function gt(){if(0==--ft.inBatch){Tt();for(var e=ft.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof $e&&n.suspend_())}ft.pendingUnobservations=[]}}function vt(e){var t=ft.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&ft.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&ft.inBatch>0&&bt(e),!1)}function wt(e){e.lowestObserverState_!==He.STALE_&&(e.lowestObserverState_=He.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===He.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=He.STALE_})))}var _t=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=He.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Je.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,ft.pendingReactions.push(this),Tt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){yt(),this.isScheduled_=!1;var e=ft.trackingContext;if(ft.trackingContext=this,et(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}ft.trackingContext=e,gt()}},t.track=function(e){if(!this.isDisposed_){yt();this.isRunning_=!0;var t=ft.trackingContext;ft.trackingContext=this;var n=nt(this,e,void 0);ft.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&rt(this),Ze(n)&&this.reportExceptionInDerivation_(n.cause),gt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(ft.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";ft.suppressReactionErrors||console.error(n,e),ft.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(yt(),rt(this),gt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[H]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){o("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=tn(n);if(!i)return o("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===Je.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled");i.isTracing_=e?Je.BREAK:Je.LOG}(this,e)},e}();var kt=function(e){return e()};function Tt(){ft.inBatch>0||ft.isRunningReactions||kt(Nt)}function Nt(){ft.isRunningReactions=!0;for(var e=ft.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}ft.isRunningReactions=!1}var Et=A("Reaction",_t);var It="action",At="autoAction",St="<unnamed action>",Rt=ee(It),Ot=ee("action.bound",{bound:!0}),xt=ee(At,{autoAction:!0}),Pt=ee("autoAction.bound",{autoAction:!0,bound:!0});function Ct(e){return function(t,n){return w(t)?Me(t.name||St,t,e):w(n)?Me(t,n,e):_(n)?K(t,n,e?xt:Rt):_(t)?G(ee(e?At:It,{name:t,autoAction:e})):void 0}}var Lt=Ct(!1);Object.assign(Lt,Rt);var Bt=Ct(!0);function Ut(e){return Ve(e.name,!1,e,this,void 0)}function Dt(e){return w(e)&&!0===e.isMobxAction}function jt(e,t){var n,r;void 0===t&&(t=p);var i,s=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)i=new _t(s,(function(){this.track(c)}),t.onError,t.requiresObservable);else{var o=Vt(t),a=!1;i=new _t(s,(function(){a||(a=!0,o((function(){a=!1,i.isDisposed_||i.track(c)})))}),t.onError,t.requiresObservable)}function c(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Bt,xt),Lt.bound=G(Ot),Bt.bound=G(Pt);var Mt=function(e){return e()};function Vt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Mt}function Ft(e,t,n){var r;void 0===n&&(n=p);var i,s,o,a,c=null!=(r=n.name)?r:"Reaction",l=Lt(c,n.onError?(i=n.onError,s=t,function(){try{return s.apply(this,arguments)}catch(e){i.call(this,e)}}):t),u=!n.scheduler&&!n.delay,d=Vt(n),h=!0,f=!1,m=n.compareStructural?$.structural:n.equals||$.default,b=new _t(c,(function(){h||u?y():f||(f=!0,d(y))}),n.onError,n.requiresObservable);function y(){if(f=!1,!b.isDisposed_){var t=!1;b.track((function(){var n=Fe(!1,(function(){return e(b)}));t=h||!m(o,n),a=o,o=n})),(h&&n.fireImmediately||!h&&t)&&l(o,a,b),h=!1}}return b.schedule_(),b.getDisposer_()}var zt="onBO";function Wt(e,t,n){return Gt("onBUO",e,t,n)}function Gt(e,t,n,r){var i="function"==typeof r?tr(t,n):tr(t),s=w(r)?r:n,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var e=i[o];e&&(e.delete(s),0===e.size&&delete i[o])}}function Kt(e,t,n,r){var i=L(t),s=Mn(e,r)[H];yt();try{x(i).forEach((function(e){s.extend_(e,i[e],!n||(!(e in n)||n[e]))}))}finally{gt()}return e}var Ht=0;function qt(){this.message="FLOW_CANCELLED"}qt.prototype=Object.create(Error.prototype);var Jt=ie("flow"),Yt=ie("flow.bound",{bound:!0}),$t=Object.assign((function(e,t){if(_(t))return K(e,t,Jt);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,s=++Ht,o=Lt(r+" - runid: "+s+" - init",n).apply(t,i),a=void 0,c=new Promise((function(t,n){var i=0;function c(e){var t;a=void 0;try{t=Lt(r+" - runid: "+s+" - yield "+i++,o.next).call(o,e)}catch(e){return n(e)}u(t)}function l(e){var t;a=void 0;try{t=Lt(r+" - runid: "+s+" - yield "+i++,o.throw).call(o,e)}catch(e){return n(e)}u(t)}function u(e){if(!w(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(c,l);e.then(u,n)}e=n,c(void 0)}));return c.cancel=Lt(r+" - runid: "+s+" - cancel",(function(){try{a&&Xt(a);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(v,v),Xt(n),e(new qt)}catch(t){e(t)}})),c};return i.isMobXFlow=!0,i}),Jt);function Xt(e){w(e.cancel)&&e.cancel()}function Qt(e){return!0===(null==e?void 0:e.isMobXFlow)}function Zt(e,t){return!!e&&(void 0!==t?!!zn(e)&&e[H].values_.has(t):zn(e)||!!e[H]||J(e)||Et(e)||Xe(e))}function en(e){return Zt(e)}function tn(e){switch(e.length){case 0:return ft.trackingDerivation;case 1:return tr(e[0]);case 2:return tr(e[0],e[1])}}function nn(e,t){void 0===t&&(t=void 0),yt();try{return e.apply(t)}finally{gt()}}function rn(e){return e[H]}$t.bound=G(Yt);var sn={has:function(e,t){return rn(e).has_(t)},get:function(e,t){return rn(e).get_(t)},set:function(e,t,n){var r;return!!_(t)&&(null==(r=rn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!_(t)&&(null==(n=rn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=rn(e).defineProperty_(t,n))||r},ownKeys:function(e){return rn(e).ownKeys_()},preventExtensions:function(e){o(13)}};function on(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function an(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function cn(e,t){var n=st();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&((t=r[i](t))&&!t.type&&o(14),t);i++);return t}finally{ot(n)}}function ln(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function un(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function dn(e,t){var n=st(),r=e.changeListeners_;if(r){for(var i=0,s=(r=r.slice()).length;i<s;i++)r[i](t);ot(n)}}var hn="splice",fn="update",pn={get:function(e,t){var n=e[H];return t===H?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?C(yn,t)?yn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[H];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){o(15)}},mn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new q(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return an(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),un(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&o("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&o(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Zn(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=f),on(this)){var s=cn(this,{object:this.proxy_,type:hn,index:e,removedCount:t,added:n});if(!s)return f;t=s.removedCount,n=s.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var a=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,a),this.dehanceValues_(a)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),s=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var a=0;a<s.length;a++)this.values_[e+n.length+a]=s[a];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=ln(this),s=i||r?{observableKind:"array",object:this.proxy_,type:fn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&dn(this,s)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=ln(this),s=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:hn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&dn(this,s)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(on(this)){var i=cn(this,{type:fn,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):o(17,e,n.length)},e}();function bn(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),y();var i=new mn(n,t,r,!1);I(i.values_,H,i);var s=new Proxy(i.values_,pn);if(i.proxy_=s,e&&e.length){var o=ze(!0);i.spliceWithArray_(0,0,e),We(o)}return s}var yn={clear:function(){return this.splice(0)},replace:function(e){var t=this[H];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=this[H];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,t)}return s.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[H].spliceWithArray_(e,t,n)},push:function(){for(var e=this[H],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[H].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[H],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return ft.trackingDerivation&&o(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ft.trackingDerivation&&o(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[H],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function gn(e,t){"function"==typeof Array.prototype[e]&&(yn[e]=t(e))}function vn(e){return function(){var t=this[H];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function wn(e){return function(t,n){var r=this,i=this[H];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function _n(e){return function(){var t=this,n=this[H];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}gn("concat",vn),gn("flat",vn),gn("includes",vn),gn("indexOf",vn),gn("join",vn),gn("lastIndexOf",vn),gn("slice",vn),gn("toString",vn),gn("toLocaleString",vn),gn("every",wn),gn("filter",wn),gn("find",wn),gn("findIndex",wn),gn("flatMap",wn),gn("forEach",wn),gn("map",wn),gn("some",wn),gn("reduce",_n),gn("reduceRight",_n);var kn,Tn,Nn=A("ObservableArrayAdministration",mn);function En(e){return k(e)&&Nn(e[H])}var In={},An="add",Sn="delete";kn=Symbol.iterator,Tn=Symbol.toStringTag;var Rn,On,xn=function(){function e(e,t,n){var r=this;void 0===t&&(t=X),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[H]=In,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,w(Map)||o(18),this.keysAtom_=Y("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Fe(!0,(function(){r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!ft.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Ke(this.has_(e),Q,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Wt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(on(this)){var r=cn(this,{type:n?fn:An,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,on(this))&&!cn(this,{type:Sn,object:this,name:e}))return!1;if(this.has_(e)){var n=ln(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Sn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return nn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&dn(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==ft.UNCHANGED){var r=ln(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:fn,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&dn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,nn((function(){var r,i=new Ke(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=ln(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:An,object:this,name:e,newValue:t}:null;r&&dn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return cr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return cr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[kn]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=z(this);!(n=r()).done;){var i=n.value,s=i[0],o=i[1];e.call(t,o,s,this)}},t.merge=function(e){var t=this;return Pn(e)&&(e=new Map(e)),nn((function(){T(e)?function(e){var t=Object.keys(e);if(!O)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return h.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):S(e)?(e.constructor!==Map&&o(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&o(20,e)})),this},t.clear=function(){var e=this;nn((function(){it((function(){for(var t,n=z(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return nn((function(){for(var n,r=function(e){if(S(e)||Pn(e))return e;if(Array.isArray(e))return new Map(e);if(T(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return o(21,e)}(e),i=new Map,s=!1,a=z(t.data_.keys());!(n=a()).done;){var c=n.value;if(!r.has(c))if(t.delete(c))s=!0;else{var l=t.data_.get(c);i.set(c,l)}}for(var u,d=z(r.entries());!(u=d()).done;){var h=u.value,f=h[0],p=h[1],m=t.data_.has(f);if(t.set(f,p),t.data_.has(f)){var b=t.data_.get(f);i.set(f,b),m||(s=!0)}}if(!s)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var y=t.data_.keys(),g=i.keys(),v=y.next(),w=g.next();!v.done;){if(v.value!==w.value){t.keysAtom_.reportChanged();break}v=y.next(),w=g.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return un(this,e)},t.intercept_=function(e){return an(this,e)},U(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Tn,get:function(){return"Map"}}]),e}(),Pn=A("ObservableMap",xn);var Cn={};Rn=Symbol.iterator,On=Symbol.toStringTag;var Ln=function(){function e(e,t,n){void 0===t&&(t=X),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[H]=Cn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,w(Set)||o(22),this.atom_=Y(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;nn((function(){it((function(){for(var t,n=z(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=z(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,on(this))&&!cn(this,{type:An,object:this,newValue:e}))return this;if(!this.has(e)){nn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=ln(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:An,object:this,newValue:e}:null;n&&dn(this,r)}return this},t.delete=function(e){var t=this;if(on(this)&&!cn(this,{type:Sn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=ln(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Sn,object:this,oldValue:e}:null;return nn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&dn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return cr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return cr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Bn(e)&&(e=new Set(e)),nn((function(){Array.isArray(e)||R(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&o("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return un(this,e)},t.intercept_=function(e){return an(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Rn]=function(){return this.values()},U(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:On,get:function(){return"Set"}}]),e}(),Bn=A("ObservableSet",Ln),Un=Object.create(null),Dn="remove",jn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=pe),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new q("ObservableObject.keys"),this.isPlainObject_=T(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof $e)return n.set(t),!0;if(on(this)){var r=cn(this,{type:fn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==ft.UNCHANGED){var i=ln(this),s=i?{type:fn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&dn(this,s)}return!0},t.get_=function(e){return ft.trackingDerivation&&!C(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),C(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!ft.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ke(e in this.target_,Q,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(Gn(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[W])&&n[e])return;o(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==h;){var i=u(r,e);if(i){var s=t.make_(this,e,i,r);if(0===s)return;if(1===s)break}r=Object.getPrototypeOf(r)}Wn(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);Gn(this,n,e);var i=n.extend_(this,e,t,r);return i&&Wn(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{yt();var r=this.delete_(e);if(!r)return r;if(on(this)){var i=cn(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:t.value});if(!i)return null;var s=i.newValue;t.value!==s&&(t=D({},t,{value:s}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else d(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{gt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{yt();var i=this.delete_(e);if(!i)return i;if(on(this)){var s=cn(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:t});if(!s)return null;t=s.newValue}var o=Fn(e),a={configurable:!ft.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,a))return!1}else d(this.target_,e,a);var c=new Ke(t,n,"ObservableObject.key",!1);this.values_.set(e,c),this.notifyPropertyAddition_(e,c.value_)}finally{gt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{yt();var r=this.delete_(e);if(!r)return r;if(on(this))if(!cn(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Fn(e),s={configurable:!ft.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,s))return!1}else d(this.target_,e,s);this.values_.set(e,new $e(t)),this.notifyPropertyAddition_(e,void 0)}finally{gt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!C(this.target_,e))return!0;if(on(this)&&!cn(this,{object:this.proxy_||this.target_,name:e,type:Dn}))return null;try{var n,r;yt();var i,s=ln(this),o=this.values_.get(e),a=void 0;if(!o&&s)a=null==(i=u(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof Ke&&(a=o.value_),wt(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),s){var c={type:Dn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};s&&dn(this,c)}}finally{gt()}return!0},t.observe_=function(e,t){return un(this,e)},t.intercept_=function(e){return an(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=ln(this);if(i){var s=i?{type:An,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&dn(this,s)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),x(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Mn(e,t){var n;if(C(e,H))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new jn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:me(e):void 0}(t));return E(e,H,i),e}var Vn=A("ObservableObjectAdministration",jn);function Fn(e){return Un[e]||(Un[e]={get:function(){return this[H].getObservablePropValue_(e)},set:function(t){return this[H].setObservablePropValue_(e,t)}})}function zn(e){return!!k(e)&&Vn(e[H])}function Wn(e,t,n){var r;null==(r=e.target_[W])||delete r[n]}function Gn(e,t,n){}var Kn,Hn,qn=Xn(0),Jn=0,Yn=function(){};Kn=Yn,Hn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Kn.prototype,Hn):void 0!==Kn.prototype.__proto__?Kn.prototype.__proto__=Hn:Kn.prototype=Hn;var $n=function(e,t,n){function r(t,n,r,i){var s;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),s=e.call(this)||this;var o=new mn(r,n,i,!0);if(o.proxy_=V(s),I(V(s),H,o),t&&t.length){var a=ze(!0);s.spliceWithArray(0,0,t),We(a)}return Object.defineProperty(V(s),"0",qn),s}j(r,e);var i=r.prototype;return i.concat=function(){this[H].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return En(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return cr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},U(r,[{key:"length",get:function(){return this[H].getArrayLength_()},set:function(e){this[H].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(Yn,Symbol.toStringTag,Symbol.iterator);function Xn(e){return{enumerable:!1,configurable:!0,get:function(){return this[H].get_(e)},set:function(t){this[H].set_(e,t)}}}function Qn(e){d($n.prototype,""+e,Xn(e))}function Zn(e){if(e>Jn){for(var t=Jn;t<e+100;t++)Qn(t);Jn=e}}function er(e,t,n){return new $n(e,t,n)}function tr(e,t){if("object"==typeof e&&null!==e){if(En(e))return void 0!==t&&o(23),e[H].atom_;if(Bn(e))return e[H];if(Pn(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||o(25,t,rr(e)),n}if(zn(e)){if(!t)return o(26);var r=e[H].values_.get(t);return r||o(27,t,rr(e)),r}if(J(e)||Xe(e)||Et(e))return e}else if(w(e)&&Et(e[H]))return e[H];o(28)}function nr(e,t){return e||o(29),void 0!==t?nr(tr(e,t)):J(e)||Xe(e)||Et(e)||Pn(e)||Bn(e)?e:e[H]?e[H]:void o(24,e)}function rr(e,t){var n;if(void 0!==t)n=tr(e,t);else{if(Dt(e))return e.name;n=zn(e)||Pn(e)||Bn(e)?nr(e):tr(e)}return n.name_}Object.entries(yn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&E($n.prototype,t,n)})),Zn(1e3);var ir=h.toString;function sr(e,t,n){return void 0===n&&(n=-1),or(e,t,n)}function or(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var s=typeof e;if("function"!==s&&"object"!==s&&"object"!=typeof t)return!1;var o=ir.call(e);if(o!==ir.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=ar(e),t=ar(t);var a="[object Array]"===o;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(w(c)&&c instanceof c&&w(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!or(e[u],t[u],n-1,r,i))return!1}else{var d,h=Object.keys(e);if(u=h.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!C(t,d=h[u])||!or(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function ar(e){return En(e)?e.slice():S(e)||Pn(e)||R(e)||Bn(e)?Array.from(e.entries()):e}function cr(e){return e[Symbol.iterator]=lr,e}function lr(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===c()[e]&&o("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:rr},$mobx:H});function ur(e,t){const n=e.slice();return n.push(t),n}const dr=["apply","construct","defineProperty","deleteProperty","enumerate","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],hr={get:1,set:1,deleteProperty:1,has:1,defineProperty:1,getOwnPropertyDescriptor:1};var fr=function(e,t){return fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fr(e,t)};function pr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function mr(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function br(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}Object.create;function yr(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function vr(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function wr(e){return this instanceof wr?(this.v=e,this):new wr(e)}function _r(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof wr?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(e){u(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function kr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=yr(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;function Tr(e){return"function"==typeof e}function Nr(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Er=Nr((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Ir(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ar=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=yr(s),a=o.next();!a.done;a=o.next()){a.value.remove(this)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else s.remove(this);var c=this.initialTeardown;if(Tr(c))try{c()}catch(e){i=e instanceof Er?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=yr(l),d=u.next();!d.done;d=u.next()){var h=d.value;try{Or(h)}catch(e){i=null!=i?i:[],e instanceof Er?i=vr(vr([],gr(i)),gr(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(i)throw new Er(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Or(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Ir(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ir(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Sr=Ar.EMPTY;function Rr(e){return e instanceof Ar||e&&"closed"in e&&Tr(e.remove)&&Tr(e.add)&&Tr(e.unsubscribe)}function Or(e){Tr(e)?e():e.unsubscribe()}var xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pr={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Pr.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,vr([e,t],gr(n))):setTimeout.apply(void 0,vr([e,t],gr(n)))},clearTimeout:function(e){var t=Pr.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Cr(e){Pr.setTimeout((function(){var t=xr.onUnhandledError;if(!t)throw e;t(e)}))}function Lr(){}var Br=Dr("C",void 0,void 0);function Ur(e){return Dr("N",e,void 0)}function Dr(e,t,n){return{kind:e,value:t,error:n}}var jr=null;function Mr(e){if(xr.useDeprecatedSynchronousErrorHandling){var t=!jr;if(t&&(jr={errorThrown:!1,error:null}),e(),t){var n=jr,r=n.errorThrown,i=n.error;if(jr=null,r)throw i}}else e()}var Vr=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Rr(t)&&t.add(n)):n.destination=qr,n}return pr(t,e),t.create=function(e,t,n){return new Gr(e,t,n)},t.prototype.next=function(e){this.isStopped?Hr(Ur(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Hr(Dr("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Hr(Br,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ar),Fr=Function.prototype.bind;function zr(e,t){return Fr.call(e,t)}var Wr=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Kr(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Kr(e)}else Kr(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Kr(e)}},e}(),Gr=function(e){function t(t,n,r){var i,s,o=e.call(this)||this;Tr(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:o&&xr.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&zr(t.next,s),error:t.error&&zr(t.error,s),complete:t.complete&&zr(t.complete,s)}):i=t;return o.destination=new Wr(i),o}return pr(t,e),t}(Vr);function Kr(e){var t;xr.useDeprecatedSynchronousErrorHandling?(t=e,xr.useDeprecatedSynchronousErrorHandling&&jr&&(jr.errorThrown=!0,jr.error=t)):Cr(e)}function Hr(e,t){var n=xr.onStoppedNotification;n&&Pr.setTimeout((function(){return n(e,t)}))}var qr={closed:!0,next:Lr,error:function(e){throw e},complete:Lr},Jr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Yr(e){return e}function $r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xr(e)}function Xr(e){return 0===e.length?Yr:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Qr=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,s=(r=e)&&r instanceof Vr||function(e){return e&&Tr(e.next)&&Tr(e.error)&&Tr(e.complete)}(r)&&Rr(r)?e:new Gr(e,t,n);return Mr((function(){var e=i,t=e.operator,n=e.source;s.add(t?t.call(s,n):n?i._subscribe(s):i._trySubscribe(s))})),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Zr(t))((function(t,r){var i=new Gr({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Jr]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xr(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Zr(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Zr(e){var t;return null!==(t=null!=e?e:xr.Promise)&&void 0!==t?t:Promise}var ei=Nr((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ti=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return pr(t,e),t.prototype.lift=function(e){var t=new ni(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new ei},t.prototype.next=function(e){var t=this;Mr((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=yr(t.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Mr((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Mr((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,s=n.observers;return r||i?Sr:(this.currentObservers=null,s.push(e),new Ar((function(){t.currentObservers=null,Ir(s,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new Qr;return e.source=this,e},t.create=function(e,t){return new ni(e,t)},t}(Qr),ni=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return pr(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Sr},t}(ti),ri={now:function(){return(ri.delegate||Date).now()},delegate:void 0},ii=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=ri);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return pr(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,s=n._infiniteTimeWindow,o=n._timestampProvider,a=n._windowTime;r||(i.push(t),!s&&i.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){for(var o=n.now(),a=0,c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}},t}(ti);function si(e){return function(t){if(function(e){return Tr(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function oi(e,t,n,r,i){return new ai(e,t,n,r,i)}var ai=function(e){function t(t,n,r,i,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return pr(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Vr);function ci(e,t){return si((function(n,r){var i=0;n.subscribe(oi(r,(function(n){r.next(e.call(t,n,i++))})))}))}var li=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ui(e){return Tr(null==e?void 0:e.then)}function di(e){return Tr(e[Jr])}function hi(e){return Symbol.asyncIterator&&Tr(null==e?void 0:e[Symbol.asyncIterator])}function fi(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var pi="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function mi(e){return Tr(null==e?void 0:e[pi])}function bi(e){return _r(this,arguments,(function(){var t,n,r;return br(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,wr(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,wr(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,wr(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function yi(e){return Tr(null==e?void 0:e.getReader)}function gi(e){if(e instanceof Qr)return e;if(null!=e){if(di(e))return i=e,new Qr((function(e){var t=i[Jr]();if(Tr(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(li(e))return r=e,new Qr((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(ui(e))return n=e,new Qr((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Cr)}));if(hi(e))return vi(e);if(mi(e))return t=e,new Qr((function(e){var n,r;try{for(var i=yr(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(yi(e))return vi(bi(e))}var t,n,r,i;throw fi(e)}function vi(e){return new Qr((function(t){(function(e,t){var n,r,i,s;return mr(this,void 0,void 0,(function(){var o,a;return br(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=kr(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function wi(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var s=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(s),!i)return s}function _i(e,t,n,r,i,s,o,a){var c=[],l=0,u=0,d=!1,h=function(){!d||c.length||l||t.complete()},f=function(e){return l<r?p(e):c.push(e)},p=function(e){s&&t.next(e),l++;var a=!1;gi(n(e,u++)).subscribe(oi(t,(function(e){null==i||i(e),s?f(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{l--;for(var e=function(){var e=c.shift();o?wi(t,o,(function(){return p(e)})):p(e)};c.length&&l<r;)e();h()}catch(e){t.error(e)}})))};return e.subscribe(oi(t,f,(function(){d=!0,h()}))),function(){null==a||a()}}function ki(e,t,n){return void 0===n&&(n=1/0),Tr(t)?ki((function(n,r){return ci((function(e,i){return t(n,e,r,i)}))(gi(e(n,r)))}),n):("number"==typeof t&&(n=t),si((function(t,r){return _i(t,r,e,n)})))}function Ti(){return void 0===(e=1)&&(e=1/0),ki(Yr,e);var e}function Ni(e){return e&&Tr(e.schedule)}function Ei(e){return e[e.length-1]}function Ii(e){return Ni(Ei(e))?e.pop():void 0}function Ai(e,t){return void 0===t&&(t=0),si((function(n,r){n.subscribe(oi(r,(function(n){return wi(r,e,(function(){return r.next(n)}),t)}),(function(){return wi(r,e,(function(){return r.complete()}),t)}),(function(n){return wi(r,e,(function(){return r.error(n)}),t)})))}))}function Si(e,t){return void 0===t&&(t=0),si((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Ri(e,t){return gi(e).pipe(Si(t),Ai(t))}function Oi(e,t){return gi(e).pipe(Si(t),Ai(t))}function xi(e,t){return new Qr((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}function Pi(e,t){return new Qr((function(n){var r;return wi(n,t,(function(){r=e[pi](),wi(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return Tr(null==r?void 0:r.return)&&r.return()}}))}function Ci(e,t){if(!e)throw new Error("Iterable cannot be null");return new Qr((function(n){wi(n,t,(function(){var r=e[Symbol.asyncIterator]();wi(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Li(e,t){return Ci(bi(e),t)}function Bi(e,t){if(null!=e){if(di(e))return Ri(e,t);if(li(e))return xi(e,t);if(ui(e))return Oi(e,t);if(hi(e))return Ci(e,t);if(mi(e))return Pi(e,t);if(yi(e))return Li(e,t)}throw fi(e)}function Ui(e,t){return t?Bi(e,t):gi(e)}function Di(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ti()(Ui(e,Ii(e)))}var ji=new Qr((function(e){return e.complete()}));var Mi=Array.isArray;function Vi(e){return ci((function(t){return function(e,t){return Mi(t)?e.apply(void 0,vr([],gr(t))):e(t)}(e,t)}))}var Fi=["addListener","removeListener"],zi=["addEventListener","removeEventListener"],Wi=["on","off"];function Gi(e,t,n,r){if(Tr(n)&&(r=n,n=void 0),r)return Gi(e,t,n).pipe(Vi(r));var i=gr(function(e){return Tr(e.addEventListener)&&Tr(e.removeEventListener)}(e)?zi.map((function(r){return function(i){return e[r](t,i,n)}})):function(e){return Tr(e.addListener)&&Tr(e.removeListener)}(e)?Fi.map(Ki(e,t)):function(e){return Tr(e.on)&&Tr(e.off)}(e)?Wi.map(Ki(e,t)):[],2),s=i[0],o=i[1];if(!s&&li(e))return ki((function(e){return Gi(e,t,n)}))(gi(e));if(!s)throw new TypeError("Invalid event target");return new Qr((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return s(t),function(){return o(t)}}))}function Ki(e,t){return function(n){return function(r){return e[n](t,r)}}}function Hi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ii(e);return Ui(e,n)}function qi(e,t,n){if(null==t&&(t=e,e=0),t<=0)return ji;var r=t+e;return new Qr(n?function(t){var i=e;return n.schedule((function(){i<r?(t.next(i++),this.schedule()):t.complete()}))}:function(t){for(var n=e;n<r&&!t.closed;)t.next(n++);t.complete()})}function Ji(e,t){return Tr(t)?ki(e,t,1):ki(e,1)}var Yi=function(e){function t(t,n){return e.call(this)||this}return pr(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Ar),$i={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=$i.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,vr([e,t],gr(n))):setInterval.apply(void 0,vr([e,t],gr(n)))},clearInterval:function(e){var t=$i.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Xi=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return pr(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),$i.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;$i.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ir(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Yi),Qi=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=ri.now,e}(),Zi=new(function(e){function t(t,n){void 0===n&&(n=Qi.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return pr(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Qi))(Xi),es=Zi;function ts(e){return e<=0?function(){return ji}:si((function(t,n){var r=0;t.subscribe(oi(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function ns(e){return ci((function(){return e}))}function rs(e,t){return t?function(n){return Di(t.pipe(ts(1),si((function(e,t){e.subscribe(oi(t,Lr))}))),n.pipe(rs(e)))}:ki((function(t,n){return e(t,n).pipe(ts(1),ns(t))}))}function is(e,t,n){void 0===e&&(e=0),void 0===n&&(n=es);var r=-1;return null!=t&&(Ni(t)?n=t:r=t),new Qr((function(t){var i,s=(i=e)instanceof Date&&!isNaN(i)?+e-n.now():e;s<0&&(s=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),s)}))}function ss(e,t){void 0===t&&(t=Zi);var n=is(e,t);return rs((function(){return n}))}function os(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Di(t,Hi.apply(void 0,vr([],gr(e))))}}function as(e,t){return si((function(n,r){var i=0;n.subscribe(oi(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}var cs=Nr((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function ls(e){return si((function(t,n){var r=!1;t.subscribe(oi(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function us(e){return void 0===e&&(e=ds),si((function(t,n){var r=!1;t.subscribe(oi(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function ds(){return new cs}function hs(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?as((function(t,n){return e(t,n,r)})):Yr,ts(1),n?ls(t):us((function(){return new cs})))}}function fs(e,t,n,r,i){return function(s,o){var a=n,c=t,l=0;s.subscribe(oi(o,(function(t){var n=l++;c=a?e(c,t,n):(a=!0,t),r&&o.next(c)}),i&&function(){a&&o.next(c),o.complete()}))}}function ps(e,t){return si(fs(e,t,arguments.length>=2,!0))}var ms={};n(ms,"logger",(()=>_c)),n(ms,"Signer",(()=>s("7Ct33").Signer)),n(ms,"Wallet",(()=>s("1oiPr").Wallet)),n(ms,"VoidSigner",(()=>s("7Ct33").VoidSigner)),n(ms,"getDefaultProvider",(()=>gc)),n(ms,"providers",(()=>Gs)),n(ms,"BaseContract",(()=>bs.BaseContract)),n(ms,"Contract",(()=>bs.Contract)),n(ms,"ContractFactory",(()=>bs.ContractFactory)),n(ms,"BigNumber",(()=>s("frbU3").BigNumber)),n(ms,"FixedNumber",(()=>s("frbU3").FixedNumber)),n(ms,"constants",(()=>s("hT0jX"))),n(ms,"errors",(()=>s("5t9tT").ErrorCode)),n(ms,"utils",(()=>vc)),n(ms,"wordlists",(()=>s("2jabH").wordlists)),n(ms,"version",(()=>wc)),n(ms,"Wordlist",(()=>s("2jabH").Wordlist));var bs={};n(bs,"BaseContract",(()=>Vs),(e=>Vs=e)),n(bs,"Contract",(()=>Fs),(e=>Fs=e)),n(bs,"ContractFactory",(()=>zs),(e=>zs=e));var ys=s("ibnKM"),gs=s("gWRSR"),vs=s("7Ct33"),ws=s("2KrXy"),_s=s("frbU3"),ks=s("6k2y8"),Ts=s("9d6XD"),Ns=s("9DQOe"),Es=s("5t9tT");var Is=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const As=new(0,Es.Logger)("contracts/5.7.0"),Ss={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Rs(e,t){return Is(this,void 0,void 0,(function*(){const n=yield t;"string"!=typeof n&&As.throwArgumentError("invalid address or ENS name","name",n);try{return(0,ws.getAddress)(n)}catch(e){}e||As.throwError("a provider or signer is needed to resolve ENS names",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield e.resolveName(n);return null==r&&As.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r}))}function Os(e,t,n){return Is(this,void 0,void 0,(function*(){return Array.isArray(n)?yield Promise.all(n.map(((n,r)=>Os(e,Array.isArray(t)?t[r]:t[n.name],n)))):"address"===n.type?yield Rs(e,t):"tuple"===n.type?yield Os(e,t,n.components):"array"===n.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>Os(e,t,n.arrayChildren)))):Promise.reject(As.makeError("invalid value for array",Es.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function xs(e,t,n){return Is(this,void 0,void 0,(function*(){let r={};n.length===t.inputs.length+1&&"object"==typeof n[n.length-1]&&(r=(0,Ts.shallowCopy)(n.pop())),As.checkArgumentCount(n.length,t.inputs.length,"passed to contract"),e.signer?r.from?r.from=(0,Ts.resolveProperties)({override:Rs(e.signer,r.from),signer:e.signer.getAddress()}).then((e=>Is(this,void 0,void 0,(function*(){return(0,ws.getAddress)(e.signer)!==e.override&&As.throwError("Contract with a Signer cannot override from",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):r.from=e.signer.getAddress():r.from&&(r.from=Rs(e.provider,r.from));const i=yield(0,Ts.resolveProperties)({args:Os(e.signer||e.provider,n,t.inputs),address:e.resolvedAddress,overrides:(0,Ts.resolveProperties)(r)||{}}),s=e.interface.encodeFunctionData(t,i.args),o={data:s,to:i.address},a=i.overrides;if(null!=a.nonce&&(o.nonce=_s.BigNumber.from(a.nonce).toNumber()),null!=a.gasLimit&&(o.gasLimit=_s.BigNumber.from(a.gasLimit)),null!=a.gasPrice&&(o.gasPrice=_s.BigNumber.from(a.gasPrice)),null!=a.maxFeePerGas&&(o.maxFeePerGas=_s.BigNumber.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=_s.BigNumber.from(a.maxPriorityFeePerGas)),null!=a.from&&(o.from=a.from),null!=a.type&&(o.type=a.type),null!=a.accessList&&(o.accessList=(0,Ns.accessListify)(a.accessList)),null==o.gasLimit&&null!=t.gas){let e=21e3;const n=(0,ks.arrayify)(s);for(let t=0;t<n.length;t++)e+=4,n[t]&&(e+=64);o.gasLimit=_s.BigNumber.from(t.gas).add(e)}if(a.value){const e=_s.BigNumber.from(a.value);e.isZero()||t.payable||As.throwError("non-payable method cannot override value",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),o.value=e}a.customData&&(o.customData=(0,Ts.shallowCopy)(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const c=Object.keys(r).filter((e=>null!=r[e]));return c.length&&As.throwError(`cannot override ${c.map((e=>JSON.stringify(e))).join(",")}`,Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o}))}function Ps(e,t){const n=t.wait.bind(t);t.wait=t=>n(t).then((t=>(t.events=t.logs.map((n=>{let r=(0,Ts.deepCopy)(n),i=null;try{i=e.interface.parseLog(n)}catch(e){}return i&&(r.args=i.args,r.decode=(t,n)=>e.interface.decodeEventLog(i.eventFragment,t,n),r.event=i.name,r.eventSignature=i.signature),r.removeListener=()=>e.provider,r.getBlock=()=>e.provider.getBlock(t.blockHash),r.getTransaction=()=>e.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>Promise.resolve(t),r})),t)))}function Cs(e,t,n){const r=e.signer||e.provider;return function(...i){return Is(this,void 0,void 0,(function*(){let s;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){const e=(0,Ts.shallowCopy)(i.pop());null!=e.blockTag&&(s=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(s));const o=yield xs(e,t,i),a=yield r.call(o,s);try{let r=e.interface.decodeFunctionResult(t,a);return n&&1===t.outputs.length&&(r=r[0]),r}catch(t){throw t.code===Es.Logger.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=o),t}}))}}function Ls(e,t,n){return t.constant?Cs(e,t,n):function(e,t){return function(...n){return Is(this,void 0,void 0,(function*(){e.signer||As.throwError("sending a transaction requires a signer",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const r=yield xs(e,t,n),i=yield e.signer.sendTransaction(r);return Ps(e,i),i}))}}(e,t)}function Bs(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class Us{constructor(e,t){(0,Ts.defineReadOnly)(this,"tag",e),(0,Ts.defineReadOnly)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((n=>!(!t&&n.listener===e)||(t=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const n=e.slice();return setTimeout((()=>{t.listener.apply(this,n)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class Ds extends Us{constructor(){super("error",null)}}class js extends Us{constructor(e,t,n,r){const i={address:e};let s=t.getEventTopic(n);r?(s!==r[0]&&As.throwArgumentError("topic mismatch","topics",r),i.topics=r.slice()):i.topics=[s],super(Bs(i),i),(0,Ts.defineReadOnly)(this,"address",e),(0,Ts.defineReadOnly)(this,"interface",t),(0,Ts.defineReadOnly)(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=(0,ys.checkResultErrors)(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Ms extends Us{constructor(e,t){super("*",{address:e}),(0,Ts.defineReadOnly)(this,"address",e),(0,Ts.defineReadOnly)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,n)=>this.interface.decodeEventLog(t.eventFragment,e,n),e.args=t.args}catch(e){}}}class Vs{constructor(e,t,n){(0,Ts.defineReadOnly)(this,"interface",(0,Ts.getStatic)(new.target,"getInterface")(t)),null==n?((0,Ts.defineReadOnly)(this,"provider",null),(0,Ts.defineReadOnly)(this,"signer",null)):vs.Signer.isSigner(n)?((0,Ts.defineReadOnly)(this,"provider",n.provider||null),(0,Ts.defineReadOnly)(this,"signer",n)):gs.Provider.isProvider(n)?((0,Ts.defineReadOnly)(this,"provider",n),(0,Ts.defineReadOnly)(this,"signer",null)):As.throwArgumentError("invalid signer or provider","signerOrProvider",n),(0,Ts.defineReadOnly)(this,"callStatic",{}),(0,Ts.defineReadOnly)(this,"estimateGas",{}),(0,Ts.defineReadOnly)(this,"functions",{}),(0,Ts.defineReadOnly)(this,"populateTransaction",{}),(0,Ts.defineReadOnly)(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const n=this.interface.events[t];(0,Ts.defineReadOnly)(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(n,e)}))),e[n.name]||(e[n.name]=[]),e[n.name].push(t)})),Object.keys(e).forEach((t=>{const n=e[t];1===n.length?(0,Ts.defineReadOnly)(this.filters,t,this.filters[n[0]]):As.warn(`Duplicate definition of ${t} (${n.join(", ")})`)}))}if((0,Ts.defineReadOnly)(this,"_runningEvents",{}),(0,Ts.defineReadOnly)(this,"_wrappedEmits",{}),null==e&&As.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,Ts.defineReadOnly)(this,"address",e),this.provider)(0,Ts.defineReadOnly)(this,"resolvedAddress",Rs(this.provider,e));else try{(0,Ts.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,ws.getAddress)(e)))}catch(e){As.throwError("provider is required to use ENS name as contract address",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const r={},i={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(i[e])As.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{i[e]=!0;{const n=t.name;r[`%${n}`]||(r[`%${n}`]=[]),r[`%${n}`].push(e)}null==this[e]&&(0,Ts.defineReadOnly)(this,e,Ls(this,t,!0)),null==this.functions[e]&&(0,Ts.defineReadOnly)(this.functions,e,Ls(this,t,!1)),null==this.callStatic[e]&&(0,Ts.defineReadOnly)(this.callStatic,e,Cs(this,t,!0)),null==this.populateTransaction[e]&&(0,Ts.defineReadOnly)(this.populateTransaction,e,function(e,t){return function(...n){return xs(e,t,n)}}(this,t)),null==this.estimateGas[e]&&(0,Ts.defineReadOnly)(this.estimateGas,e,function(e,t){const n=e.signer||e.provider;return function(...r){return Is(this,void 0,void 0,(function*(){n||As.throwError("estimate require a provider or signer",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield xs(e,t,r);return yield n.estimateGas(i)}))}}(this,t))}})),Object.keys(r).forEach((e=>{const t=r[e];if(t.length>1)return;e=e.substring(1);const n=t[0];try{null==this[e]&&(0,Ts.defineReadOnly)(this,e,this[n])}catch(e){}null==this.functions[e]&&(0,Ts.defineReadOnly)(this.functions,e,this.functions[n]),null==this.callStatic[e]&&(0,Ts.defineReadOnly)(this.callStatic,e,this.callStatic[n]),null==this.populateTransaction[e]&&(0,Ts.defineReadOnly)(this.populateTransaction,e,this.populateTransaction[n]),null==this.estimateGas[e]&&(0,Ts.defineReadOnly)(this.estimateGas,e,this.estimateGas[n])}))}static getContractAddress(e){return(0,ws.getContractAddress)(e)}static getInterface(e){return ys.Interface.isInterface(e)?e:new(0,ys.Interface)(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&As.throwError("contract not deployed",Es.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||As.throwError("sending a transactions require a signer",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=(0,Ts.shallowCopy)(e||{});return["from","to"].forEach((function(e){null!=t[e]&&As.throwError("cannot override "+e,Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new(0,vs.VoidSigner)(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,Ts.defineReadOnly)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return ys.Indexed.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new Ds);if("event"===e)return this._normalizeRunningEvent(new Us("event",null));if("*"===e)return this._normalizeRunningEvent(new Ms(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new js(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const n=this.interface.getEvent(t);return this._normalizeRunningEvent(new js(this.address,this.interface,n,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Us(Bs(t),t))}return this._normalizeRunningEvent(new Ms(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const r=(0,Ts.deepCopy)(t);return r.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},r.getBlock=()=>this.provider.getBlock(t.blockHash),r.getTransaction=()=>this.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(r),r}_addEventListener(e,t,n){if(this.provider||As.throwError("events require a provider or a signer with a provider",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=n=>{let r=this._wrapEvent(e,n,t);if(null==r.decodeError)try{const t=e.getEmit(r);this.emit(e.filter,...t)}catch(e){r.decodeError=e.error}null!=e.filter&&this.emit("event",r),null!=r.decodeError&&this.emit("error",r.decodeError,r)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,n){const r=this._getRunningEvent(e),i=(0,Ts.shallowCopy)(r.filter);return"string"==typeof t&&(0,ks.isHexString)(t,32)?(null!=n&&As.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=n?n:"latest"),this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(r,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),r=n.run(t)>0;return this._checkRunningEvents(n),r}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class Fs extends Vs{}class zs{constructor(e,t,n){let r=null;r="string"==typeof t?t:(0,ks.isBytes)(t)?(0,ks.hexlify)(t):t&&"string"==typeof t.object?t.object:"!","0x"!==r.substring(0,2)&&(r="0x"+r),(!(0,ks.isHexString)(r)||r.length%2)&&As.throwArgumentError("invalid bytecode","bytecode",t),n&&!vs.Signer.isSigner(n)&&As.throwArgumentError("invalid signer","signer",n),(0,Ts.defineReadOnly)(this,"bytecode",r),(0,Ts.defineReadOnly)(this,"interface",(0,Ts.getStatic)(new.target,"getInterface")(e)),(0,Ts.defineReadOnly)(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){t=(0,Ts.shallowCopy)(e.pop());for(const e in t)if(!Ss[e])throw new Error("unknown transaction override "+e)}if(["data","from","to"].forEach((e=>{null!=t[e]&&As.throwError("cannot override "+e,Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value){_s.BigNumber.from(t.value).isZero()||this.interface.deploy.payable||As.throwError("non-payable constructor cannot override value",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}return As.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=(0,ks.hexlify)((0,ks.concat)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Is(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),As.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Os(this.signer,e,this.interface.deploy.inputs);n.push(t);const r=this.getDeployTransaction(...n),i=yield this.signer.sendTransaction(r),s=(0,Ts.getStatic)(this.constructor,"getContractAddress")(i),o=(0,Ts.getStatic)(this.constructor,"getContract")(s,this.interface,this.signer);return Ps(o,i),(0,Ts.defineReadOnly)(o,"deployTransaction",i),o}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&As.throwError("missing compiler output",Es.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));const n=e.abi;let r=null;return e.bytecode?r=e.bytecode:e.evm&&e.evm.bytecode&&(r=e.evm.bytecode),new this(n,r,t)}static getInterface(e){return Fs.getInterface(e)}static getContractAddress(e){return(0,ws.getContractAddress)(e)}static getContract(e,t,n){return new Fs(e,t,n)}}_s=s("frbU3"),vs=s("7Ct33"),s("1oiPr");var Ws=s("hT0jX"),Gs={};n(Gs,"getDefaultProvider",(()=>gc)),n(Gs,"Provider",(()=>s("gWRSR").Provider)),n(Gs,"BaseProvider",(()=>Zs.BaseProvider)),n(Gs,"Resolver",(()=>Zs.Resolver)),n(Gs,"UrlJsonRpcProvider",(()=>fa.UrlJsonRpcProvider)),n(Gs,"FallbackProvider",(()=>Ma.FallbackProvider)),n(Gs,"AlchemyProvider",(()=>_a)),n(Gs,"AlchemyWebSocketProvider",(()=>wa)),n(Gs,"AnkrProvider",(()=>Ea)),n(Gs,"CloudflareProvider",(()=>Ia.CloudflareProvider)),n(Gs,"EtherscanProvider",(()=>Oa.EtherscanProvider)),n(Gs,"InfuraProvider",(()=>oc)),n(Gs,"InfuraWebSocketProvider",(()=>sc)),n(Gs,"JsonRpcProvider",(()=>Jo.JsonRpcProvider)),n(Gs,"JsonRpcBatchProvider",(()=>ac)),n(Gs,"NodesmithProvider",(()=>lc)),n(Gs,"PocketProvider",(()=>hc)),n(Gs,"StaticJsonRpcProvider",(()=>fa.StaticJsonRpcProvider)),n(Gs,"Web3Provider",(()=>bc)),n(Gs,"WebSocketProvider",(()=>qo.WebSocketProvider)),n(Gs,"IpcProvider",(()=>nc)),n(Gs,"JsonRpcSigner",(()=>Jo.JsonRpcSigner)),n(Gs,"getNetwork",(()=>Qs)),n(Gs,"isCommunityResource",(()=>wo)),n(Gs,"isCommunityResourcable",(()=>vo)),n(Gs,"showThrottleMessage",(()=>ko)),n(Gs,"Formatter",(()=>go));gs=s("gWRSR");const Ks=new(0,(Es=s("5t9tT")).Logger)("networks/5.7.1");function Hs(e){const t=function(t,n){null==n&&(n={});const r=[];if(t.InfuraProvider&&"-"!==n.infura)try{r.push(new t.InfuraProvider(e,n.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==n.etherscan)try{r.push(new t.EtherscanProvider(e,n.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==n.alchemy)try{r.push(new t.AlchemyProvider(e,n.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==n.pocket){const i=["goerli","ropsten","rinkeby","sepolia"];try{const s=new t.PocketProvider(e,n.pocket);s.network&&-1===i.indexOf(s.network.name)&&r.push(s)}catch(e){}}if(t.CloudflareProvider&&"-"!==n.cloudflare)try{r.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==n.ankr)try{const i=["ropsten"],s=new t.AnkrProvider(e,n.ankr);s.network&&-1===i.indexOf(s.network.name)&&r.push(s)}catch(e){}if(0===r.length)return null;if(t.FallbackProvider){let i=1;return null!=n.quorum?i=n.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(r,i)}return r[0]};return t.renetwork=function(e){return Hs(e)},t}function qs(e,t){const n=function(n,r){return n.JsonRpcProvider?new n.JsonRpcProvider(e,t):null};return n.renetwork=function(t){return qs(e,t)},n}const Js={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Hs("homestead")},Ys={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Hs("ropsten")},$s={chainId:63,name:"classicMordor",_defaultProvider:qs("https://www.ethercluster.com/mordor","classicMordor")},Xs={unspecified:{chainId:0,name:"unspecified"},homestead:Js,mainnet:Js,morden:{chainId:2,name:"morden"},ropsten:Ys,testnet:Ys,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Hs("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Hs("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Hs("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Hs("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:qs("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:$s,classicTestnet:$s,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:qs("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Hs("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Hs("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Qs(e){if(null==e)return null;if("number"==typeof e){for(const t in Xs){const n=Xs[t];if(n.chainId===e)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){const t=Xs[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=Xs[e.name];if(!t)return"number"!=typeof e.chainId&&Ks.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&Ks.throwArgumentError("network chainId mismatch","network",e);let n=e._defaultProvider||null;var r;return null==n&&t._defaultProvider&&(n=(r=t._defaultProvider)&&"function"==typeof r.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:n}}var Zs={};n(Zs,"Resolver",(()=>Wo),(e=>Wo=e)),n(Zs,"BaseProvider",(()=>Ho),(e=>Ho=e));gs=s("gWRSR");for(var eo,to=s("8BRal"),no=s("h84gp"),ro=(_s=s("frbU3"),ks=s("6k2y8"),Ws=s("hT0jX"),s("jrrKb")),io=(Ts=s("9d6XD"),s("5kE85")),so=s("ekh6m"),oo=s("6uGvI"),ao="qpzry9x8gf2tvdw0s3jn54khce6mua7l",co={},lo=0;lo<ao.length;lo++){var uo=ao.charAt(lo);if(void 0!==co[uo])throw new TypeError(uo+" is ambiguous");co[uo]=lo}function ho(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function fo(e){for(var t=1,n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=ho(t)^r>>5}for(t=ho(t),n=0;n<e.length;++n){var i=e.charCodeAt(n);t=ho(t)^31&i}return t}function po(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),r=e.toUpperCase();if(e!==n&&e!==r)return"Mixed-case string "+e;var i=(e=n).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var s=e.slice(0,i),o=e.slice(i+1);if(o.length<6)return"Data too short";var a=fo(s);if("string"==typeof a)return a;for(var c=[],l=0;l<o.length;++l){var u=o.charAt(l),d=co[u];if(void 0===d)return"Unknown character "+u;a=ho(a)^d,l+6>=o.length||c.push(d)}return 1!==a?"Invalid checksum for "+e:{prefix:s,words:c}}function mo(e,t,n,r){for(var i=0,s=0,o=(1<<n)-1,a=[],c=0;c<e.length;++c)for(i=i<<t|e[c],s+=t;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=t)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}eo={decodeUnsafe:function(){var e=po.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=po.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,t,n){if(n=n||90,e.length+7+t.length>n)throw new TypeError("Exceeds length limit");var r=fo(e=e.toLowerCase());if("string"==typeof r)throw new Error(r);for(var i=e+"1",s=0;s<t.length;++s){var o=t[s];if(o>>5!=0)throw new Error("Non 5-bit word");r=ho(r)^o,i+=ao.charAt(o)}for(s=0;s<6;++s)r=ho(r);for(r^=1,s=0;s<6;++s){i+=ao.charAt(r>>5*(5-s)&31)}return i},toWordsUnsafe:function(e){var t=mo(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=mo(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=mo(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=mo(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}};Es=s("5t9tT");const bo="providers/5.7.1";ws=s("2KrXy"),_s=s("frbU3"),ks=s("6k2y8"),Ws=s("hT0jX"),Ts=s("9d6XD"),Ns=s("9DQOe");const yo=new(0,(Es=s("5t9tT")).Logger)(bo);class go{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),r=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),a=this.number.bind(this),c=this.type.bind(this);return e.transaction={hash:s,type:c,accessList:go.allowNull(this.accessList.bind(this),null),blockHash:go.allowNull(s,null),blockNumber:go.allowNull(a,null),transactionIndex:go.allowNull(a,null),confirmations:go.allowNull(a,null),from:t,gasPrice:go.allowNull(n),maxPriorityFeePerGas:go.allowNull(n),maxFeePerGas:go.allowNull(n),gasLimit:n,to:go.allowNull(t,null),value:n,nonce:a,data:i,r:go.allowNull(this.uint256),s:go.allowNull(this.uint256),v:go.allowNull(a),creates:go.allowNull(t,null),raw:go.allowNull(i)},e.transactionRequest={from:go.allowNull(t),nonce:go.allowNull(a),gasLimit:go.allowNull(n),gasPrice:go.allowNull(n),maxPriorityFeePerGas:go.allowNull(n),maxFeePerGas:go.allowNull(n),to:go.allowNull(t),value:go.allowNull(n),data:go.allowNull((e=>this.data(e,!0))),type:go.allowNull(a),accessList:go.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:s,address:t,topics:go.arrayOf(s),data:i,logIndex:a,blockHash:s},e.receipt={to:go.allowNull(this.address,null),from:go.allowNull(this.address,null),contractAddress:go.allowNull(t,null),transactionIndex:a,root:go.allowNull(o),gasUsed:n,logsBloom:go.allowNull(i),blockHash:s,transactionHash:s,logs:go.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:go.allowNull(a,null),cumulativeGasUsed:n,effectiveGasPrice:go.allowNull(n),status:go.allowNull(a),type:c},e.block={hash:go.allowNull(s),parentHash:s,number:a,timestamp:a,nonce:go.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:go.allowNull(t),extraData:i,transactions:go.allowNull(go.arrayOf(s)),baseFeePerGas:go.allowNull(n)},e.blockWithTransactions=(0,Ts.shallowCopy)(e.block),e.blockWithTransactions.transactions=go.allowNull(go.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:go.allowNull(r,void 0),toBlock:go.allowNull(r,void 0),blockHash:go.allowNull(s,void 0),address:go.allowNull(t,void 0),topics:go.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:go.allowNull(a),blockHash:go.allowNull(s),transactionIndex:a,removed:go.allowNull(this.boolean.bind(this)),address:t,data:go.allowFalsish(i,"0x"),topics:go.arrayOf(s),transactionHash:s,logIndex:a},e}accessList(e){return(0,Ns.accessListify)(e||[])}number(e){return"0x"===e?0:_s.BigNumber.from(e).toNumber()}type(e){return"0x"===e||null==e?0:_s.BigNumber.from(e).toNumber()}bigNumber(e){return _s.BigNumber.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,ks.isHexString)(e))?e.toLowerCase():yo.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!=0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return(0,ws.getAddress)(e)}callAddress(e){if(!(0,ks.isHexString)(e,32))return null;const t=(0,ws.getAddress)((0,ks.hexDataSlice)(e,12));return t===Ws.AddressZero?null:t}contractAddress(e){return(0,ws.getContractAddress)(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||(0,ks.isHexString)(e))return(0,ks.hexValue)(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return 32!==(0,ks.hexDataLength)(n)?yo.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(null==e)return null;const t=_s.BigNumber.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!(0,ks.isHexString)(e))throw new Error("invalid uint256");return(0,ks.hexZeroPad)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const n=null!=e._difficulty?e._difficulty:e.difficulty,r=go.check(t,e);return r._difficulty=null==n?null:_s.BigNumber.from(n),r}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return go.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&_s.BigNumber.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=go.check(this.formats.transaction,e);if(null!=e.chainId){let n=e.chainId;(0,ks.isHexString)(n)&&(n=_s.BigNumber.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;null==n&&null==t.v&&(n=e.chainId),(0,ks.isHexString)(n)&&(n=_s.BigNumber.from(n).toNumber()),"number"!=typeof n&&null!=t.v&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),t.chainId=n}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return(0,Ns.parse)(e)}receiptLog(e){return go.check(this.formats.receiptLog,e)}receipt(e){const t=go.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=_s.BigNumber.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&yo.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):yo.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&yo.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return go.check(this.formats.filter,e)}filterLog(e){return go.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const r in e)try{const i=e[r](t[r]);void 0!==i&&(n[r]=i)}catch(e){throw e.checkKey=r,e.checkValue=t[r],e}return n}static allowNull(e,t){return function(n){return null==n?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach((function(t){n.push(e(t))})),n}}}function vo(e){return e&&"function"==typeof e.isCommunityResource}function wo(e){return vo(e)&&e.isCommunityResource()}let _o=!1;function ko(){_o||(_o=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var To=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const No=new(0,Es.Logger)(bo);function Eo(e){return null==e?"null":(32!==(0,ks.hexDataLength)(e)&&No.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Io(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[Eo(e)]=!0}));const n=Object.keys(t);return n.sort(),n.join("|")}return Eo(e)})).join("&")}function Ao(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,ks.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Io(e);if(gs.ForkEvent.isForkEvent(e))throw No.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+Io(e.topics||[])}throw new Error("invalid event - "+e)}function So(){return(new Date).getTime()}function Ro(e){return new Promise((t=>{setTimeout(t,e)}))}const Oo=["block","network","pending","poll"];class xo{constructor(e,t,n){(0,Ts.defineReadOnly)(this,"tag",e),(0,Ts.defineReadOnly)(this,"listener",t),(0,Ts.defineReadOnly)(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],n=""===(r=e[2])?[]:r.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}));var r;const i={};return n.length>0&&(i.topics=n),t&&"*"!==t&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||Oo.indexOf(this.tag)>=0}}const Po={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Co(e){return(0,ks.hexZeroPad)(_s.BigNumber.from(e).toHexString(),32)}function Lo(e){return no.Base58.encode((0,ks.concat)([e,(0,ks.hexDataSlice)((0,io.sha256)((0,io.sha256)(e)),0,4)]))}const Bo=new RegExp("^(ipfs)://(.*)$","i"),Uo=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Bo,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Do(e,t){try{return(0,so.toUtf8String)(jo(e,t))}catch(e){}return null}function jo(e,t){if("0x"===e)return null;const n=_s.BigNumber.from((0,ks.hexDataSlice)(e,t,t+32)).toNumber(),r=_s.BigNumber.from((0,ks.hexDataSlice)(e,n,n+32)).toNumber();return(0,ks.hexDataSlice)(e,n+32,n+32+r)}function Mo(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):No.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function Vo(e){const t=(0,ks.arrayify)(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Fo(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function zo(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(null),n+=32;for(let r=0;r<e.length;r++){const i=(0,ks.arrayify)(e[r]);t[r]=Vo(n),t.push(Vo(i.length)),t.push(Fo(i)),n+=32+32*Math.ceil(i.length/32)}return(0,ks.hexConcat)(t)}class Wo{constructor(e,t,n,r){(0,Ts.defineReadOnly)(this,"provider",e),(0,Ts.defineReadOnly)(this,"name",n),(0,Ts.defineReadOnly)(this,"address",e.formatter.address(t)),(0,Ts.defineReadOnly)(this,"_resolvedAddress",r)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((e=>_s.BigNumber.from(e).eq(1))).catch((e=>{if(e.code===Es.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e}))),this._supportsEip2544}_fetch(e,t){return To(this,void 0,void 0,(function*(){const n={to:this.address,ccipReadEnabled:!0,data:(0,ks.hexConcat)([e,(0,ro.namehash)(this.name),t||"0x"])};let r=!1;(yield this.supportsWildcard())&&(r=!0,n.data=(0,ks.hexConcat)(["0x9061b923",zo([(0,ro.dnsEncode)(this.name),n.data])]));try{let e=yield this.provider.call(n);return(0,ks.arrayify)(e).length%32==4&&No.throwError("resolver threw error",Es.Logger.errors.CALL_EXCEPTION,{transaction:n,data:e}),r&&(e=jo(e,0)),e}catch(e){if(e.code===Es.Logger.errors.CALL_EXCEPTION)return null;throw e}}))}_fetchBytes(e,t){return To(this,void 0,void 0,(function*(){const n=yield this._fetch(e,t);return null!=n?jo(n,0):null}))}_getAddress(t,n){const r=Po[String(t)];if(null==r&&No.throwError(`unsupported coin type: ${t}`,Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(n);const i=(0,ks.arrayify)(n);if(null!=r.p2pkh){const e=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Lo((0,ks.concat)([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Lo((0,ks.concat)([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const t=i[1];let n=i[0];if(0===n?20!==t&&32!==t&&(n=-1):n=-1,n>=0&&i.length===2+t&&t>=1&&t<=75){const t=e(eo).toWords(i.slice(2));return t.unshift(n),e(eo).encode(r.prefix,t)}}return null}getAddress(e){return To(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e=yield this._fetch("0x3b3b57de");return"0x"===e||e===Ws.HashZero?null:this.provider.formatter.callAddress(e)}catch(e){if(e.code===Es.Logger.errors.CALL_EXCEPTION)return null;throw e}const t=yield this._fetchBytes("0xf1cb7e06",Co(e));if(null==t||"0x"===t)return null;const n=this._getAddress(e,t);return null==n&&No.throwError("invalid or unsupported coin data",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n}))}getAvatar(){return To(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(null==t)return null;for(let n=0;n<Uo.length;n++){const r=t.match(Uo[n]);if(null==r)continue;const i=r[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Mo(t)};case"erc721":case"erc1155":{const n="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const s=this._resolvedAddress||(yield this.getAddress()),o=(r[2]||"").split("/");if(2!==o.length)return null;const a=yield this.provider.formatter.address(o[0]),c=(0,ks.hexZeroPad)(_s.BigNumber.from(o[1]).toHexString(),32);if("erc721"===i){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:(0,ks.hexConcat)(["0x6352211e",c])}));if(s!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){const t=_s.BigNumber.from(yield this.provider.call({to:a,data:(0,ks.hexConcat)(["0x00fdd58e",(0,ks.hexZeroPad)(s,32),c])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const l={to:this.provider.formatter.address(o[0]),data:(0,ks.hexConcat)([n,c])};let u=Do(yield this.provider.call(l),0);if(null==u)return null;e.push({type:"metadata-url-base",content:u}),"erc1155"===i&&(u=u.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:u})),u.match(/^ipfs:/i)&&(u=Mo(u)),e.push({type:"metadata-url",content:u});const d=yield(0,oo.fetchJson)(u);if(!d)return null;e.push({type:"metadata",content:JSON.stringify(d)});let h=d.image;if("string"!=typeof h)return null;if(h.match(/^(https:\/\/|data:)/i));else{if(null==h.match(Bo))return null;e.push({type:"url-ipfs",content:h}),h=Mo(h)}return e.push({type:"url",content:h}),{linkage:e,url:h}}}}}catch(e){}return null}))}getContentHash(){return To(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+no.Base58.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const e=parseInt(n[3],16);if(n[4].length===2*e)return"ipns://"+no.Base58.encode("0x"+n[1])}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return"bzz://"+r[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){const e={"=":"","+":"-","/":"_"};return"sia://"+(0,to.encode)("0x"+i[1]).replace(/[=+\/]/g,(t=>e[t]))}return No.throwError("invalid or unsupported content hash data",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return To(this,void 0,void 0,(function*(){let t=(0,so.toUtf8Bytes)(e);t=(0,ks.concat)([Co(64),Co(t.length),t]),t.length%32!=0&&(t=(0,ks.concat)([t,(0,ks.hexZeroPad)("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",(0,ks.hexlify)(t));return null==n||"0x"===n?null:(0,so.toUtf8String)(n)}))}}let Go=null,Ko=1;class Ho extends gs.Provider{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,Ts.defineReadOnly)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=(0,Ts.getStatic)(new.target,"getNetwork")(e);t?((0,Ts.defineReadOnly)(this,"_network",t),this.emit("network",t,null)):No.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return To(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||No.throwError("no network detected",Es.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:(0,Ts.defineReadOnly)(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return(0,oo.poll)((()=>this._ready().then((e=>e),(e=>{if(e.code!==Es.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==Go&&(Go=new go),Go}static getNetwork(e){return Qs(null==e?"homestead":e)}ccipReadFetch(e,t,n){return To(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===n.length)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let e=0;e<n.length;e++){const t=n[e],o=t.replace("{sender}",r).replace("{data}",i),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:r}),c=yield(0,oo.fetchJson)({url:o,errorPassThrough:!0},a,((e,t)=>(e.status=t.statusCode,e)));if(c.data)return c.data;const l=c.message||"unknown error";if(c.status>=400&&c.status<500)return No.throwError(`response not found during CCIP fetch: ${l}`,Es.Logger.errors.SERVER_ERROR,{url:t,errorMessage:l});s.push(l)}return No.throwError(`error encountered during CCIP fetch: ${s.map((e=>JSON.stringify(e))).join(", ")}`,Es.Logger.errors.SERVER_ERROR,{urls:n,errorMessages:s})}))}_getInternalBlockNumber(e){return To(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const n=yield t;if(So()-n.respTime<=e)return n.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}const t=So(),n=(0,Ts.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:r})=>{if(r)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),r;const i=So();return(e=_s.BigNumber.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}}));return this._internalBlockNumber=n,n.catch((e=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)})),(yield n).blockNumber}))}poll(){return To(this,void 0,void 0,(function*(){const e=Ko++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){return void this.emit("error",e)}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)No.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",No.makeError("network block skew detected",Es.Logger.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let e=this._emitted.block+1;e<=n;e++)this.emit("block",e);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&n-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((e=>{switch(e.type){case"tx":{const n=e.hash;let r=this.getTransactionReceipt(n).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+n]=e.blockNumber,this.emit(n,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(r);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1);const r=e.filter;r.fromBlock=e._lastBlockNumber+1,r.toBlock=n;const i=r.toBlock-this._maxFilterBlockRange;i>r.fromBlock&&(r.fromBlock=i),r.fromBlock<0&&(r.fromBlock=0);const s=this.getLogs(r).then((t=>{e._inflight=!1,0!==t.length&&t.forEach((t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(r,t)}))})).catch((t=>{this.emit("error",t),e._inflight=!1}));t.push(s)}}})),this._lastBlockNumber=n,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return To(this,void 0,void 0,(function*(){return No.throwError("provider does not support network detection",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return To(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Ro(0),this._network;const n=No.makeError("underlying network changed",Es.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=So();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=So(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return To(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,n||0,null)}))}_waitForTransaction(e,t,n,r){return To(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise(((i,s)=>{const o=[];let a=!1;const c=function(){return!!a||(a=!0,o.forEach((e=>{e()})),!1)},l=e=>{e.confirmations<t||c()||i(e)};if(this.on(e,l),o.push((()=>{this.removeListener(e,l)})),r){let n=r.startBlock,i=null;const l=o=>To(this,void 0,void 0,(function*(){a||(yield Ro(1e3),this.getTransactionCount(r.from).then((u=>To(this,void 0,void 0,(function*(){if(!a){if(u<=r.nonce)n=o;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=n-3,i<r.startBlock&&(i=r.startBlock));i<=o;){if(a)return;const n=yield this.getBlockWithTransactions(i);for(let i=0;i<n.transactions.length;i++){const o=n.transactions[i];if(o.hash===e)return;if(o.from===r.from&&o.nonce===r.nonce){if(a)return;const n=yield this.waitForTransaction(o.hash,t);if(c())return;let i="replaced";return o.data===r.data&&o.to===r.to&&o.value.eq(r.value)?i="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(i="cancelled"),void s(No.makeError("transaction was replaced",Es.Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(o),hash:e,receipt:n}))}}i++}}a||this.once("block",l)}}))),(e=>{a||this.once("block",l)})))}));if(a)return;this.once("block",l),o.push((()=>{this.removeListener("block",l)}))}if("number"==typeof n&&n>0){const e=setTimeout((()=>{c()||s(No.makeError("timeout exceeded",Es.Logger.errors.TIMEOUT,{timeout:n}))}),n);e.unref&&e.unref(),o.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return To(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return _s.BigNumber.from(e)}catch(t){return No.throwError("bad result from backend",Es.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield(0,Ts.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getBalance",n);try{return _s.BigNumber.from(r)}catch(e){return No.throwError("bad result from backend",Es.Logger.errors.SERVER_ERROR,{method:"getBalance",params:n,result:r,error:e})}}))}getTransactionCount(e,t){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield(0,Ts.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getTransactionCount",n);try{return _s.BigNumber.from(r).toNumber()}catch(e){return No.throwError("bad result from backend",Es.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:r,error:e})}}))}getCode(e,t){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield(0,Ts.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getCode",n);try{return(0,ks.hexlify)(r)}catch(e){return No.throwError("bad result from backend",Es.Logger.errors.SERVER_ERROR,{method:"getCode",params:n,result:r,error:e})}}))}getStorageAt(e,t,n){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield(0,Ts.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then((e=>(0,ks.hexValue)(e)))}),i=yield this.perform("getStorageAt",r);try{return(0,ks.hexlify)(i)}catch(e){return No.throwError("bad result from backend",Es.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:r,result:i,error:e})}}))}_wrapTransaction(e,t,n){if(null!=t&&32!==(0,ks.hexDataLength)(t))throw new Error("invalid response - sendTransaction");const r=e;return null!=t&&e.hash!==t&&No.throwError("Transaction hash mismatch from Provider.sendTransaction.",Es.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),r.wait=(t,r)=>To(this,void 0,void 0,(function*(){let i;null==t&&(t=1),null==r&&(r=0),0!==t&&null!=n&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const s=yield this._waitForTransaction(e.hash,t,r,i);return null==s&&0===t?null:(this._emitted["t:"+e.hash]=s.blockNumber,0===s.status&&No.throwError("transaction failed",Es.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s}),s)})),r}sendTransaction(e){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>(0,ks.hexlify)(e))),n=this.formatter.transaction(e);null==n.confirmations&&(n.confirmations=0);const r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,e,r)}catch(e){throw e.transaction=n,e.transactionHash=n.hash,e}}))}_getTransactionRequest(e){return To(this,void 0,void 0,(function*(){const t=yield e,n={};return["from","to"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?_s.BigNumber.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?(0,ks.hexlify)(e):null)))})),this.formatter.transactionRequest(yield(0,Ts.resolveProperties)(n))}))}_getFilter(e){return To(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((n=>{null!=e[n]&&(t[n]=e[n])})),["fromBlock","toBlock"].forEach((n=>{null!=e[n]&&(t[n]=this._getBlockTag(e[n]))})),this.formatter.filter(yield(0,Ts.resolveProperties)(t))}))}_call(e,t,n){return To(this,void 0,void 0,(function*(){n>=10&&No.throwError("CCIP read exceeded maximum redirections",Es.Logger.errors.SERVER_ERROR,{redirects:n,transaction:e});const r=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&"latest"===t&&null!=r&&"0x556f1830"===i.substring(0,10)&&(0,ks.hexDataLength)(i)%32==4)try{const s=(0,ks.hexDataSlice)(i,4),o=(0,ks.hexDataSlice)(s,0,32);_s.BigNumber.from(o).eq(r)||No.throwError("CCIP Read sender did not match",Es.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const a=[],c=_s.BigNumber.from((0,ks.hexDataSlice)(s,32,64)).toNumber(),l=_s.BigNumber.from((0,ks.hexDataSlice)(s,c,c+32)).toNumber(),u=(0,ks.hexDataSlice)(s,c+32);for(let t=0;t<l;t++){const n=Do(u,32*t);null==n&&No.throwError("CCIP Read contained corrupt URL string",Es.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),a.push(n)}const d=jo(s,64);_s.BigNumber.from((0,ks.hexDataSlice)(s,100,128)).isZero()||No.throwError("CCIP Read callback selector included junk",Es.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const h=(0,ks.hexDataSlice)(s,96,100),f=jo(s,128),p=yield this.ccipReadFetch(e,d,a);null==p&&No.throwError("CCIP Read disabled or provided no URLs",Es.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const m={to:r,data:(0,ks.hexConcat)([h,zo([p,f])])};return this._call(m,t,n+1)}catch(e){if(e.code===Es.Logger.errors.SERVER_ERROR)throw e}try{return(0,ks.hexlify)(i)}catch(n){return No.throwError("bad result from backend",Es.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:n})}}))}call(e,t){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield(0,Ts.resolveProperties)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)}))}estimateGas(e){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield(0,Ts.resolveProperties)({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return _s.BigNumber.from(n)}catch(e){return No.throwError("bad result from backend",Es.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:e})}}))}_getAddress(e){return To(this,void 0,void 0,(function*(){"string"!=typeof(e=yield e)&&No.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&No.throwError("ENS name not configured",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return To(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let n=-128;const r={includeTransactions:!!t};if((0,ks.isHexString)(e,32))r.blockHash=e;else try{r.blockTag=yield this._getBlockTag(e),(0,ks.isHexString)(r.blockTag)&&(n=parseInt(r.blockTag.substring(2),16))}catch(t){No.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return(0,oo.poll)((()=>To(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",r);if(null==e)return null!=r.blockHash&&null==this._emitted["b:"+r.blockHash]||null!=r.blockTag&&n>this._emitted.block?null:void 0;if(t){let t=null;for(let n=0;n<e.transactions.length;n++){const r=e.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}}const n=this.formatter.blockWithTransactions(e);return n.transactions=n.transactions.map((e=>this._wrapTransaction(e))),n}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return To(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return(0,oo.poll)((()=>To(this,void 0,void 0,(function*(){const n=yield this.perform("getTransaction",t);if(null==n)return null==this._emitted["t:"+e]?null:void 0;const r=this.formatter.transactionResponse(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}return this._wrapTransaction(r)}))),{oncePoll:this})}))}getTransactionReceipt(e){return To(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return(0,oo.poll)((()=>To(this,void 0,void 0,(function*(){const n=yield this.perform("getTransactionReceipt",t);if(null==n)return null==this._emitted["t:"+e]?null:void 0;if(null==n.blockHash)return;const r=this.formatter.receipt(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}return r}))),{oncePoll:this})}))}getLogs(e){return To(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield(0,Ts.resolveProperties)({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach((e=>{null==e.removed&&(e.removed=!1)})),go.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)}))}getEtherPrice(){return To(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return To(this,void 0,void 0,(function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&No.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return To(this,void 0,void 0,(function*(){let t=e;for(;;){if(""===t||"."===t)return null;if("eth"!==e&&"eth"===t)return null;const n=yield this._getResolver(t,"getResolver");if(null!=n){const r=new Wo(this,n,e);return t===e||(yield r.supportsWildcard())?r:null}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return To(this,void 0,void 0,(function*(){null==t&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||No.throwError("network does not support ENS",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const t=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+(0,ro.namehash)(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null}))}resolveName(e){return To(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if((0,ks.isHexString)(e))throw t}"string"!=typeof e&&No.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return To(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(null==n)return null;const r=Do(yield this.call({to:n,data:"0x691f3431"+(0,ro.namehash)(t).substring(2)}),0);return(yield this.resolveName(r))!=e?null:r}))}getAvatar(e){return To(this,void 0,void 0,(function*(){let t=null;if((0,ks.isHexString)(e)){const n=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"getAvatar");if(!r)return null;t=new Wo(this,r,n);try{const e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==Es.Logger.errors.CALL_EXCEPTION)throw e}try{const e=Do(yield this.call({to:r,data:"0x691f3431"+(0,ro.namehash)(n).substring(2)}),0);t=yield this.getResolver(e)}catch(e){if(e.code!==Es.Logger.errors.CALL_EXCEPTION)throw e;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return null==n?null:n.url}))}perform(e,t){return No.throwError(e+" not implemented",Es.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,n){const r=new xo(Ao(e),t,n);return this._events.push(r),this._startEvent(r),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,r=[],i=Ao(e);return this._events=this._events.filter((e=>e.tag!==i||(setTimeout((()=>{e.listener.apply(this,t)}),0),n=!0,!e.once||(r.push(e),!1)))),r.forEach((e=>{this._stopEvent(e)})),n}listenerCount(e){if(!e)return this._events.length;let t=Ao(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=Ao(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const n=[];let r=!1,i=Ao(e);return this._events=this._events.filter((e=>e.tag!==i||e.listener!=t||(!!r||(r=!0,n.push(e),!1)))),n.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const n=Ao(e);this._events=this._events.filter((e=>e.tag!==n||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}Ts=s("9d6XD");var qo={};n(qo,"WebSocketProvider",(()=>ha),(e=>ha=e));_s=s("frbU3"),Ts=s("9d6XD");var Jo={};n(Jo,"JsonRpcSigner",(()=>ia),(e=>ia=e)),n(Jo,"JsonRpcProvider",(()=>aa),(e=>aa=e));vs=s("7Ct33"),_s=s("frbU3"),ks=s("6k2y8"),ro=s("jrrKb"),Ts=s("9d6XD"),so=s("ekh6m"),Ns=s("9DQOe"),oo=s("6uGvI"),Es=s("5t9tT");var Yo=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const $o=new(0,Es.Logger)(bo),Xo=["call","estimateGas"];function Qo(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){const n=(0,ks.isHexString)(e.data)?e.data:null;if(!t||n)return{message:e.message,data:n}}if("object"==typeof e){for(const n in e){const r=Qo(e[n],t);if(r)return r}return null}if("string"==typeof e)try{return Qo(JSON.parse(e),t)}catch(e){}return null}function Zo(e,t,n){const r=n.transaction||n.signedTransaction;if("call"===e){const e=Qo(t,!0);if(e)return e.data;$o.throwError("missing revert data in call exception; Transaction reverted without a reason string",Es.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:t})}if("estimateGas"===e){let n=Qo(t.body,!1);null==n&&(n=Qo(t,!1)),n&&$o.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Es.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:n.message,method:e,transaction:r,error:t})}let i=t.message;throw t.code===Es.Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit/i)&&$o.throwError("insufficient funds for intrinsic transaction cost",Es.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),i.match(/nonce (is )?too low/i)&&$o.throwError("nonce has already been used",Es.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&$o.throwError("replacement fee too low",Es.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),i.match(/only replay-protected/i)&&$o.throwError("legacy pre-eip-155 transactions not supported",Es.Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:r}),Xo.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&$o.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Es.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}function ea(e){return new Promise((function(t){setTimeout(t,e)}))}function ta(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function na(e){return e?e.toLowerCase():e}const ra={};class ia extends vs.Signer{constructor(e,t,n){if(super(),e!==ra)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,Ts.defineReadOnly)(this,"provider",t),null==n&&(n=0),"string"==typeof n?((0,Ts.defineReadOnly)(this,"_address",this.provider.formatter.address(n)),(0,Ts.defineReadOnly)(this,"_index",null)):"number"==typeof n?((0,Ts.defineReadOnly)(this,"_index",n),(0,Ts.defineReadOnly)(this,"_address",null)):$o.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return $o.throwError("cannot alter JSON-RPC Signer connection",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new sa(ra,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&$o.throwError("unknown account #"+this._index,Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=(0,Ts.shallowCopy)(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const n=(0,Ts.shallowCopy)(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>Yo(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&$o.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),(0,Ts.resolveProperties)({tx:(0,Ts.resolveProperties)(e),sender:t}).then((({tx:t,sender:n})=>{null!=t.from?t.from.toLowerCase()!==n&&$o.throwArgumentError("from address mismatch","transaction",e):t.from=n;const r=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[r]).then((e=>e),(e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&$o.throwError("user rejected transaction",Es.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),Zo("sendTransaction",e,r))))}))}signTransaction(e){return $o.throwError("signing transactions is unsupported",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Yo(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield(0,oo.poll)((()=>Yo(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(n);if(null!==e)return this.provider._wrapTransaction(e,n,t)}))),{oncePoll:this.provider})}catch(e){throw e.transactionHash=n,e}}))}signMessage(e){return Yo(this,void 0,void 0,(function*(){const t="string"==typeof e?(0,so.toUtf8Bytes)(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,ks.hexlify)(t),n.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&$o.throwError("user rejected signing",Es.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),t}}))}_legacySignMessage(e){return Yo(this,void 0,void 0,(function*(){const t="string"==typeof e?(0,so.toUtf8Bytes)(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),(0,ks.hexlify)(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&$o.throwError("user rejected signing",Es.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),t}}))}_signTypedData(e,t,n){return Yo(this,void 0,void 0,(function*(){const r=yield ro._TypedDataEncoder.resolveNames(e,t,n,(e=>this.provider.resolveName(e))),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(ro._TypedDataEncoder.getPayload(r.domain,t,r.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&$o.throwError("user rejected signing",Es.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:r.domain,types:t,value:r.value}}),e}}))}unlock(e){return Yo(this,void 0,void 0,(function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])}))}}class sa extends ia{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const oa={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class aa extends Zs.BaseProvider{constructor(e,t){let n=t;null==n&&(n=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(n),e||(e=(0,Ts.getStatic)(this.constructor,"defaultUrl")()),"string"==typeof e?(0,Ts.defineReadOnly)(this,"connection",Object.freeze({url:e})):(0,Ts.defineReadOnly)(this,"connection",Object.freeze((0,Ts.shallowCopy)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Yo(this,void 0,void 0,(function*(){yield ea(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){const t=(0,Ts.getStatic)(this.constructor,"getNetwork");try{return t(_s.BigNumber.from(e).toNumber())}catch(t){return $o.throwError("could not detect network",Es.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return $o.throwError("could not detect network",Es.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new ia(ra,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,Ts.deepCopy)(n),provider:this});const r=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(r&&this._cache[e])return this._cache[e];const i=(0,oo.fetchJson)(this.connection,JSON.stringify(n),ta).then((e=>(this.emit("debug",{action:"response",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:n,provider:this}),e}));return r&&(this._cache[e]=i,setTimeout((()=>{this._cache[e]=null}),0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[na(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[na(t.address),t.blockTag]];case"getCode":return["eth_getCode",[na(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[na(t.address),(0,ks.hexZeroPad)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,Ts.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,Ts.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=na(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Yo(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&_s.BigNumber.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const n=yield this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&((t=(0,Ts.shallowCopy)(t)).transaction=(0,Ts.shallowCopy)(e),delete t.transaction.type)}}const n=this.prepareRequest(e,t);null==n&&$o.throwError(e+" not implemented",Es.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(n){return Zo(e,n,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(n){return function r(){e.send("eth_getFilterChanges",[n]).then((function(n){if(e._pendingFilter!=t)return null;let r=Promise.resolve();return n.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",r=r.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),r.then((function(){return ea(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){r()}),0),null;e.send("eth_uninstallFilter",[n])})).catch((e=>{}))}(),n})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=(0,Ts.shallowCopy)(oa);if(t)for(const e in t)t[e]&&(n[e]=!0);(0,Ts.checkProperties)(e,n);const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const n=(0,ks.hexValue)(_s.BigNumber.from(e[t]));"gasLimit"===t&&(t="gas"),r[t]=n})),["from","to","data"].forEach((function(t){null!=e[t]&&(r[t]=(0,ks.hexlify)(e[t]))})),e.accessList&&(r.accessList=(0,Ns.accessListify)(e.accessList)),r}}Es=s("5t9tT");let ca=null;try{if(ca=WebSocket,null==ca)throw new Error("inject please")}catch(e){const t=new(0,Es.Logger)(bo);ca=function(){t.throwError("WebSockets not supported in this environment",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}Es=s("5t9tT");var la=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const ua=new(0,Es.Logger)(bo);let da=1;class ha extends Jo.JsonRpcProvider{constructor(e,t){"any"===t&&ua.throwError("WebSocketProvider does not support 'any' network yet",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,Ts.defineReadOnly)(this,"_websocket",new ca(this.connection.url)):(0,Ts.defineReadOnly)(this,"_websocket",e),(0,Ts.defineReadOnly)(this,"_requests",{}),(0,Ts.defineReadOnly)(this,"_subs",{}),(0,Ts.defineReadOnly)(this,"_subIds",{}),(0,Ts.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,n=JSON.parse(t);if(null!=n.id){const e=String(n.id),r=this._requests[e];if(delete this._requests[e],void 0!==n.result)r.callback(null,n.result),this.emit("debug",{action:"response",request:JSON.parse(r.payload),response:n.result,provider:this});else{let e=null;n.error?(e=new Error(n.error.message||"unknown error"),(0,Ts.defineReadOnly)(e,"code",n.error.code||null),(0,Ts.defineReadOnly)(e,"response",t)):e=new Error("unknown error"),r.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(r.payload),provider:this})}}else if("eth_subscription"===n.method){const e=this._subs[n.params.subscription];e&&e.processFunc(n.params.result)}else console.warn("this should not happen")};const n=setInterval((()=>{this.emit("poll")}),1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){ua.throwError("cannot reset events block on WebSocketProvider",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){ua.throwError("cannot set polling interval on WebSocketProvider",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return la(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&ua.throwError("cannot set polling on WebSocketProvider",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=da++;return new Promise(((r,i)=>{const s=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(s),provider:this}),this._requests[String(n)]={callback:function(e,t){return e?i(e):r(t)},payload:s},this._wsReady&&this.websocket.send(s)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return la(this,void 0,void 0,(function*(){let r=this._subIds[e];null==r&&(r=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=r);const i=yield r;this._subs[i]={tag:e,processFunc:n}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=_s.BigNumber.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];n&&(delete this._subIds[t],n.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return la(this,void 0,void 0,(function*(){this.websocket.readyState===ca.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}Es=s("5t9tT");var fa={};n(fa,"StaticJsonRpcProvider",(()=>ba),(e=>ba=e)),n(fa,"UrlJsonRpcProvider",(()=>ya),(e=>ya=e));Ts=s("9d6XD"),Es=s("5t9tT");var pa=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const ma=new(0,Es.Logger)(bo);class ba extends Jo.JsonRpcProvider{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return pa(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||ma.throwError("no network detected",Es.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,Ts.defineReadOnly)(this,"_network",t),this.emit("network",t,null))),t}))}}class ya extends ba{constructor(e,t){ma.checkAbstract(new.target,ya),e=(0,Ts.getStatic)(new.target,"getNetwork")(e),t=(0,Ts.getStatic)(new.target,"getApiKey")(t);super((0,Ts.getStatic)(new.target,"getUrl")(e,t),e),"string"==typeof t?(0,Ts.defineReadOnly)(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{(0,Ts.defineReadOnly)(this,e,t[e])}))}_startPending(){ma.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ma.throwError("API provider does not support signing",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return ma.throwError("not implemented; sub-classes must override getUrl",Es.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const ga=new(0,Es.Logger)(bo),va="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class wa extends qo.WebSocketProvider{constructor(e,t){const n=new _a(e,t);super(n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),n.network),(0,Ts.defineReadOnly)(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===va}}class _a extends fa.UrlJsonRpcProvider{static getWebSocketProvider(e,t){return new wa(e,t)}static getApiKey(e){return null==e?va:(e&&"string"!=typeof e&&ga.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":n="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":n="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.alchemyapi.io/v2/";break;case"kovan":n="eth-kovan.alchemyapi.io/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":n="arb-rinkeby.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":n="opt-kovan.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:ga.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(e,n)=>(t===va&&ko(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===va}}const ka=new(0,(Es=s("5t9tT")).Logger)(bo),Ta="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Na(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return ka.throwArgumentError("unsupported network","name",e)}class Ea extends fa.UrlJsonRpcProvider{isCommunityResource(){return this.apiKey===Ta}static getApiKey(e){return null==e?Ta:e}static getUrl(e,t){null==t&&(t=Ta);const n={allowGzip:!0,url:"https://"+Na(e.name)+t,throttleCallback:(e,n)=>(t.apiKey===Ta&&ko(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}}var Ia={};n(Ia,"CloudflareProvider",(()=>Ra),(e=>Ra=e));Es=s("5t9tT");var Aa=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Sa=new(0,Es.Logger)(bo);class Ra extends fa.UrlJsonRpcProvider{static getApiKey(e){return null!=e&&Sa.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;if("homestead"===e.name)n="https://cloudflare-eth.com/";else Sa.throwArgumentError("unsupported network","network",arguments[0]);return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Aa(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number}return n.perform.call(this,e,t)}))}}var Oa={};n(Oa,"EtherscanProvider",(()=>ja),(e=>ja=e));ks=s("6k2y8"),Ts=s("9d6XD"),Ns=s("9DQOe"),oo=s("6uGvI"),Es=s("5t9tT");var xa=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Pa=new(0,Es.Logger)(bo);function Ca(e){const t={};for(let n in e){if(null==e[n])continue;let r=e[n];"type"===n&&0===r||(r={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n]?(0,ks.hexValue)((0,ks.hexlify)(r)):"accessList"===n?"["+(0,Ns.accessListify)(r).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":(0,ks.hexlify)(r),t[n]=r)}return t}function La(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function Ba(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function Ua(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function Da(e,t,n){if("call"===e&&t.code===Es.Logger.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let n=e.data;if(n&&(n="0x"+n.replace(/^.*0x/i,"")),(0,ks.isHexString)(n))return n;Pa.throwError("missing revert data in call exception",Es.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let r=t.message;throw t.code===Es.Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?r=t.error.message:"string"==typeof t.body?r=t.body:"string"==typeof t.responseText&&(r=t.responseText)),r=(r||"").toLowerCase(),r.match(/insufficient funds/)&&Pa.throwError("insufficient funds for intrinsic transaction cost",Es.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Pa.throwError("nonce has already been used",Es.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),r.match(/another transaction with same nonce/)&&Pa.throwError("replacement fee too low",Es.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),r.match(/execution failed due to an exception|execution reverted/)&&Pa.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Es.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}class ja extends Zs.BaseProvider{constructor(e,t){super(e),(0,Ts.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,Ts.defineReadOnly)(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-kovan":return"https://api-kovan-optimistic.etherscan.io"}return Pa.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce(((e,n)=>{const r=t[n];return null!=r&&(e+=`&${n}=${r}`),e}),""),r=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${r}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return xa(this,void 0,void 0,(function*(){const r=n?this.getPostUrl():this.getUrl(e,t),i=n?this.getPostData(e,t):null,s="proxy"===e?Ba:La;this.emit("debug",{action:"request",request:r,provider:this});const o={url:r,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&ko(),Promise.resolve(!0))};let a=null;i&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&"));const c=yield(0,oo.fetchJson)(o,a,s||Ba);return this.emit("debug",{action:"response",request:r,response:(0,Ts.deepCopy)(c),provider:this}),c}))}detectNetwork(){return xa(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return xa(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>Da("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=Ca(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return Da("call",e,t.transaction)}}case"estimateGas":{const e=Ca(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return Da("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=Ua(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=Ua(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Pa.throwError("unsupported topic count",Es.Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const n=t.filter.topics[0];"string"==typeof n&&66===n.length||Pa.throwError("unsupported topic format",Es.Logger.errors.UNSUPPORTED_OPERATION,{topic0:n}),e.topic0=n}const n=yield this.fetch("logs",e);let r={};for(let e=0;e<n.length;e++){const t=n[e];if(null==t.blockHash){if(null==r[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(r[t.blockNumber]=e.hash)}t.blockHash=r[t.blockNumber]}}return n}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)}))}getHistory(e,t,n){return xa(this,void 0,void 0,(function*(){const r={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==n?99999999:n,sort:"asc"};return(yield this.fetch("account",r)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return null==this.apiKey}}var Ma={};n(Ma,"FallbackProvider",(()=>tc),(e=>tc=e));gs=s("gWRSR"),_s=s("frbU3"),ks=s("6k2y8"),Ts=s("9d6XD");var Va=s("ejR95"),Fa=(oo=s("6uGvI"),Es=s("5t9tT"),function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))});const za=new(0,Es.Logger)(bo);function Wa(){return(new Date).getTime()}function Ga(e){let t=null;for(let n=0;n<e.length;n++){const r=e[n];if(null==r)return null;t?t.name===r.name&&t.chainId===r.chainId&&(t.ensAddress===r.ensAddress||null==t.ensAddress&&null==r.ensAddress)||za.throwArgumentError("provider mismatch","networks",e):t=r}return t}function Ka(e,t){e=e.slice().sort();const n=Math.floor(e.length/2);if(e.length%2)return e[n];const r=e[n-1],i=e[n];return null!=t&&Math.abs(r-i)>t?null:(r+i)/2}function Ha(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(_s.BigNumber.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>Ha(e))));if("object"==typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let n=e[t];return n="function"==typeof n?"[function]":Ha(n),JSON.stringify(t)+":"+n})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let qa=1;function Ja(e){let t=null,n=null,r=new Promise((r=>{t=function(){n&&(clearTimeout(n),n=null),r()},n=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return r},wait:e=>(r=r.then(e),r)}}const Ya=[Es.Logger.errors.CALL_EXCEPTION,Es.Logger.errors.INSUFFICIENT_FUNDS,Es.Logger.errors.NONCE_EXPIRED,Es.Logger.errors.REPLACEMENT_UNDERPRICED,Es.Logger.errors.UNPREDICTABLE_GAS_LIMIT],$a=["address","args","errorArgs","errorSignature","method","transaction"];function Xa(e,t){const n={weight:e.weight};return Object.defineProperty(n,"provider",{get:()=>e.provider}),e.start&&(n.start=e.start),t&&(n.duration=t-e.start),e.done&&(e.error?n.error=e.error:n.result=e.result||null),n}function Qa(e,t,n){let r=Ha;switch(t){case"getBlockNumber":return function(t){const n=t.map((e=>e.result));let r=Ka(t.map((e=>e.result)),2);if(null!=r)return r=Math.ceil(r),n.indexOf(r+1)>=0&&r++,r>=e._highestBlockNumber&&(e._highestBlockNumber=r),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return Ka(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(e){return null==e?null:((e=(0,Ts.shallowCopy)(e)).confirmations=-1,Ha(e))};break;case"getBlock":r=n.includeTransactions?function(e){return null==e?null:((e=(0,Ts.shallowCopy)(e)).transactions=e.transactions.map((e=>((e=(0,Ts.shallowCopy)(e)).confirmations=-1,e))),Ha(e))}:function(e){return null==e?null:Ha(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(n){const r={};n.forEach((t=>{const n=e(t.result);r[n]||(r[n]={count:0,result:t.result}),r[n].count++}));const i=Object.keys(r);for(let e=0;e<i.length;e++){const n=r[i[e]];if(n.count>=t)return n.result}}}(r,e.quorum)}function Za(e,t){return Fa(this,void 0,void 0,(function*(){const n=e.provider;return null!=n.blockNumber&&n.blockNumber>=t||-1===t?n:(0,oo.poll)((()=>new Promise(((r,i)=>{setTimeout((function(){return n.blockNumber>=t?r(n):e.cancelled?r(null):r(void 0)}),0)}))),{oncePoll:n})}))}function ec(e,t,n,r){return Fa(this,void 0,void 0,(function*(){let i=e.provider;switch(n){case"getBlockNumber":case"getGasPrice":return i[n]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&(0,ks.isHexString)(r.blockTag)&&(i=yield Za(e,t)),i[n](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&(0,ks.isHexString)(r.blockTag)&&(i=yield Za(e,t)),i.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&(0,ks.isHexString)(r.blockTag)&&(i=yield Za(e,t)),i[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&(0,ks.isHexString)(r.blockTag)&&(i=yield Za(e,t)),"call"===n&&r.blockTag?i[n](r.transaction,r.blockTag):i[n](r.transaction);case"getTransaction":case"getTransactionReceipt":return i[n](r.transactionHash);case"getLogs":{let n=r.filter;return(n.fromBlock&&(0,ks.isHexString)(n.fromBlock)||n.toBlock&&(0,ks.isHexString)(n.toBlock))&&(i=yield Za(e,t)),i.getLogs(n)}}return za.throwError("unknown method error",Es.Logger.errors.UNKNOWN_ERROR,{method:n,params:r})}))}class tc extends Zs.BaseProvider{constructor(e,t){0===e.length&&za.throwArgumentError("missing providers","providers",e);const n=e.map(((e,t)=>{if(gs.Provider.isProvider(e)){const t=wo(e)?2e3:750,n=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:n})}const n=(0,Ts.shallowCopy)(e);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=wo(e)?2e3:750),null==n.weight&&(n.weight=1);const r=n.weight;return(r%1||r>512||r<1)&&za.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,r),Object.freeze(n)})),r=n.reduce(((e,t)=>e+t.weight),0);null==t?t=r/2:t>r&&za.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=Ga(n.map((e=>e.provider.network)));null==i&&(i=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(i),(0,Ts.defineReadOnly)(this,"providerConfigs",Object.freeze(n)),(0,Ts.defineReadOnly)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Fa(this,void 0,void 0,(function*(){return Ga(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return Fa(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const n=e[t];if("string"==typeof n)return n}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const n=Qa(this,e,t),r=(0,Va.shuffled)(this.providerConfigs.map(Ts.shallowCopy));r.sort(((e,t)=>e.priority-t.priority));const i=this._highestBlockNumber;let s=0,o=!0;for(;;){const a=Wa();let c=r.filter((e=>e.runner&&a-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;c<this.quorum&&s<r.length;){const n=r[s++],o=qa++;n.start=Wa(),n.staller=Ja(n.stallTimeout),n.staller.wait((()=>{n.staller=null})),n.runner=ec(n,i,e,t).then((r=>{n.done=!0,n.result=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:Xa(n,Wa()),request:{method:e,params:(0,Ts.deepCopy)(t)},provider:this})}),(r=>{n.done=!0,n.error=r,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:Xa(n,Wa()),request:{method:e,params:(0,Ts.deepCopy)(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:Xa(n,null),request:{method:e,params:(0,Ts.deepCopy)(t)},provider:this}),c+=n.weight}const l=[];r.forEach((e=>{!e.done&&e.runner&&(l.push(e.runner),e.staller&&l.push(e.staller.getPromise()))})),l.length&&(yield Promise.race(l));const u=r.filter((e=>e.done&&null==e.error));if(u.length>=this.quorum){const e=n(u);if(void 0!==e)return r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;o||(yield Ja(100).getPromise()),o=!1}const d=r.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const n=t.error.code;return Ya.indexOf(n)>=0&&(e[n]||(e[n]={error:t.error,weight:0}),e[n].weight+=t.weight),e}),{});if(Object.keys(d).forEach((e=>{const t=d[e];if(t.weight<this.quorum)return;r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const n=t.error,i={};$a.forEach((e=>{null!=n[e]&&(i[e]=n[e])})),za.throwError(n.reason||n.message,e,i)})),0===r.filter((e=>!e.done)).length)break}return r.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),za.throwError("failed to meet quorum",Es.Logger.errors.SERVER_ERROR,{method:e,params:t,results:r.map((e=>Xa(e))),provider:this})}))}}const nc=null;Ts=s("9d6XD");const rc=new(0,(Es=s("5t9tT")).Logger)(bo),ic="84842078b09946638c03157f83405213";class sc extends qo.WebSocketProvider{constructor(e,t){const n=new oc(e,t),r=n.connection;r.password&&rc.throwError("INFURA WebSocket project secrets unsupported",Es.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(r.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,Ts.defineReadOnly)(this,"apiKey",n.projectId),(0,Ts.defineReadOnly)(this,"projectId",n.projectId),(0,Ts.defineReadOnly)(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===ic}}class oc extends fa.UrlJsonRpcProvider{static getWebSocketProvider(e,t){return new sc(e,t)}static getApiKey(e){const t={apiKey:ic,projectId:ic,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(rc.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),rc.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"ropsten":n="ropsten.infura.io";break;case"rinkeby":n="rinkeby.infura.io";break;case"kovan":n="kovan.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-kovan":n="optimism-kovan.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":n="arbitrum-rinkeby.infura.io";break;default:rc.throwError("unsupported network",Es.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const r={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(e,n)=>(t.projectId===ic&&ko(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}isCommunityResource(){return this.projectId===ic}}Ts=s("9d6XD"),oo=s("6uGvI");class ac extends Jo.JsonRpcProvider{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const r={request:n,resolve:null,reject:null},i=new Promise(((e,t)=>{r.resolve=e,r.reject=t}));return this._pendingBatch.push(r),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:(0,Ts.deepCopy)(t),provider:this}),(0,oo.fetchJson)(this.connection,JSON.stringify(t)).then((n=>{this.emit("debug",{action:"response",request:t,response:n,provider:this}),e.forEach(((e,t)=>{const r=n[t];if(r.error){const t=new Error(r.error.message);t.code=r.error.code,t.data=r.error.data,e.reject(t)}else e.resolve(r.result)}))}),(n=>{this.emit("debug",{action:"response",error:n,request:t,provider:this}),e.forEach((e=>{e.reject(n)}))}))}),10)),i}}const cc=new(0,(Es=s("5t9tT")).Logger)(bo);class lc extends fa.UrlJsonRpcProvider{static getApiKey(e){return e&&"string"!=typeof e&&cc.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){cc.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:cc.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const uc=new(0,(Es=s("5t9tT")).Logger)(bo),dc="62e1ad51b37b8e00394bda3b";class hc extends fa.UrlJsonRpcProvider{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=dc:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:uc.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:uc.throwError("unsupported network",Es.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const r={headers:{},url:`https://${n}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(r.user="",r.password=t.applicationSecretKey),r}isCommunityResource(){return this.applicationId===dc}}Ts=s("9d6XD");const fc=new(0,(Es=s("5t9tT")).Logger)(bo);let pc=1;function mc(e,t){const n="Web3LegacyFetcher";return function(e,r){const i={method:e,params:r,id:pc++,jsonrpc:"2.0"};return new Promise(((e,r)=>{this.emit("debug",{action:"request",fetcher:n,request:(0,Ts.deepCopy)(i),provider:this}),t(i,((t,s)=>{if(t)return this.emit("debug",{action:"response",fetcher:n,error:t,request:i,provider:this}),r(t);if(this.emit("debug",{action:"response",fetcher:n,request:i,response:s,provider:this}),s.error){const e=new Error(s.error.message);return e.code=s.error.code,e.data=s.error.data,r(e)}e(s.result)}))}))}}class bc extends Jo.JsonRpcProvider{constructor(e,t){null==e&&fc.throwArgumentError("missing provider","provider",e);let n=null,r=null,i=null;"function"==typeof e?(n="unknown:",r=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),i=e,e.request?(""===n&&(n="eip-1193:"),r=function(e){return function(t,n){null==n&&(n=[]);const r={method:t,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,Ts.deepCopy)(r),provider:this}),e.request(r).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:e,provider:this}),e}))}}(e)):e.sendAsync?r=mc(0,e.sendAsync.bind(e)):e.send?r=mc(0,e.send.bind(e)):fc.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),(0,Ts.defineReadOnly)(this,"jsonRpcFetchFunc",r),(0,Ts.defineReadOnly)(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const yc=new(0,(Es=s("5t9tT")).Logger)(bo);function gc(e,t){if(null==e&&(e="homestead"),"string"==typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new(0,Jo.JsonRpcProvider)(e);case"ws":case"wss":return new(0,qo.WebSocketProvider)(e);default:yc.throwArgumentError("unsupported URL scheme","network",e)}}const n=Qs(e);return n&&n._defaultProvider||yc.throwError("unsupported getDefaultProvider network",Es.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:Ma.FallbackProvider,AlchemyProvider:_a,AnkrProvider:Ea,CloudflareProvider:Ia.CloudflareProvider,EtherscanProvider:Oa.EtherscanProvider,InfuraProvider:oc,JsonRpcProvider:Jo.JsonRpcProvider,NodesmithProvider:lc,PocketProvider:hc,Web3Provider:bc,IpcProvider:nc},t)}s("2jabH");var vc={};n(vc,"AbiCoder",(()=>s("ibnKM").AbiCoder)),n(vc,"defaultAbiCoder",(()=>s("ibnKM").defaultAbiCoder)),n(vc,"Fragment",(()=>s("ibnKM").Fragment)),n(vc,"ConstructorFragment",(()=>s("ibnKM").ConstructorFragment)),n(vc,"ErrorFragment",(()=>s("ibnKM").ErrorFragment)),n(vc,"EventFragment",(()=>s("ibnKM").EventFragment)),n(vc,"FunctionFragment",(()=>s("ibnKM").FunctionFragment)),n(vc,"ParamType",(()=>s("ibnKM").ParamType)),n(vc,"FormatTypes",(()=>s("ibnKM").FormatTypes)),n(vc,"checkResultErrors",(()=>s("ibnKM").checkResultErrors)),n(vc,"Logger",(()=>s("5t9tT").Logger)),n(vc,"RLP",(()=>s("ggLI3"))),n(vc,"_fetchData",(()=>s("6uGvI")._fetchData)),n(vc,"fetchJson",(()=>s("6uGvI").fetchJson)),n(vc,"poll",(()=>s("6uGvI").poll)),n(vc,"checkProperties",(()=>s("9d6XD").checkProperties)),n(vc,"deepCopy",(()=>s("9d6XD").deepCopy)),n(vc,"defineReadOnly",(()=>s("9d6XD").defineReadOnly)),n(vc,"getStatic",(()=>s("9d6XD").getStatic)),n(vc,"resolveProperties",(()=>s("9d6XD").resolveProperties)),n(vc,"shallowCopy",(()=>s("9d6XD").shallowCopy)),n(vc,"arrayify",(()=>s("6k2y8").arrayify)),n(vc,"concat",(()=>s("6k2y8").concat)),n(vc,"stripZeros",(()=>s("6k2y8").stripZeros)),n(vc,"zeroPad",(()=>s("6k2y8").zeroPad)),n(vc,"isBytes",(()=>s("6k2y8").isBytes)),n(vc,"isBytesLike",(()=>s("6k2y8").isBytesLike)),n(vc,"defaultPath",(()=>s("jzW9V").defaultPath)),n(vc,"HDNode",(()=>s("jzW9V").HDNode)),n(vc,"SigningKey",(()=>s("grRyT").SigningKey)),n(vc,"Interface",(()=>s("ibnKM").Interface)),n(vc,"LogDescription",(()=>s("ibnKM").LogDescription)),n(vc,"TransactionDescription",(()=>s("ibnKM").TransactionDescription)),n(vc,"base58",(()=>s("h84gp").Base58)),n(vc,"base64",(()=>s("8BRal"))),n(vc,"hexlify",(()=>s("6k2y8").hexlify)),n(vc,"isHexString",(()=>s("6k2y8").isHexString)),n(vc,"hexConcat",(()=>s("6k2y8").hexConcat)),n(vc,"hexStripZeros",(()=>s("6k2y8").hexStripZeros)),n(vc,"hexValue",(()=>s("6k2y8").hexValue)),n(vc,"hexZeroPad",(()=>s("6k2y8").hexZeroPad)),n(vc,"hexDataLength",(()=>s("6k2y8").hexDataLength)),n(vc,"hexDataSlice",(()=>s("6k2y8").hexDataSlice)),n(vc,"nameprep",(()=>s("ekh6m").nameprep)),n(vc,"_toEscapedUtf8String",(()=>s("ekh6m")._toEscapedUtf8String)),n(vc,"toUtf8Bytes",(()=>s("ekh6m").toUtf8Bytes)),n(vc,"toUtf8CodePoints",(()=>s("ekh6m").toUtf8CodePoints)),n(vc,"toUtf8String",(()=>s("ekh6m").toUtf8String)),n(vc,"Utf8ErrorFuncs",(()=>s("ekh6m").Utf8ErrorFuncs)),n(vc,"formatBytes32String",(()=>s("ekh6m").formatBytes32String)),n(vc,"parseBytes32String",(()=>s("ekh6m").parseBytes32String)),n(vc,"dnsEncode",(()=>s("jrrKb").dnsEncode)),n(vc,"hashMessage",(()=>s("jrrKb").hashMessage)),n(vc,"namehash",(()=>s("jrrKb").namehash)),n(vc,"isValidName",(()=>s("jrrKb").isValidName)),n(vc,"id",(()=>s("jrrKb").id)),n(vc,"_TypedDataEncoder",(()=>s("jrrKb")._TypedDataEncoder)),n(vc,"getAddress",(()=>s("2KrXy").getAddress)),n(vc,"getIcapAddress",(()=>s("2KrXy").getIcapAddress)),n(vc,"getContractAddress",(()=>s("2KrXy").getContractAddress)),n(vc,"getCreate2Address",(()=>s("2KrXy").getCreate2Address)),n(vc,"isAddress",(()=>s("2KrXy").isAddress)),n(vc,"formatEther",(()=>s("jRhWI").formatEther)),n(vc,"parseEther",(()=>s("jRhWI").parseEther)),n(vc,"formatUnits",(()=>s("jRhWI").formatUnits)),n(vc,"parseUnits",(()=>s("jRhWI").parseUnits)),n(vc,"commify",(()=>s("jRhWI").commify)),n(vc,"computeHmac",(()=>s("5kE85").computeHmac)),n(vc,"keccak256",(()=>s("iXNEx").keccak256)),n(vc,"ripemd160",(()=>s("5kE85").ripemd160)),n(vc,"sha256",(()=>s("5kE85").sha256)),n(vc,"sha512",(()=>s("5kE85").sha512)),n(vc,"randomBytes",(()=>s("ejR95").randomBytes)),n(vc,"shuffled",(()=>s("ejR95").shuffled)),n(vc,"solidityPack",(()=>s("2I20E").pack)),n(vc,"solidityKeccak256",(()=>s("2I20E").keccak256)),n(vc,"soliditySha256",(()=>s("2I20E").sha256)),n(vc,"splitSignature",(()=>s("6k2y8").splitSignature)),n(vc,"joinSignature",(()=>s("6k2y8").joinSignature)),n(vc,"accessListify",(()=>s("9DQOe").accessListify)),n(vc,"parseTransaction",(()=>s("9DQOe").parse)),n(vc,"serializeTransaction",(()=>s("9DQOe").serialize)),n(vc,"TransactionTypes",(()=>s("9DQOe").TransactionTypes)),n(vc,"getJsonWalletAddress",(()=>s("jZ9VB").getJsonWalletAddress)),n(vc,"computeAddress",(()=>s("9DQOe").computeAddress)),n(vc,"recoverAddress",(()=>s("9DQOe").recoverAddress)),n(vc,"computePublicKey",(()=>s("grRyT").computePublicKey)),n(vc,"recoverPublicKey",(()=>s("grRyT").recoverPublicKey)),n(vc,"verifyMessage",(()=>s("1oiPr").verifyMessage)),n(vc,"verifyTypedData",(()=>s("1oiPr").verifyTypedData)),n(vc,"getAccountPath",(()=>s("jzW9V").getAccountPath)),n(vc,"mnemonicToEntropy",(()=>s("jzW9V").mnemonicToEntropy)),n(vc,"entropyToMnemonic",(()=>s("jzW9V").entropyToMnemonic)),n(vc,"isValidMnemonic",(()=>s("jzW9V").isValidMnemonic)),n(vc,"mnemonicToSeed",(()=>s("jzW9V").mnemonicToSeed)),n(vc,"SupportedAlgorithm",(()=>s("5kE85").SupportedAlgorithm)),n(vc,"UnicodeNormalizationForm",(()=>s("ekh6m").UnicodeNormalizationForm)),n(vc,"Utf8ErrorReason",(()=>s("ekh6m").Utf8ErrorReason)),n(vc,"Indexed",(()=>s("ibnKM").Indexed));ys=s("ibnKM"),ws=s("2KrXy"),to=s("8BRal"),no=s("h84gp"),ks=s("6k2y8"),ro=s("jrrKb"),s("jzW9V"),s("jZ9VB"),s("iXNEx"),Es=s("5t9tT"),io=s("5kE85"),s("2I20E"),Va=s("ejR95"),Ts=s("9d6XD"),s("ggLI3"),s("grRyT"),so=s("ekh6m"),Ns=s("9DQOe"),s("jRhWI"),s("1oiPr"),oo=s("6uGvI"),io=s("5kE85"),so=s("ekh6m"),Es=s("5t9tT");const wc="ethers/5.7.1",_c=new(0,Es.Logger)(wc);vs=s("7Ct33"),s("1oiPr"),_s=s("frbU3"),Ws=s("hT0jX"),Es=s("5t9tT"),s("2jabH"),vs=s("7Ct33"),s("1oiPr"),_s=s("frbU3"),Ws=s("hT0jX"),Es=s("5t9tT"),s("2jabH");try{const e=window;null==e._ethers&&(e._ethers=ms)}catch(e){}_s=s("frbU3");var kc=s("Ka5nG");function Tc(){let e=null,t=null;const n=new Promise(((n,r)=>{e=e=>n(e),t=e=>r(e)}));return[e,t,n]}function Nc(){return $r(Ji((e=>e)))}function Ec(e){return $r((void 0===t&&(t=ri),ci((function(e){return{value:e,timestamp:t.now()}}))),ps(((t,n)=>{let r=0;if(null!==t){const i=n.timestamp-t.timestamp;r=i>e?0:e-i}return{timestamp:n.timestamp,delay:r,value:n.value}}),null),$r(as((e=>null!=e))),ki((e=>Hi(e.value).pipe(ss(e.delay))),1));var t}function Ic(e){return Ce((()=>e.get()))}async function Ac(e){const t=Re.box();e.subscribe((e=>Ut((()=>t.set(e)))));const n=Ce((()=>t.get()));return await async function(e){const[t,,n]=Tc(),r=Ft((()=>e.get()),(e=>{e&&t(e)}),{fireImmediately:!0}),i=await n;return r(),i}(n),n}async function Sc(e,t=(e=>null!=e)){const[n,,r]=Tc();return e.pipe(hs(t)).subscribe(n),r}function Rc(e,t){return new Promise((n=>setTimeout((()=>n(t)),e)))}const Oc=function*(e=0,t=1,n=0){for(let r=0;r<e;yield n+r++*t);};async function xc(e,t){throw await Rc(e),new Error(t)}const Pc=async(e,t,n)=>Promise.race([e,xc(t,n)]),Cc=(e,t=[],n=10,r=1e3)=>{const[i,s,o]=Tc();return(async()=>{let o;for(let a=0;a<n;a++)try{o=await e(...t),i(o);break}catch(t){a<n-1?(console.info("[CallWithRetry Failed] attempt number="+a,e),console.error(t),await Rc(Math.min(r*2**a+100*Math.random(),15e3))):s(t)}})(),o};function Lc(e){return{...e,[Symbol.iterator](){return this}}}function Bc(e,t){return Lc({next(){const{done:n,value:r}=e.next();return{done:n,value:n?r:t(r)}}})}function Uc(e){let t=0;return Lc({next(){const n=t>=e.length;return n?{done:n,value:null}:{value:e[t++]}}})}function Dc(e){return function(e,t){if(t.reduce(((e,t)=>e+t),0)>32)throw new Error("JS pretends integers are 32 bit when bitshifts are involved");if(e.length!==t.length)throw new Error("Arrays' lengths must match");for(let n=0;n<e.length;n++){if(e[n]<0)throw new Error("Underflow: can only pack unsigned integer");if(e[n]>2**t[n]-1){const r=`Overflow: ${e[n]} does not fit in ${t[n]} bits`;throw new Error(r)}}let n=0;for(let r=0;r<e.length;r++)n=n<<t[r]|e[r];return n}(e,[8,24])}function jc(e,t){"0x"==e.substring(0,2)&&(e=e.substring(2));const n=t/4;return`0x${e=(e=e.padStart(n,"0")).substring(e.length-n)}`}function Mc(e){return jc(e,256)}function Vc(e){if("0"!==e[0]&&"x"!==e[1])throw new Error("Invalid hex string");return"0x"+e.substring(10)}_s=s("frbU3"),vs=s("7Ct33"),kc=s("Ka5nG");let Fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),zc=[];for(let e=0;e<Fc.length;e++)zc[Fc[e].charCodeAt(0)]=e;function Wc(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,r=new Uint8Array(t),i=0,s=0,o=0;for(let t=0;t<e.length;t++){if(n=zc[e.charCodeAt(t)],void 0===n)switch(e[t]){case"=":s=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:o=n,s=1;break;case 1:r[i++]=o<<2|(48&n)>>4,o=n,s=2;break;case 2:r[i++]=(15&o)<<4|(60&n)>>2,o=n,s=3;break;case 3:r[i++]=(3&o)<<6|n,s=0}}if(1==s)throw Error("invalid base64 string.");return r.subarray(0,i)}function Gc(e){let t,n="",r=0,i=0;for(let s=0;s<e.length;s++)switch(t=e[s],r){case 0:n+=Fc[t>>2],i=(3&t)<<4,r=1;break;case 1:n+=Fc[i|t>>4],i=(15&t)<<2,r=2;break;case 2:n+=Fc[i|t>>6],n+=Fc[63&t],r=0}return r&&(n+=Fc[i],n+="=",1==r&&(n+="=")),n}var Kc,Hc,qc;zc["-".charCodeAt(0)]=Fc.indexOf("+"),zc["_".charCodeAt(0)]=Fc.indexOf("/"),function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,r,i,s,o)=>{(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:i,wireType:s,data:o})},e.onWrite=(t,n,r)=>{for(let{no:t,wireType:i,data:s}of e.list(n))r.tag(t,i).raw(s)},e.list=(n,r)=>{if(t(n)){let t=n[e.symbol];return r?t.filter((e=>e.no==r)):t}return[]},e.last=(t,n)=>e.list(t,n).slice(-1)[0];const t=t=>t&&Array.isArray(t[e.symbol])}(Kc||(Kc={})),(qc=Hc||(Hc={}))[qc.Varint=0]="Varint",qc[qc.Bit64=1]="Bit64",qc[qc.LengthDelimited=2]="LengthDelimited",qc[qc.StartGroup=3]="StartGroup",qc[qc.EndGroup=4]="EndGroup",qc[qc.Bit32=5]="Bit32";const Jc={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},Yc={ignoreUnknownFields:!1};function $c(e){return e?Object.assign(Object.assign({},Yc),e):Yc}function Xc(e){return e?Object.assign(Object.assign({},Jc),e):Jc}function Qc(e,t){var n,r;let i=Object.assign(Object.assign({},e),t);return i.typeRegistry=[...null!==(n=null==e?void 0:e.typeRegistry)&&void 0!==n?n:[],...null!==(r=null==t?void 0:t.typeRegistry)&&void 0!==r?r:[]],i}const Zc=Symbol.for("protobuf-ts/message-type");function el(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);"_"==i?t=!0:/\d/.test(i)?(n.push(i),t=!0):t?(n.push(i.toUpperCase()),t=!1):0==r?n.push(i.toLowerCase()):n.push(i)}return n.join("")}var tl,nl,rl,il,sl,ol;function al(e){var t,n,r,i;return e.localName=null!==(t=e.localName)&&void 0!==t?t:el(e.name),e.jsonName=null!==(n=e.jsonName)&&void 0!==n?n:el(e.name),e.repeat=null!==(r=e.repeat)&&void 0!==r?r:sl.NO,e.opt=null!==(i=e.opt)&&void 0!==i?i:!e.repeat&&(!e.oneof&&"message"==e.kind),e}function cl(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return void 0!==e[e.oneofKind]&&2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(nl=tl||(tl={}))[nl.DOUBLE=1]="DOUBLE",nl[nl.FLOAT=2]="FLOAT",nl[nl.INT64=3]="INT64",nl[nl.UINT64=4]="UINT64",nl[nl.INT32=5]="INT32",nl[nl.FIXED64=6]="FIXED64",nl[nl.FIXED32=7]="FIXED32",nl[nl.BOOL=8]="BOOL",nl[nl.STRING=9]="STRING",nl[nl.BYTES=12]="BYTES",nl[nl.UINT32=13]="UINT32",nl[nl.SFIXED32=15]="SFIXED32",nl[nl.SFIXED64=16]="SFIXED64",nl[nl.SINT32=17]="SINT32",nl[nl.SINT64=18]="SINT64",(il=rl||(rl={}))[il.BIGINT=0]="BIGINT",il[il.STRING=1]="STRING",il[il.NUMBER=2]="NUMBER",(ol=sl||(sl={}))[ol.NO=0]="NO",ol[ol.PACKED=1]="PACKED",ol[ol.UNPACKED=2]="UNPACKED";class ll{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;const e=[],t=[],n=[];for(let r of this.fields)if(r.oneof)n.includes(r.oneof)||(n.push(r.oneof),e.push(r.oneof),t.push(r.oneof));else switch(t.push(r.localName),r.kind){case"scalar":case"enum":r.opt&&!r.repeat||e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName)}this.data={req:e,known:t,oneofs:Object.values(n)}}is(e,t,n=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let r=Object.keys(e),i=this.data;if(r.length<i.req.length||i.req.some((e=>!r.includes(e))))return!1;if(!n&&r.some((e=>!i.known.includes(e))))return!1;if(t<1)return!0;for(const r of i.oneofs){const i=e[r];if(!cl(i))return!1;if(void 0===i.oneofKind)continue;const s=this.fields.find((e=>e.localName===i.oneofKind));if(!s)return!1;if(!this.field(i[i.oneofKind],s,n,t))return!1}for(const r of this.fields)if(void 0===r.oneof&&!this.field(e[r.localName],r,n,t))return!1;return!0}field(e,t,n,r){let i=t.repeat;switch(t.kind){case"scalar":return void 0===e?t.opt:i?this.scalars(e,t.T,r,t.L):this.scalar(e,t.T,t.L);case"enum":return void 0===e?t.opt:i?this.scalars(e,tl.INT32,r):this.scalar(e,tl.INT32);case"message":return void 0===e||(i?this.messages(e,t.T(),n,r):this.message(e,t.T(),n,r));case"map":if("object"!=typeof e||null===e)return!1;if(r<2)return!0;if(!this.mapKeys(e,t.K,r))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,r,t.V.L);case"enum":return this.scalars(Object.values(e),tl.INT32,r);case"message":return this.messages(Object.values(e),t.V.T(),n,r)}}return!0}message(e,t,n,r){return n?t.isAssignable(e,r):t.is(e,r)}messages(e,t,n,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(n){for(let n=0;n<e.length&&n<r;n++)if(!t.isAssignable(e[n],r-1))return!1}else for(let n=0;n<e.length&&n<r;n++)if(!t.is(e[n],r-1))return!1;return!0}scalar(e,t,n){let r=typeof e;switch(t){case tl.UINT64:case tl.FIXED64:case tl.INT64:case tl.SFIXED64:case tl.SINT64:switch(n){case rl.BIGINT:return"bigint"==r;case rl.NUMBER:return"number"==r&&!isNaN(e);default:return"string"==r}case tl.BOOL:return"boolean"==r;case tl.STRING:return"string"==r;case tl.BYTES:return e instanceof Uint8Array;case tl.DOUBLE:case tl.FLOAT:return"number"==r&&!isNaN(e);default:return"number"==r&&Number.isInteger(e)}}scalars(e,t,n,r){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e))for(let i=0;i<e.length&&i<n;i++)if(!this.scalar(e[i],t,r))return!1;return!0}mapKeys(e,t,n){let r=Object.keys(e);switch(t){case tl.INT32:case tl.FIXED32:case tl.SFIXED32:case tl.SINT32:case tl.UINT32:return this.scalars(r.slice(0,n).map((e=>parseInt(e))),t,n);case tl.BOOL:return this.scalars(r.slice(0,n).map((e=>"true"==e||"false"!=e&&e)),t,n);default:return this.scalars(r,t,n,rl.STRING)}}}function ul(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function dl(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,0==(128&r))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,0==(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,0==(128&r))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function hl(e,t,n){for(let r=0;r<28;r+=7){const i=e>>>r,s=!(i>>>7==0&&0==t),o=255&(s?128|i:i);if(n.push(o),!s)return}const r=e>>>28&15|(7&t)<<4,i=!(t>>3==0);if(n.push(255&(i?128|r:r)),i){for(let e=3;e<31;e+=7){const r=t>>>e,i=!(r>>>7==0),s=255&(i?128|r:r);if(n.push(s),!i)return}n.push(t>>>31&1)}}const fl=4294967296;function pl(e){let t="-"==e[0];t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function s(t,s){const o=Number(e.slice(t,s));i*=n,r=r*n+o,r>=fl&&(i+=r/fl|0,r%=fl)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[t,r,i]}function ml(e,t){if(t<=2097151)return""+(fl*t+(e>>>0));let n=(e>>>24|t<<8)>>>0&16777215,r=t>>16&65535,i=(16777215&e)+6777216*n+6710656*r,s=n+8147497*r,o=2*r,a=1e7;function c(e,t){let n=e?String(e):"";return t?"0000000".slice(n.length)+n:n}return i>=a&&(s+=Math.floor(i/a),i%=a),s>=a&&(o+=Math.floor(s/a),s%=a),c(o,0)+c(s,o)+c(i,1)}function bl(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function yl(){let e=this.buf[this.pos++],t=127&e;if(0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,0==(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;0!=(128&e)&&t<10;t++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),t>>>0}const gl=function(){const e=new DataView(new ArrayBuffer(8));return void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();function vl(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const wl=/^-?[0-9]+$/,_l=4294967296;class kl{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=this.hi*_l+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class Tl extends kl{static from(e){if(gl)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=gl.C(e);case"number":if(0===e)return this.ZERO;e=gl.C(e);case"bigint":if(!e)return this.ZERO;if(e<gl.UMIN)throw new Error("signed value for ulong");if(e>gl.UMAX)throw new Error("ulong too large");return gl.V.setBigUint64(0,e,!0),new Tl(gl.V.getInt32(0,!0),gl.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!wl.test(e))throw new Error("string is no integer");let[t,n,r]=pl(e);if(t)throw new Error("signed value");return new Tl(n,r);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new Tl(e,e/_l)}throw new Error("unknown value "+typeof e)}toString(){return gl?this.toBigInt().toString():ml(this.lo,this.hi)}toBigInt(){return vl(gl),gl.V.setInt32(0,this.lo,!0),gl.V.setInt32(4,this.hi,!0),gl.V.getBigUint64(0,!0)}}Tl.ZERO=new Tl(0,0);class Nl extends kl{static from(e){if(gl)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=gl.C(e);case"number":if(0===e)return this.ZERO;e=gl.C(e);case"bigint":if(!e)return this.ZERO;if(e<gl.MIN)throw new Error("ulong too small");if(e>gl.MAX)throw new Error("ulong too large");return gl.V.setBigInt64(0,e,!0),new Nl(gl.V.getInt32(0,!0),gl.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!wl.test(e))throw new Error("string is no integer");let[t,n,r]=pl(e),i=new Nl(n,r);return t?i.negate():i;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new Nl(e,e/_l):new Nl(-e,-e/_l).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return 0!=(2147483648&this.hi)}negate(){let e=~this.hi,t=this.lo;return t?t=1+~t:e+=1,new Nl(t,e)}toString(){if(gl)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+ml(e.lo,e.hi)}return ml(this.lo,this.hi)}toBigInt(){return vl(gl),gl.V.setInt32(0,this.lo,!0),gl.V.setInt32(4,this.hi,!0),gl.V.getBigInt64(0,!0)}}function El(e,t){if(!e)throw new Error(t)}function Il(e,t){throw new Error(null!=t?t:"Unexpected object: "+e)}Nl.ZERO=new Nl(0,0);function Al(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function Sl(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function Rl(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}function Ol(e,t){switch(t){case rl.BIGINT:return e.toBigInt();case rl.NUMBER:return e.toNumber();default:return e.toString()}}class xl{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap){this.fMap={};const t=null!==(e=this.info.fields)&&void 0!==e?e:[];for(const e of t)this.fMap[e.name]=e,this.fMap[e.jsonName]=e,this.fMap[e.localName]=e}}assert(e,t,n){if(!e){let e=ul(n);throw"number"!=e&&"boolean"!=e||(e=n.toString()),new Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,n){this.prepare();const r=[];for(const[s,o]of Object.entries(e)){const e=this.fMap[s];if(!e){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${s}`);continue}const a=e.localName;let c;if(e.oneof){if(r.includes(e.oneof))throw new Error(`Multiple members of the oneof group "${e.oneof}" of ${this.info.typeName} are present in JSON.`);r.push(e.oneof),c=t[e.oneof]={oneofKind:a}}else c=t;if("map"==e.kind){if(null===o)continue;this.assert(null!==(i=o)&&"object"==typeof i&&!Array.isArray(i),e.name,o);const t=c[a];for(const[r,i]of Object.entries(o)){let s;switch(this.assert(null!==i,e.name+" map value",null),e.V.kind){case"message":s=e.V.T().internalJsonRead(i,n);break;case"enum":if(s=this.enum(e.V.T(),i,e.name,n.ignoreUnknownFields),!1===s)continue;break;case"scalar":s=this.scalar(i,e.V.T,e.V.L,e.name)}this.assert(void 0!==s,e.name+" map value",i);let o=r;e.K==tl.BOOL&&(o="true"==o||"false"!=o&&o),o=this.scalar(o,e.K,rl.STRING,e.name).toString(),t[o]=s}}else if(e.repeat){if(null===o)continue;this.assert(Array.isArray(o),e.name,o);const t=c[a];for(const r of o){let i;switch(this.assert(null!==r,e.name,null),e.kind){case"message":i=e.T().internalJsonRead(r,n);break;case"enum":if(i=this.enum(e.T(),r,e.name,n.ignoreUnknownFields),!1===i)continue;break;case"scalar":i=this.scalar(r,e.T,e.L,e.name)}this.assert(void 0!==i,e.name,o),t.push(i)}}else switch(e.kind){case"message":if(null===o&&"google.protobuf.Value"!=e.T().typeName){this.assert(void 0===e.oneof,e.name+" (oneof member)",null);continue}c[a]=e.T().internalJsonRead(o,n,c[a]);break;case"enum":let t=this.enum(e.T(),o,e.name,n.ignoreUnknownFields);if(!1===t)continue;c[a]=t;break;case"scalar":c[a]=this.scalar(o,e.T,e.L,e.name)}}var i}enum(e,t,n,r){if("google.protobuf.NullValue"==e[0]&&El(null===t,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return El(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${t}.`),t;case"string":let i=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(i=t.substring(e[2].length));let s=e[1][i];return(void 0!==s||!r)&&(El("number"==typeof s,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${t}".`),s)}El(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,n,r){let i;try{switch(t){case tl.DOUBLE:case tl.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){i="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){i="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let r=Number(e);if(Number.isNaN(r)){i="not a number";break}if(!Number.isFinite(r)){i="too large or small";break}return t==tl.FLOAT&&Rl(r),r;case tl.INT32:case tl.FIXED32:case tl.SFIXED32:case tl.SINT32:case tl.UINT32:if(null===e)return 0;let s;if("number"==typeof e?s=e:""===e?i="empty string":"string"==typeof e&&(e.trim().length!==e.length?i="extra whitespace":s=Number(e)),void 0===s)break;return t==tl.UINT32?Sl(s):Al(s),s;case tl.INT64:case tl.SFIXED64:case tl.SINT64:if(null===e)return Ol(Nl.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return Ol(Nl.from(e),n);case tl.FIXED64:case tl.UINT64:if(null===e)return Ol(Tl.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return Ol(Tl.from(e),n);case tl.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case tl.STRING:if(null===e)return"";if("string"!=typeof e){i="extra whitespace";break}try{encodeURIComponent(e)}catch(e){e="invalid UTF8";break}return e;case tl.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return Wc(e)}}catch(e){i=e.message}this.assert(!1,r+(i?" - "+i:""),e)}}class Pl{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){const n={},r=e;for(const e of this.fields){if(!e.oneof){let i=this.field(e,r[e.localName],t);void 0!==i&&(n[t.useProtoFieldName?e.name:e.jsonName]=i);continue}const i=r[e.oneof];if(i.oneofKind!==e.localName)continue;const s="scalar"==e.kind||"enum"==e.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let o=this.field(e,i[e.localName],s);El(void 0!==o),n[t.useProtoFieldName?e.name:e.jsonName]=o}return n}field(e,t,n){let r;if("map"==e.kind){El("object"==typeof t&&null!==t);const i={};switch(e.V.kind){case"scalar":for(const[n,r]of Object.entries(t)){const t=this.scalar(e.V.T,r,e.name,!1,!0);El(void 0!==t),i[n.toString()]=t}break;case"message":const r=e.V.T();for(const[s,o]of Object.entries(t)){const t=this.message(r,o,e.name,n);El(void 0!==t),i[s.toString()]=t}break;case"enum":const s=e.V.T();for(const[r,o]of Object.entries(t)){El(void 0===o||"number"==typeof o);const t=this.enum(s,o,e.name,!1,!0,n.enumAsInteger);El(void 0!==t),i[r.toString()]=t}}(n.emitDefaultValues||Object.keys(i).length>0)&&(r=i)}else if(e.repeat){El(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++){const r=this.scalar(e.T,t[n],e.name,e.opt,!0);El(void 0!==r),i.push(r)}break;case"enum":const r=e.T();for(let s=0;s<t.length;s++){El(void 0===t[s]||"number"==typeof t[s]);const o=this.enum(r,t[s],e.name,e.opt,!0,n.enumAsInteger);El(void 0!==o),i.push(o)}break;case"message":const s=e.T();for(let r=0;r<t.length;r++){const o=this.message(s,t[r],e.name,n);El(void 0!==o),i.push(o)}}(n.emitDefaultValues||i.length>0||n.emitDefaultValues)&&(r=i)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,n)}return r}enum(e,t,n,r,i,s){if("google.protobuf.NullValue"==e[0])return null;if(void 0!==t){if(0!==t||i||r)return El("number"==typeof t),El(Number.isInteger(t)),s||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}else El(r)}message(e,t,n,r){return void 0===t?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}scalar(e,t,n,r,i){if(void 0===t)return void El(r);const s=i||r;switch(e){case tl.INT32:case tl.SFIXED32:case tl.SINT32:return 0===t?s?0:void 0:(Al(t),t);case tl.FIXED32:case tl.UINT32:return 0===t?s?0:void 0:(Sl(t),t);case tl.FLOAT:Rl(t);case tl.DOUBLE:return 0===t?s?0:void 0:(El("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case tl.STRING:return""===t?s?"":void 0:(El("string"==typeof t),t);case tl.BOOL:return!1===t?!s&&void 0:(El("boolean"==typeof t),t);case tl.UINT64:case tl.FIXED64:El("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let e=Tl.from(t);if(e.isZero()&&!s)return;return e.toString();case tl.INT64:case tl.SFIXED64:case tl.SINT64:El("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let n=Nl.from(t);if(n.isZero()&&!s)return;return n.toString();case tl.BYTES:return El(t instanceof Uint8Array),t.byteLength?Gc(t):s?"":void 0}}}function Cl(e,t=rl.STRING){switch(e){case tl.BOOL:return!1;case tl.UINT64:case tl.FIXED64:return Ol(Tl.ZERO,t);case tl.INT64:case tl.SFIXED64:case tl.SINT64:return Ol(Nl.ZERO,t);case tl.DOUBLE:case tl.FLOAT:return 0;case tl.BYTES:return new Uint8Array(0);case tl.STRING:return"";default:return 0}}class Ll{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map((e=>[e.no,e])))}}read(e,t,n,r){this.prepare();const i=void 0===r?e.len:e.pos+r;for(;e.pos<i;){const[r,i]=e.tag(),s=this.fieldNoToField.get(r);if(!s){let s=n.readUnknownField;if("throw"==s)throw new Error(`Unknown field ${r} (wire type ${i}) for ${this.info.typeName}`);let o=e.skip(i);!1!==s&&(!0===s?Kc.onRead:s)(this.info.typeName,t,r,i,o);continue}let o=t,a=s.repeat,c=s.localName;switch(s.oneof&&(o=o[s.oneof],o.oneofKind!==c&&(o=t[s.oneof]={oneofKind:c})),s.kind){case"scalar":case"enum":let t="enum"==s.kind?tl.INT32:s.T,r="scalar"==s.kind?s.L:void 0;if(a){let n=o[c];if(i==Hc.LengthDelimited&&t!=tl.STRING&&t!=tl.BYTES){let i=e.uint32()+e.pos;for(;e.pos<i;)n.push(this.scalar(e,t,r))}else n.push(this.scalar(e,t,r))}else o[c]=this.scalar(e,t,r);break;case"message":if(a){let t=o[c],r=s.T().internalBinaryRead(e,e.uint32(),n);t.push(r)}else o[c]=s.T().internalBinaryRead(e,e.uint32(),n,o[c]);break;case"map":let[l,u]=this.mapEntry(s,e,n);o[c][l]=u}}}mapEntry(e,t,n){let r,i,s=t.uint32(),o=t.pos+s;for(;t.pos<o;){let[s,o]=t.tag();switch(s){case 1:r=e.K==tl.BOOL?t.bool().toString():this.scalar(t,e.K,rl.STRING);break;case 2:switch(e.V.kind){case"scalar":i=this.scalar(t,e.V.T,e.V.L);break;case"enum":i=t.int32();break;case"message":i=e.V.T().internalBinaryRead(t,t.uint32(),n)}break;default:throw new Error(`Unknown field ${s} (wire type ${o}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===r){let t=Cl(e.K);r=e.K==tl.BOOL?t.toString():t}if(void 0===i)switch(e.V.kind){case"scalar":i=Cl(e.V.T,e.V.L);break;case"enum":i=0;break;case"message":i=e.V.T().create()}return[r,i]}scalar(e,t,n){switch(t){case tl.INT32:return e.int32();case tl.STRING:return e.string();case tl.BOOL:return e.bool();case tl.DOUBLE:return e.double();case tl.FLOAT:return e.float();case tl.INT64:return Ol(e.int64(),n);case tl.UINT64:return Ol(e.uint64(),n);case tl.FIXED64:return Ol(e.fixed64(),n);case tl.FIXED32:return e.fixed32();case tl.BYTES:return e.bytes();case tl.UINT32:return e.uint32();case tl.SFIXED32:return e.sfixed32();case tl.SFIXED64:return Ol(e.sfixed64(),n);case tl.SINT32:return e.sint32();case tl.SINT64:return Ol(e.sint64(),n)}}}class Bl{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort(((e,t)=>e.no-t.no))}}write(e,t,n){this.prepare();for(const r of this.fields){let i,s,o=r.repeat,a=r.localName;if(r.oneof){const t=e[r.oneof];if(t.oneofKind!==a)continue;i=t[a],s=!0}else i=e[a],s=!1;switch(r.kind){case"scalar":case"enum":let e="enum"==r.kind?tl.INT32:r.T;if(o)if(El(Array.isArray(i)),o==sl.PACKED)this.packed(t,e,r.no,i);else for(const n of i)this.scalar(t,e,r.no,n,!0);else void 0===i?El(r.opt):this.scalar(t,e,r.no,i,s||r.opt);break;case"message":if(o){El(Array.isArray(i));for(const e of i)this.message(t,n,r.T(),r.no,e)}else this.message(t,n,r.T(),r.no,i);break;case"map":El("object"==typeof i&&null!==i);for(const[e,s]of Object.entries(i))this.mapEntry(t,n,r,e,s)}}let r=n.writeUnknownFields;!1!==r&&(!0===r?Kc.onWrite:r)(this.info.typeName,e,t)}mapEntry(e,t,n,r,i){e.tag(n.no,Hc.LengthDelimited),e.fork();let s=r;switch(n.K){case tl.INT32:case tl.FIXED32:case tl.UINT32:case tl.SFIXED32:case tl.SINT32:s=Number.parseInt(r);break;case tl.BOOL:El("true"==r||"false"==r),s="true"==r}switch(this.scalar(e,n.K,1,s,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,i,!0);break;case"enum":this.scalar(e,tl.INT32,2,i,!0);break;case"message":this.message(e,t,n.V.T(),2,i)}e.join()}message(e,t,n,r,i){void 0!==i&&(n.internalBinaryWrite(i,e.tag(r,Hc.LengthDelimited).fork(),t),e.join())}scalar(e,t,n,r,i){let[s,o,a]=this.scalarInfo(t,r);a&&!i||(e.tag(n,s),e[o](r))}packed(e,t,n,r){if(!r.length)return;El(t!==tl.BYTES&&t!==tl.STRING),e.tag(n,Hc.LengthDelimited),e.fork();let[,i]=this.scalarInfo(t);for(let t=0;t<r.length;t++)e[i](r[t]);e.join()}scalarInfo(e,t){let n,r=Hc.Varint,i=void 0===t,s=0===t;switch(e){case tl.INT32:n="int32";break;case tl.STRING:s=i||!t.length,r=Hc.LengthDelimited,n="string";break;case tl.BOOL:s=!1===t,n="bool";break;case tl.UINT32:n="uint32";break;case tl.DOUBLE:r=Hc.Bit64,n="double";break;case tl.FLOAT:r=Hc.Bit32,n="float";break;case tl.INT64:s=i||Nl.from(t).isZero(),n="int64";break;case tl.UINT64:s=i||Tl.from(t).isZero(),n="uint64";break;case tl.FIXED64:s=i||Tl.from(t).isZero(),r=Hc.Bit64,n="fixed64";break;case tl.BYTES:s=i||!t.byteLength,r=Hc.LengthDelimited,n="bytes";break;case tl.FIXED32:r=Hc.Bit32,n="fixed32";break;case tl.SFIXED32:r=Hc.Bit32,n="sfixed32";break;case tl.SFIXED64:s=i||Nl.from(t).isZero(),r=Hc.Bit64,n="sfixed64";break;case tl.SINT32:n="sint32";break;case tl.SINT64:s=i||Nl.from(t).isZero(),n="sint64"}return[r,n,i||s]}}function Ul(e){const t={};Object.defineProperty(t,Zc,{enumerable:!1,value:e});for(let n of e.fields){let e=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[e]=[];else switch(n.kind){case"scalar":t[e]=Cl(n.T,n.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}return t}function Dl(e,t,n){let r,i,s=n;for(let n of e.fields){let e=n.localName;if(n.oneof){const o=s[n.oneof];if(null==o)continue;if(r=o[e],i=t[n.oneof],i.oneofKind=o.oneofKind,null==r){delete i[e];continue}}else if(r=s[e],i=t,null==r)continue;switch(n.repeat&&(i[e].length=r.length),n.kind){case"scalar":case"enum":if(n.repeat)for(let t=0;t<r.length;t++)i[e][t]=r[t];else i[e]=r;break;case"message":let t=n.T();if(n.repeat)for(let n=0;n<r.length;n++)i[e][n]=t.create(r[n]);else void 0===i[e]?i[e]=t.create(r):t.mergePartial(i[e],r);break;case"map":switch(n.V.kind){case"scalar":case"enum":Object.assign(i[e],r);break;case"message":let t=n.V.T();for(let n of Object.keys(r))i[e][n]=t.create(r[n])}}}}function jl(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let r of e.fields){let e=r.localName,i=r.oneof?t[r.oneof][e]:t[e],s=r.oneof?n[r.oneof][e]:n[e];switch(r.kind){case"enum":case"scalar":let e="enum"==r.kind?tl.INT32:r.T;if(!(r.repeat?Fl(e,i,s):Vl(e,i,s)))return!1;break;case"map":if(!("message"==r.V.kind?zl(r.V.T(),Ml(i),Ml(s)):Fl("enum"==r.V.kind?tl.INT32:r.V.T,Ml(i),Ml(s))))return!1;break;case"message":let t=r.T();if(!(r.repeat?zl(t,i,s):t.equals(i,s)))return!1}}return!0}const Ml=Object.values;function Vl(e,t,n){if(t===n)return!0;if(e!==tl.BYTES)return!1;let r=t,i=n;if(r.length!==i.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!=i[e])return!1;return!0}function Fl(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!Vl(e,t[r],n[r]))return!1;return!0}function zl(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}const Wl={writeUnknownFields:!0,writerFactory:()=>new Kl};function Gl(e){return e?Object.assign(Object.assign({},Wl),e):Wl}class Kl{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Sl(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return Al(e),bl(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){Rl(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){Sl(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){Al(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return Al(e),bl(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=Nl.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=Tl.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=Nl.from(e);return hl(t.lo,t.hi,this.buf),this}sint64(e){let t=Nl.from(e),n=t.hi>>31;return hl(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=Tl.from(e);return hl(t.lo,t.hi,this.buf),this}}const Hl={readUnknownField:!0,readerFactory:e=>new Jl(e)};function ql(e){return e?Object.assign(Object.assign({},Hl),e):Hl}class Jl{constructor(e,t){this.varint64=dl,this.uint32=yl,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case Hc.Varint:for(;128&this.buf[this.pos++];);break;case Hc.Bit64:this.pos+=4;case Hc.Bit32:this.pos+=4;break;case Hc.LengthDelimited:let t=this.uint32();this.pos+=t;break;case Hc.StartGroup:let n;for(;(n=this.tag()[1])!==Hc.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new Nl(...this.varint64())}uint64(){return new Tl(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,new Nl(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new Tl(this.sfixed32(),this.sfixed32())}sfixed64(){return new Nl(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}class Yl{constructor(e,t,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(al),this.options=null!=n?n:{},this.refTypeCheck=new ll(this),this.refJsonReader=new xl(this),this.refJsonWriter=new Pl(this),this.refBinReader=new Ll(this),this.refBinWriter=new Bl(this)}create(e){let t=Ul(this);return void 0!==e&&Dl(this,t,e),t}clone(e){let t=this.create();return Dl(this,t,e),t}equals(e,t){return jl(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){Dl(this,e,t)}fromBinary(e,t){let n=ql(t);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,t){return this.internalJsonRead(e,$c(t))}fromJsonString(e,t){let n=JSON.parse(e);return this.fromJson(n,t)}toJson(e,t){return this.internalJsonWrite(e,Xc(t))}toJsonString(e,t){var n;let r=this.toJson(e,t);return JSON.stringify(r,null,null!==(n=null==t?void 0:t.prettySpaces)&&void 0!==n?n:0)}toBinary(e,t){let n=Gl(t);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,t,n){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let r=null!=n?n:this.create();return this.refJsonReader.read(e,r,t),r}throw new Error(`Unable to parse message ${this.typeName} from JSON ${ul(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,n){return this.refBinWriter.write(e,t,n),t}internalBinaryRead(e,t,n,r){let i=null!=r?r:this.create();return this.refBinReader.read(e,i,n,t),i}}function $l(e,t){var n,r,i;let s=e;return s.service=t,s.localName=null!==(n=s.localName)&&void 0!==n?n:el(s.name),s.serverStreaming=!!s.serverStreaming,s.clientStreaming=!!s.clientStreaming,s.options=null!==(r=s.options)&&void 0!==r?r:{},s.idempotency=null!==(i=s.idempotency)&&void 0!==i?i:void 0,s}class Xl{constructor(e,t,n){this.typeName=e,this.methods=t.map((e=>$l(e,this))),this.options=null!=n?n:{}}}class Ql extends Error{constructor(e,t="UNKNOWN",n){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!=n?n:{}}toString(){const e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length){e.push(""),e.push("Meta:");for(let[n,r]of t)e.push(`  ${n}: ${r}`)}return e.join("\n")}}function Zl(e,t){if(!t)return e;let n={};eu(e,n),eu(t,n);for(let s of Object.keys(t)){let o=t[s];switch(s){case"jsonOptions":n.jsonOptions=Qc(e.jsonOptions,n.jsonOptions);break;case"binaryOptions":n.binaryOptions=(r=e.binaryOptions,i=n.binaryOptions,Object.assign(Object.assign({},r),i));break;case"meta":n.meta={},eu(e.meta,n.meta),eu(t.meta,n.meta);break;case"interceptors":n.interceptors=e.interceptors?e.interceptors.concat(o):o.concat()}}var r,i;return n}function eu(e,t){if(!e)return;let n=t;for(let[t,r]of Object.entries(e))r instanceof Date?n[t]=new Date(r.getTime()):Array.isArray(r)?n[t]=r.concat():n[t]=r}var tu,nu;(nu=tu||(tu={}))[nu.PENDING=0]="PENDING",nu[nu.REJECTED=1]="REJECTED",nu[nu.RESOLVED=2]="RESOLVED";class ru{constructor(e=!0){this._state=tu.PENDING,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),e&&this._promise.catch((e=>{}))}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==tu.PENDING)throw new Error(`cannot resolve ${tu[this.state].toLowerCase()}`);this._resolve(e),this._state=tu.RESOLVED}reject(e){if(this.state!==tu.PENDING)throw new Error(`cannot reject ${tu[this.state].toLowerCase()}`);this._reject(e),this._state=tu.REJECTED}resolvePending(e){this._state===tu.PENDING&&this.resolve(e)}rejectPending(e){this._state===tu.PENDING&&this.reject(e)}}class iu{constructor(){this._lis={nxt:[],msg:[],err:[],cmp:[]},this._closed=!1}onNext(e){return this.addLis(e,this._lis.nxt)}onMessage(e){return this.addLis(e,this._lis.msg)}onError(e){return this.addLis(e,this._lis.err)}onComplete(e){return this.addLis(e,this._lis.cmp)}addLis(e,t){return t.push(e),()=>{let n=t.indexOf(e);n>=0&&t.splice(n,1)}}clearLis(){for(let e of Object.values(this._lis))e.splice(0,e.length)}get closed(){return!1!==this._closed}notifyNext(e,t,n){El((e?1:0)+(t?1:0)+(n?1:0)<=1,"only one emission at a time"),e&&this.notifyMessage(e),t&&this.notifyError(t),n&&this.notifyComplete()}notifyMessage(e){El(!this.closed,"stream is closed"),this.pushIt({value:e,done:!1}),this._lis.msg.forEach((t=>t(e))),this._lis.nxt.forEach((t=>t(e,void 0,!1)))}notifyError(e){El(!this.closed,"stream is closed"),this._closed=e,this.pushIt(e),this._lis.err.forEach((t=>t(e))),this._lis.nxt.forEach((t=>t(void 0,e,!1))),this.clearLis()}notifyComplete(){El(!this.closed,"stream is closed"),this._closed=!0,this.pushIt({value:null,done:!0}),this._lis.cmp.forEach((e=>e())),this._lis.nxt.forEach((e=>e(void 0,void 0,!0))),this.clearLis()}[Symbol.asyncIterator](){return this._itState||(this._itState={q:[]}),!0===this._closed?this.pushIt({value:null,done:!0}):!1!==this._closed&&this.pushIt(this._closed),{next:()=>{let e=this._itState;El(e,"bad state"),El(!e.p,"iterator contract broken");let t=e.q.shift();return t?"value"in t?Promise.resolve(t):Promise.reject(t):(e.p=new ru,e.p.promise)}}}pushIt(e){let t=this._itState;if(t)if(t.p){const n=t.p;El(n.state==tu.PENDING,"iterator contract broken"),"value"in e?n.resolve(e):n.reject(e),delete t.p}else t.q.push(e)}}var su={};n(su,"ServerStreamingCall",(()=>au),(e=>au=e));var ou=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class au{constructor(e,t,n,r,i,s,o){this.method=e,this.requestHeaders=t,this.request=n,this.headers=r,this.responses=i,this.status=s,this.trailers=o}then(e,t){return this.promiseFinished().then((t=>e?Promise.resolve(e(t)):t),(e=>t?Promise.resolve(t(e)):Promise.reject(e)))}promiseFinished(){return ou(this,void 0,void 0,(function*(){let[e,t,n]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,status:t,trailers:n}}))}}var cu={};n(cu,"UnaryCall",(()=>uu),(e=>uu=e));var lu=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class uu{constructor(e,t,n,r,i,s,o){this.method=e,this.requestHeaders=t,this.request=n,this.headers=r,this.response=i,this.status=s,this.trailers=o}then(e,t){return this.promiseFinished().then((t=>e?Promise.resolve(e(t)):t),(e=>t?Promise.resolve(t(e)):Promise.reject(e)))}promiseFinished(){return lu(this,void 0,void 0,(function*(){let[e,t,n,r]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:n,trailers:r}}))}}function du(e,t,n,r,i){var s,o,a,c;if("unary"==e){let e=(e,n,r)=>t.unary(e,n,r);for(const t of(null!==(s=r.interceptors)&&void 0!==s?s:[]).filter((e=>e.interceptUnary)).reverse()){const n=e;e=(e,r,i)=>t.interceptUnary(n,e,r,i)}return e(n,i,r)}if("serverStreaming"==e){let e=(e,n,r)=>t.serverStreaming(e,n,r);for(const t of(null!==(o=r.interceptors)&&void 0!==o?o:[]).filter((e=>e.interceptServerStreaming)).reverse()){const n=e;e=(e,r,i)=>t.interceptServerStreaming(n,e,r,i)}return e(n,i,r)}if("clientStreaming"==e){let e=(e,n)=>t.clientStreaming(e,n);for(const t of(null!==(a=r.interceptors)&&void 0!==a?a:[]).filter((e=>e.interceptClientStreaming)).reverse()){const n=e;e=(e,r)=>t.interceptClientStreaming(n,e,r)}return e(n,r)}if("duplex"==e){let e=(e,n)=>t.duplex(e,n);for(const t of(null!==(c=r.interceptors)&&void 0!==c?c:[]).filter((e=>e.interceptDuplex)).reverse()){const n=e;e=(e,r)=>t.interceptDuplex(n,e,r)}return e(n,r)}Il(e)}var hu,fu,pu={};n(pu,"createGrpcWebRequestHeader",(()=>gu),(e=>gu=e)),n(pu,"createGrpcWebRequestBody",(()=>vu),(e=>vu=e)),n(pu,"GrpcWebFrame",(()=>mu),(e=>mu=e)),n(pu,"readGrpcWebResponseHeader",(()=>wu),(e=>wu=e)),n(pu,"readGrpcWebResponseTrailer",(()=>_u),(e=>_u=e)),n(pu,"readGrpcWebResponseBody",(()=>ku),(e=>ku=e)),(fu=hu||(hu={}))[fu.OK=0]="OK",fu[fu.CANCELLED=1]="CANCELLED",fu[fu.UNKNOWN=2]="UNKNOWN",fu[fu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fu[fu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fu[fu.NOT_FOUND=5]="NOT_FOUND",fu[fu.ALREADY_EXISTS=6]="ALREADY_EXISTS",fu[fu.PERMISSION_DENIED=7]="PERMISSION_DENIED",fu[fu.UNAUTHENTICATED=16]="UNAUTHENTICATED",fu[fu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fu[fu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fu[fu.ABORTED=10]="ABORTED",fu[fu.OUT_OF_RANGE=11]="OUT_OF_RANGE",fu[fu.UNIMPLEMENTED=12]="UNIMPLEMENTED",fu[fu.INTERNAL=13]="INTERNAL",fu[fu.UNAVAILABLE=14]="UNAVAILABLE",fu[fu.DATA_LOSS=15]="DATA_LOSS";var mu,bu,yu=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function gu(e,t,n,r,i){if(r)for(let[t,n]of Object.entries(r))if("string"==typeof n)e.append(t,n);else for(let r of n)e.append(t,r);if(e.set("Content-Type","text"===t?"application/grpc-web-text":"application/grpc-web+proto"),"text"==t&&e.set("Accept","application/grpc-web-text"),e.set("X-Grpc-Web","1"),i&&e.set("X-User-Agent",i),"number"==typeof n){if(n<=0)throw new Ql(`timeout ${n} ms exceeded`,hu[hu.DEADLINE_EXCEEDED]);e.set("grpc-timeout",`${n}m`)}else if(n){const t=n.getTime(),r=Date.now();if(t<=r)throw new Ql(`deadline ${n} exceeded`,hu[hu.DEADLINE_EXCEEDED]);e.set("grpc-timeout",t-r+"m")}return e}function vu(e,t){let n=new Uint8Array(5+e.length);n[0]=mu.DATA;for(let t=e.length,r=4;r>0;r--)n[r]=t%256,t>>>=8;return n.set(e,5),"binary"===t?n:Gc(n)}function wu(e,t,n){if(1===arguments.length){let t,n=e;try{t=n.type}catch(e){}switch(t){case"error":case"opaque":case"opaqueredirect":throw new Ql(`fetch response type ${n.type}`,hu[hu.UNKNOWN])}return wu(Au(n.headers),n.status,n.statusText)}let r=e,i=t>=200&&t<300,s=Iu(r),[o,a]=Eu(r);return void 0!==o&&o!==hu.OK||i||(o=Su(t),a=n),[o,a,s]}function _u(e){let t=function(e){let t={};for(let n of String.fromCharCode.apply(String,e).trim().split("\r\n")){if(""==n)continue;let[e,...r]=n.split(":");const i=r.join(":").trim();e=e.trim();let s=t[e];"string"==typeof s?t[e]=[s,i]:Array.isArray(s)?s.push(i):t[e]=i}return t}(e),[n,r]=Eu(t),i=Iu(t);return[null!=n?n:hu.OK,r,i]}function ku(e,t,n){return yu(this,void 0,void 0,(function*(){let r,i="",s=new Uint8Array(0),o=function(e){switch(e){case"application/grpc-web-text":case"application/grpc-web-text+proto":return"text";case"application/grpc-web":case"application/grpc-web+proto":return"binary";case void 0:case null:throw new Ql("missing response content type",hu[hu.INTERNAL]);default:throw new Ql("unexpected response content type: "+e,hu[hu.INTERNAL])}}(t);if(Tu(e)){let t=e.getReader();r={next:()=>t.read()}}else r=e[Symbol.asyncIterator]();for(;;){let e=yield r.next();if(void 0!==e.value){if("text"===o){for(let t=0;t<e.value.length;t++)i+=String.fromCharCode(e.value[t]);let t=i.length-i.length%4;if(0===t)continue;s=Nu(s,Wc(i.substring(0,t))),i=i.substring(t)}else s=Nu(s,e.value);for(;s.length>=5&&s[0]===mu.DATA;){let e=0;for(let t=1;t<5;t++)e=(e<<8)+s[t];if(!(s.length-5>=e))break;n(mu.DATA,s.subarray(5,5+e)),s=s.subarray(5+e)}}if(e.done){if(0===s.length)break;if(s[0]!==mu.TRAILER||s.length<5)throw new Ql("premature EOF",hu[hu.DATA_LOSS]);n(mu.TRAILER,s.subarray(5));break}}}))}(bu=mu||(mu={}))[bu.DATA=0]="DATA",bu[bu.TRAILER=128]="TRAILER";const Tu=e=>"function"==typeof e.getReader;function Nu(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Eu(e){let t,n,r=e["grpc-message"];if(void 0!==r){if(Array.isArray(r))return[hu.INTERNAL,"invalid grpc-web message"];n=r}let i=e["grpc-status"];if(void 0!==i){if(Array.isArray(i))return[hu.INTERNAL,"invalid grpc-web status"];if(t=parseInt(i,10),void 0===hu[t])return[hu.INTERNAL,"invalid grpc-web status"]}return[t,n]}function Iu(e){let t={};for(let[n,r]of Object.entries(e))switch(n){case"grpc-message":case"grpc-status":case"content-type":break;default:t[n]=r}return t}function Au(e){let t={};return e.forEach(((e,n)=>{let r=t[n];"string"==typeof r?t[n]=[r,e]:Array.isArray(r)?r.push(e):t[n]=e})),t}function Su(e){switch(e){case 200:return hu.OK;case 400:return hu.INVALID_ARGUMENT;case 401:return hu.UNAUTHENTICATED;case 403:return hu.PERMISSION_DENIED;case 404:return hu.NOT_FOUND;case 409:return hu.ABORTED;case 412:return hu.FAILED_PRECONDITION;case 429:return hu.RESOURCE_EXHAUSTED;case 499:return hu.CANCELLED;case 500:default:return hu.UNKNOWN;case 501:return hu.UNIMPLEMENTED;case 503:return hu.UNAVAILABLE;case 504:return hu.DEADLINE_EXCEEDED}}class Ru{constructor(e){this.defaultOptions=e}mergeOptions(e){return Zl(this.defaultOptions,e)}makeUrl(e,t){let n=t.baseUrl;return n.endsWith("/")&&(n=n.substring(0,n.length-1)),`${n}/${e.service.typeName}/${e.name}`}clientStreaming(e){const t=new Ql("Client streaming is not supported by grpc-web",hu[hu.UNIMPLEMENTED]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){const t=new Ql("Duplex streaming is not supported by grpc-web",hu[hu.UNIMPLEMENTED]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e,t,n){var r,i,s,o;let a,c,l=n,u=null!==(r=l.format)&&void 0!==r?r:"text",d=null!==(i=l.fetchInit)&&void 0!==i?i:{},h=this.makeUrl(e,l),f=e.I.toBinary(t,l.binaryOptions),p=new ru,m=new iu,b=!0,y=new ru,g=new ru;return globalThis.fetch(h,Object.assign(Object.assign({},d),{method:"POST",headers:(0,pu.createGrpcWebRequestHeader)(new globalThis.Headers,u,l.timeout,l.meta),body:(0,pu.createGrpcWebRequestBody)(f,u),signal:null!==(s=n.abort)&&void 0!==s?s:null})).then((e=>{let[t,n,r]=(0,pu.readGrpcWebResponseHeader)(e);if(p.resolve(r),null!=t&&t!==hu.OK)throw new Ql(null!=n?n:hu[t],hu[t],r);return null!=t&&(a={code:hu[t],detail:null!=n?n:hu[t]}),e})).then((t=>{if(!t.body)throw new Ql("missing response body",hu[hu.INTERNAL]);return(0,pu.readGrpcWebResponseBody)(t.body,t.headers.get("content-type"),((t,n)=>{switch(t){case pu.GrpcWebFrame.DATA:m.notifyMessage(e.O.fromBinary(n,l.binaryOptions)),b=!1;break;case pu.GrpcWebFrame.TRAILER:let t,r;[t,r,c]=(0,pu.readGrpcWebResponseTrailer)(n),a={code:hu[t],detail:null!=r?r:hu[t]}}}))})).then((()=>{if(!c&&!b)throw new Ql("missing trailers",hu[hu.DATA_LOSS]);if(!a)throw new Ql("missing status",hu[hu.INTERNAL]);if("OK"!==a.code)throw new Ql(a.detail,a.code,c);m.notifyComplete(),y.resolve(a),g.resolve(c||{})})).catch((t=>{let n;n=t instanceof Ql?t:t instanceof Error&&"AbortError"===t.name?new Ql(t.message,hu[hu.CANCELLED]):new Ql(t instanceof Error?t.message:""+t,hu[hu.INTERNAL]),n.methodName=e.name,n.serviceName=e.service.typeName,p.rejectPending(n),m.notifyError(n),y.rejectPending(n),g.rejectPending(n)})),new(0,su.ServerStreamingCall)(e,null!==(o=l.meta)&&void 0!==o?o:{},t,p.promise,m,y.promise,g.promise)}unary(e,t,n){var r,i,s,o;let a,c,l,u=n,d=null!==(r=u.format)&&void 0!==r?r:"text",h=null!==(i=u.fetchInit)&&void 0!==i?i:{},f=this.makeUrl(e,u),p=e.I.toBinary(t,u.binaryOptions),m=new ru,b=new ru,y=new ru,g=new ru;return globalThis.fetch(f,Object.assign(Object.assign({},h),{method:"POST",headers:(0,pu.createGrpcWebRequestHeader)(new globalThis.Headers,d,u.timeout,u.meta),body:(0,pu.createGrpcWebRequestBody)(p,d),signal:null!==(s=n.abort)&&void 0!==s?s:null})).then((e=>{let[t,n,r]=(0,pu.readGrpcWebResponseHeader)(e);if(m.resolve(r),null!=t&&t!==hu.OK)throw new Ql(null!=n?n:hu[t],hu[t],r);return null!=t&&(c={code:hu[t],detail:null!=n?n:hu[t]}),e})).then((t=>{if(!t.body)throw new Ql("missing response body",hu[hu.INTERNAL]);return(0,pu.readGrpcWebResponseBody)(t.body,t.headers.get("content-type"),((t,n)=>{switch(t){case pu.GrpcWebFrame.DATA:if(a)throw new Ql("unary call received 2nd message",hu[hu.DATA_LOSS]);a=e.O.fromBinary(n,u.binaryOptions);break;case pu.GrpcWebFrame.TRAILER:let t,r;[t,r,l]=(0,pu.readGrpcWebResponseTrailer)(n),c={code:hu[t],detail:null!=r?r:hu[t]}}}))})).then((()=>{if(!l&&a)throw new Ql("missing trailers",hu[hu.DATA_LOSS]);if(!c)throw new Ql("missing status",hu[hu.INTERNAL]);if(!a&&"OK"===c.code)throw new Ql("expected error status",hu[hu.DATA_LOSS]);if(!a)throw new Ql(c.detail,c.code,l);if(b.resolve(a),"OK"!==c.code)throw new Ql(c.detail,c.code,l);y.resolve(c),g.resolve(l||{})})).catch((t=>{let n;n=t instanceof Ql?t:t instanceof Error&&"AbortError"===t.name?new Ql(t.message,hu[hu.CANCELLED]):new Ql(t instanceof Error?t.message:""+t,hu[hu.INTERNAL]),n.methodName=e.name,n.serviceName=e.service.typeName,m.rejectPending(n),b.rejectPending(n),y.rejectPending(n),g.rejectPending(n)})),new(0,cu.UnaryCall)(e,null!==(o=u.meta)&&void 0!==o?o:{},t,m.promise,b.promise,y.promise,g.promise)}}const Ou=new class extends Yl{constructor(){super("ecssnapshot.ECSState",[{no:1,name:"component_id_idx",kind:"scalar",T:13},{no:2,name:"entity_id_idx",kind:"scalar",T:13},{no:3,name:"value",kind:"scalar",T:12}])}create(e){const t={componentIdIdx:0,entityIdIdx:0,value:new Uint8Array(0)};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:i.componentIdIdx=e.uint32();break;case 2:i.entityIdIdx=e.uint32();break;case 3:i.value=e.bytes();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){0!==e.componentIdIdx&&t.tag(1,Hc.Varint).uint32(e.componentIdIdx),0!==e.entityIdIdx&&t.tag(2,Hc.Varint).uint32(e.entityIdIdx),e.value.length&&t.tag(3,Hc.LengthDelimited).bytes(e.value);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};new class extends Yl{constructor(){super("ecssnapshot.ECSStateSnapshot",[{no:1,name:"state",kind:"message",repeat:1,T:()=>Ou},{no:2,name:"stateComponents",kind:"scalar",repeat:2,T:9},{no:3,name:"stateEntities",kind:"scalar",repeat:2,T:9},{no:4,name:"stateHash",kind:"scalar",T:9},{no:5,name:"startBlockNumber",kind:"scalar",T:13},{no:6,name:"endBlockNumber",kind:"scalar",T:13},{no:7,name:"worldAddress",kind:"scalar",T:9}])}create(e){const t={state:[],stateComponents:[],stateEntities:[],stateHash:"",startBlockNumber:0,endBlockNumber:0,worldAddress:""};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:i.state.push(Ou.internalBinaryRead(e,e.uint32(),n));break;case 2:i.stateComponents.push(e.string());break;case 3:i.stateEntities.push(e.string());break;case 4:i.stateHash=e.string();break;case 5:i.startBlockNumber=e.uint32();break;case 6:i.endBlockNumber=e.uint32();break;case 7:i.worldAddress=e.string();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){for(let r=0;r<e.state.length;r++)Ou.internalBinaryWrite(e.state[r],t.tag(1,Hc.LengthDelimited).fork(),n).join();for(let n=0;n<e.stateComponents.length;n++)t.tag(2,Hc.LengthDelimited).string(e.stateComponents[n]);for(let n=0;n<e.stateEntities.length;n++)t.tag(3,Hc.LengthDelimited).string(e.stateEntities[n]);""!==e.stateHash&&t.tag(4,Hc.LengthDelimited).string(e.stateHash),0!==e.startBlockNumber&&t.tag(5,Hc.Varint).uint32(e.startBlockNumber),0!==e.endBlockNumber&&t.tag(6,Hc.Varint).uint32(e.endBlockNumber),""!==e.worldAddress&&t.tag(7,Hc.LengthDelimited).string(e.worldAddress);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const xu=new class extends Yl{constructor(){super("ecssnapshot.Worlds",[{no:1,name:"worldAddress",kind:"scalar",repeat:2,T:9}])}create(e){const t={worldAddress:[]};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)i.worldAddress.push(e.string());else{let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){for(let n=0;n<e.worldAddress.length;n++)t.tag(1,Hc.LengthDelimited).string(e.worldAddress[n]);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const Pu=new class extends Yl{constructor(){super("ecssnapshot.ECSStateRequestLatest",[{no:1,name:"worldAddress",kind:"scalar",T:9}])}create(e){const t={worldAddress:""};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)i.worldAddress=e.string();else{let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){""!==e.worldAddress&&t.tag(1,Hc.LengthDelimited).string(e.worldAddress);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const Cu=new class extends Yl{constructor(){super("ecssnapshot.ECSStateBlockRequestLatest",[{no:1,name:"worldAddress",kind:"scalar",T:9}])}create(e){const t={worldAddress:""};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)i.worldAddress=e.string();else{let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){""!==e.worldAddress&&t.tag(1,Hc.LengthDelimited).string(e.worldAddress);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const Lu=new class extends Yl{constructor(){super("ecssnapshot.ECSStateRequestAtBlock",[{no:1,name:"blockNumber",kind:"scalar",T:4,L:0}])}create(e){const t={blockNumber:0n};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)i.blockNumber=e.uint64().toBigInt();else{let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){0n!==e.blockNumber&&t.tag(1,Hc.Varint).uint64(e.blockNumber);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const Bu=new class extends Yl{constructor(){super("ecssnapshot.WorldsRequest",[])}create(e){const t={};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){return r??this.create()}internalBinaryWrite(e,t,n){let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const Uu=new class extends Yl{constructor(){super("ecssnapshot.ECSStateReply",[{no:1,name:"state",kind:"message",repeat:1,T:()=>Ou},{no:2,name:"stateComponents",kind:"scalar",repeat:2,T:9},{no:3,name:"stateEntities",kind:"scalar",repeat:2,T:9},{no:4,name:"stateHash",kind:"scalar",T:9},{no:5,name:"blockNumber",kind:"scalar",T:13}])}create(e){const t={state:[],stateComponents:[],stateEntities:[],stateHash:"",blockNumber:0};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:i.state.push(Ou.internalBinaryRead(e,e.uint32(),n));break;case 2:i.stateComponents.push(e.string());break;case 3:i.stateEntities.push(e.string());break;case 4:i.stateHash=e.string();break;case 5:i.blockNumber=e.uint32();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){for(let r=0;r<e.state.length;r++)Ou.internalBinaryWrite(e.state[r],t.tag(1,Hc.LengthDelimited).fork(),n).join();for(let n=0;n<e.stateComponents.length;n++)t.tag(2,Hc.LengthDelimited).string(e.stateComponents[n]);for(let n=0;n<e.stateEntities.length;n++)t.tag(3,Hc.LengthDelimited).string(e.stateEntities[n]);""!==e.stateHash&&t.tag(4,Hc.LengthDelimited).string(e.stateHash),0!==e.blockNumber&&t.tag(5,Hc.Varint).uint32(e.blockNumber);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const Du=new Xl("ecssnapshot.ECSStateSnapshotService",[{name:"GetStateLatest",options:{},I:Pu,O:Uu},{name:"GetStateLatestStream",serverStreaming:!0,options:{},I:Pu,O:Uu},{name:"GetStateBlockLatest",options:{},I:Cu,O:new class extends Yl{constructor(){super("ecssnapshot.ECSStateBlockReply",[{no:1,name:"blockNumber",kind:"scalar",T:13}])}create(e){const t={blockNumber:0};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)i.blockNumber=e.uint32();else{let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){0!==e.blockNumber&&t.tag(1,Hc.Varint).uint32(e.blockNumber);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}}},{name:"GetStateAtBlock",options:{},I:Lu,O:Uu},{name:"GetWorlds",options:{},I:Bu,O:xu}]);class ju{constructor(e){this._transport=e,this.typeName=Du.typeName,this.methods=Du.methods,this.options=Du.options}getStateLatest(e,t){const n=this.methods[0],r=this._transport.mergeOptions(t);return du("unary",this._transport,n,r,e)}getStateLatestStream(e,t){const n=this.methods[1],r=this._transport.mergeOptions(t);return du("serverStreaming",this._transport,n,r,e)}getStateBlockLatest(e,t){const n=this.methods[2],r=this._transport.mergeOptions(t);return du("unary",this._transport,n,r,e)}getStateAtBlock(e,t){const n=this.methods[3],r=this._transport.mergeOptions(t);return du("unary",this._transport,n,r,e)}getWorlds(e,t){const n=this.methods[4],r=this._transport.mergeOptions(t);return du("unary",this._transport,n,r,e)}}const Mu=new class extends Yl{constructor(){super("ecsstream.ECSEvent",[{no:1,name:"eventType",kind:"scalar",T:9},{no:2,name:"componentId",kind:"scalar",T:9},{no:3,name:"entityId",kind:"scalar",T:9},{no:4,name:"value",kind:"scalar",T:12},{no:5,name:"tx",kind:"scalar",T:9}])}create(e){const t={eventType:"",componentId:"",entityId:"",value:new Uint8Array(0),tx:""};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:i.eventType=e.string();break;case 2:i.componentId=e.string();break;case 3:i.entityId=e.string();break;case 4:i.value=e.bytes();break;case 5:i.tx=e.string();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){""!==e.eventType&&t.tag(1,Hc.LengthDelimited).string(e.eventType),""!==e.componentId&&t.tag(2,Hc.LengthDelimited).string(e.componentId),""!==e.entityId&&t.tag(3,Hc.LengthDelimited).string(e.entityId),e.value.length&&t.tag(4,Hc.LengthDelimited).bytes(e.value),""!==e.tx&&t.tag(5,Hc.LengthDelimited).string(e.tx);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const Vu=new class extends Yl{constructor(){super("ecsstream.ECSStreamBlockBundleRequest",[{no:1,name:"worldAddress",kind:"scalar",T:9},{no:2,name:"blockNumber",kind:"scalar",T:8},{no:3,name:"blockHash",kind:"scalar",T:8},{no:4,name:"blockTimestamp",kind:"scalar",T:8},{no:5,name:"transactionsConfirmed",kind:"scalar",T:8},{no:6,name:"ecsEvents",kind:"scalar",T:8}])}create(e){const t={worldAddress:"",blockNumber:!1,blockHash:!1,blockTimestamp:!1,transactionsConfirmed:!1,ecsEvents:!1};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:i.worldAddress=e.string();break;case 2:i.blockNumber=e.bool();break;case 3:i.blockHash=e.bool();break;case 4:i.blockTimestamp=e.bool();break;case 5:i.transactionsConfirmed=e.bool();break;case 6:i.ecsEvents=e.bool();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){""!==e.worldAddress&&t.tag(1,Hc.LengthDelimited).string(e.worldAddress),!1!==e.blockNumber&&t.tag(2,Hc.Varint).bool(e.blockNumber),!1!==e.blockHash&&t.tag(3,Hc.Varint).bool(e.blockHash),!1!==e.blockTimestamp&&t.tag(4,Hc.Varint).bool(e.blockTimestamp),!1!==e.transactionsConfirmed&&t.tag(5,Hc.Varint).bool(e.transactionsConfirmed),!1!==e.ecsEvents&&t.tag(6,Hc.Varint).bool(e.ecsEvents);let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}};const Fu=new Xl("ecsstream.ECSStreamService",[{name:"SubscribeToStreamLatest",serverStreaming:!0,options:{},I:Vu,O:new class extends Yl{constructor(){super("ecsstream.ECSStreamBlockBundleReply",[{no:1,name:"blockNumber",kind:"scalar",T:13},{no:2,name:"blockHash",kind:"scalar",T:9},{no:3,name:"blockTimestamp",kind:"scalar",T:13},{no:4,name:"transactionsConfirmed",kind:"scalar",repeat:2,T:9},{no:5,name:"ecsEvents",kind:"message",repeat:1,T:()=>Mu}])}create(e){const t={blockNumber:0,blockHash:"",blockTimestamp:0,transactionsConfirmed:[],ecsEvents:[]};return globalThis.Object.defineProperty(t,Zc,{enumerable:!1,value:this}),void 0!==e&&Dl(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:i.blockNumber=e.uint32();break;case 2:i.blockHash=e.string();break;case 3:i.blockTimestamp=e.uint32();break;case 4:i.transactionsConfirmed.push(e.string());break;case 5:i.ecsEvents.push(Mu.internalBinaryRead(e,e.uint32(),n));break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?Kc.onRead:s)(this.typeName,i,t,r,o)}}return i}internalBinaryWrite(e,t,n){0!==e.blockNumber&&t.tag(1,Hc.Varint).uint32(e.blockNumber),""!==e.blockHash&&t.tag(2,Hc.LengthDelimited).string(e.blockHash),0!==e.blockTimestamp&&t.tag(3,Hc.Varint).uint32(e.blockTimestamp);for(let n=0;n<e.transactionsConfirmed.length;n++)t.tag(4,Hc.LengthDelimited).string(e.transactionsConfirmed[n]);for(let r=0;r<e.ecsEvents.length;r++)Mu.internalBinaryWrite(e.ecsEvents[r],t.tag(5,Hc.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return!1!==r&&(1==r?Kc.onWrite:r)(this.typeName,e,t),t}}}]);class zu{constructor(e){this._transport=e,this.typeName=Fu.typeName,this.methods=Fu.methods,this.options=Fu.options}subscribeToStreamLatest(e,t){const n=this.methods[0],r=this._transport.mergeOptions(t);return du("serverStreaming",this._transport,n,r,e)}}var Wu;Wu=JSON.parse('{"abi":[{"inputs":[{"internalType":"address","name":"writer","type":"address"}],"name":"authorizeWriter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getEntities","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"value","type":"bytes"}],"name":"getEntitiesWithValue","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"}],"name":"getRawValue","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSchema","outputs":[{"internalType":"string[]","name":"keys","type":"string[]"},{"internalType":"enum LibTypes.SchemaValue[]","name":"values","type":"uint8[]"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"}],"name":"has","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"id","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"indexer","type":"address"}],"name":"registerIndexer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_world","type":"address"}],"name":"registerWorld","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"}],"name":"remove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"},{"internalType":"bytes","name":"value","type":"bytes"}],"name":"set","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"world","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"writeAccess","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}],"methodIdentifiers":{"authorizeWriter(address)":"4fef6a38","getEntities()":"31b933b9","getEntitiesWithValue(bytes)":"b361be46","getRawValue(uint256)":"b8bc073d","getSchema()":"6b122fe0","has(uint256)":"cccf7a8e","id()":"af640d0f","owner()":"8da5cb5b","registerIndexer(address)":"75c0669c","registerWorld(address)":"9d2c76b4","remove(uint256)":"4cc82215","set(uint256,bytes)":"8b282947","transferOwnership(address)":"f2fde38b","world()":"30b67baa","writeAccess(address)":"861eb905"},"rawMetadata":"{\\"compiler\\":{\\"version\\":\\"0.8.13+commit.abaa5c0e\\"},\\"language\\":\\"Solidity\\",\\"output\\":{\\"abi\\":[{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"writer\\",\\"type\\":\\"address\\"}],\\"name\\":\\"authorizeWriter\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getEntities\\",\\"outputs\\":[{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"\\",\\"type\\":\\"uint256[]\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"value\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"getEntitiesWithValue\\",\\"outputs\\":[{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"\\",\\"type\\":\\"uint256[]\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getRawValue\\",\\"outputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"\\",\\"type\\":\\"bytes\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getSchema\\",\\"outputs\\":[{\\"internalType\\":\\"string[]\\",\\"name\\":\\"keys\\",\\"type\\":\\"string[]\\"},{\\"internalType\\":\\"enum LibTypes.SchemaValue[]\\",\\"name\\":\\"values\\",\\"type\\":\\"uint8[]\\"}],\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"has\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"id\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"owner\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"indexer\\",\\"type\\":\\"address\\"}],\\"name\\":\\"registerIndexer\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_world\\",\\"type\\":\\"address\\"}],\\"name\\":\\"registerWorld\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"remove\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"value\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"set\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"newOwner\\",\\"type\\":\\"address\\"}],\\"name\\":\\"transferOwnership\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"world\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"name\\":\\"writeAccess\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"}],\\"devdoc\\":{\\"kind\\":\\"dev\\",\\"methods\\":{\\"authorizeWriter(address)\\":{\\"params\\":{\\"writer\\":\\"Address to grant write access to.\\"}},\\"getEntitiesWithValue(bytes)\\":{\\"params\\":{\\"value\\":\\"Abi-encoded value to get the list of entities with this value for.\\"}},\\"getRawValue(uint256)\\":{\\"params\\":{\\"entity\\":\\"Entity to get the raw value in this component for.\\"}},\\"has(uint256)\\":{\\"params\\":{\\"entity\\":\\"Entity to check whether it has a value in this component for.\\"}},\\"registerIndexer(address)\\":{\\"params\\":{\\"indexer\\":\\"Address of the indexer to notify when a component value is set.\\"}},\\"registerWorld(address)\\":{\\"params\\":{\\"_world\\":\\"Address of the World contract.\\"}},\\"remove(uint256)\\":{\\"params\\":{\\"entity\\":\\"Entity to remove from this component.\\"}},\\"set(uint256,bytes)\\":{\\"params\\":{\\"entity\\":\\"Entity to set the value for.\\",\\"value\\":\\"Value to set for the given entity.\\"}},\\"transferOwnership(address)\\":{\\"params\\":{\\"newOwner\\":\\"Address of the new owner.\\"}}},\\"version\\":1},\\"userdoc\\":{\\"kind\\":\\"user\\",\\"methods\\":{\\"authorizeWriter(address)\\":{\\"notice\\":\\"Grant write access to this component to the given address. Can only be called by the owner of this component.\\"},\\"getEntities()\\":{\\"notice\\":\\"Get a list of all entities that have a value in this component.\\"},\\"getEntitiesWithValue(bytes)\\":{\\"notice\\":\\"Get a list of all entities that have the specified value in this component.\\"},\\"getRawValue(uint256)\\":{\\"notice\\":\\"Get the raw (abi-encoded) value of the given entity in this component.\\"},\\"getSchema()\\":{\\"notice\\":\\"Return the keys and value types of the schema of this component.\\"},\\"has(uint256)\\":{\\"notice\\":\\"Check whether the given entity has a value in this component.\\"},\\"id()\\":{\\"notice\\":\\"Public identifier of this component \\"},\\"owner()\\":{\\"notice\\":\\"Get the owner of this component \\"},\\"registerIndexer(address)\\":{\\"notice\\":\\"Register a new indexer that gets notified when a component value is set.\\"},\\"registerWorld(address)\\":{\\"notice\\":\\"Register this component in the given world.\\"},\\"remove(uint256)\\":{\\"notice\\":\\"Remove the given entity from this component. Registers the update in the World contract. Can only be called by addresses with write access to this component.\\"},\\"set(uint256,bytes)\\":{\\"notice\\":\\"Set the given component value for the given entity. Registers the update in the World contract. Can only be called by addresses with write access to this component.\\"},\\"transferOwnership(address)\\":{\\"notice\\":\\"Transfer ownership of this component to a new owner. Can only be called by the current owner.\\"},\\"world()\\":{\\"notice\\":\\"Reference to the World contract this component is registered in \\"},\\"writeAccess(address)\\":{\\"notice\\":\\"Addresses with write access to this component \\"}},\\"notice\\":\\"Components are a key-value store from entity id to component value. They are registered in the World and register updates to their state in the World. They have an owner, who can grant write access to more addresses. (Systems that want to write to a component need to be given write access first.) Everyone has read access.\\",\\"version\\":1}},\\"settings\\":{\\"compilationTarget\\":{\\"src/Component.sol\\":\\"Component\\"},\\"evmVersion\\":\\"london\\",\\"libraries\\":{},\\"metadata\\":{\\"bytecodeHash\\":\\"ipfs\\"},\\"optimizer\\":{\\"enabled\\":true,\\"runs\\":1000000},\\"remappings\\":[\\":@openzeppelin/=../../node_modules/openzeppelin-solidity/\\",\\":@rari-capital/=../../node_modules/@rari-capital/\\",\\":abdk-libraries-solidity/=../../node_modules/abdk-libraries-solidity/\\",\\":base64-sol/=../../node_modules/base64-sol/\\",\\":ds-test/=../../node_modules/ds-test/src/\\",\\":forge-std/=../../node_modules/forge-std/src/\\",\\":hardhat/=../../node_modules/hardhat/\\",\\":memmove/=../../node_modules/memmove/src/\\",\\":openzeppelin-solidity/=../../node_modules/openzeppelin-solidity/\\",\\":solmate/=../../node_modules/@rari-capital/solmate/src/\\"]},\\"sources\\":{\\"../../node_modules/forge-std/src/console.sol\\":{\\"keccak256\\":\\"0x91d5413c2434ca58fd278b6e1e79fd98d10c83931cc2596a6038eee4daeb34ba\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://91ccea707361e48b9b7a161fe81f496b9932bc471e9c4e4e1e9c283f2453cc70\\",\\"dweb:/ipfs/QmcB66sZhQ6Kz7MUHcLE78YXRUZxoZnnxZjN6yATsbB2ec\\"]},\\"../../node_modules/memmove/src/Array.sol\\":{\\"keccak256\\":\\"0x0d7681d3392c34f811cebc9598c5e8f4eef6aba431dca9e1fa87267ba51a4515\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://0ffb5179dd40ccacadc2cb26ac99e9ea5148796f6d21413d7e0f37913831bea1\\",\\"dweb:/ipfs/QmfJogaoqook5JgnUZKib6w6khzViUag3EQb1EZ8aUEasQ\\"]},\\"../../node_modules/memmove/src/LinkedList.sol\\":{\\"keccak256\\":\\"0x2374863d39689178dda92b841e77b835ba8fa550561be23b7861d2e52c0fe8c1\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://8538ec6ca6be4e1b25b74dfd2139586fa2b9dab8d49d91428ed64dc683884598\\",\\"dweb:/ipfs/Qma7Z6urenqG5Dzqwe8ouGiFH37mbsJEX83tqjSq1PTnRc\\"]},\\"src/Component.sol\\":{\\"keccak256\\":\\"0x00b74ab0dba753d7929eb51cfd486693138402b6fb40561fd4fd27b657e6e9c1\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://c77e94c375ff6d54713d8cde581695ab08879f5b9918262300a029dd77587f60\\",\\"dweb:/ipfs/QmUPJYxV72n5mMgvPR6itQFJq5S8iqbDTm9Xn7HMK6KihA\\"]},\\"src/LibTypes.sol\\":{\\"keccak256\\":\\"0xd75f7055d9c877aca922804806e39cabc6c4fc324ebf3708d0f79abc3d00be96\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://a4c61404cc167a0bac24effbd7768e2eb8ce250b6b7e000bde3523b97702321b\\",\\"dweb:/ipfs/QmYTwkL3U68CLk1xUCHRXbCkUnNtFpzd3EAgduN7PePp9Y\\"]},\\"src/MapSet.sol\\":{\\"keccak256\\":\\"0x9bf5cd536c741f4ac730862fb49cd3d9527c7c62007b986ada5b0591859cb25c\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://2da724933f2f22704131e39e27f64e83c214a0678b804358f822da31df4c3cf0\\",\\"dweb:/ipfs/QmYAbxx94WgpwWViMBmguH8UcDmcS2Mopv7tTB89Cdz1my\\"]},\\"src/Set.sol\\":{\\"keccak256\\":\\"0xd6ebb07ab1047aa211cefad877d4ab3f65cbe2ac824c29b5141bc381a9867e95\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://ad9e3bb5ff1c5bfcc7ee9ecc9d2e0db11042fe281de9bac4dd93e3456127c15c\\",\\"dweb:/ipfs/QmWezbNuLBLP4v2UP7j3iP9f2HKM2ZwaDi173qBKsW197m\\"]},\\"src/interfaces/IComponent.sol\\":{\\"keccak256\\":\\"0xc653b5afc93743ae8606604d4941d085f9f25dc9f1a068e9950944e03bb1a61a\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://dce85cd14551eb9008b05843dc3dba0243276c3e3e2f95c3a1dae2f20dd77e69\\",\\"dweb:/ipfs/QmViPLRuBdczDVJ96eFY2EbrDY5y1BP4igh9AfjodcMM1J\\"]},\\"src/interfaces/IEntityContainer.sol\\":{\\"keccak256\\":\\"0x95ae0340082f859c0c31108323048c4d179a28df905ba8384f7ab8dd95d2d6a0\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://cbc49eba9e6b4eb603d2ae4189a83b8c9f0b858cd4236c94ebd23b8b06817378\\",\\"dweb:/ipfs/QmcTePiUxaua9NrUYWKPNMMPyaCxH1rMtniFkrSkTpwBak\\"]},\\"src/interfaces/IEntityIndexer.sol\\":{\\"keccak256\\":\\"0xd6ca557fd8afe2f16679c67857affc55eb237dbc942a6390097122c65a19a52e\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://a1ea4345f6064267ed8ab657c945407d3c172e019664fe8ecdd069b1b7b44684\\",\\"dweb:/ipfs/QmNPv69EEjhA6dv1nC7VHv4JMb35Aop3We52QB5CaAGheF\\"]},\\"src/interfaces/IOwned.sol\\":{\\"keccak256\\":\\"0x14dd27a7fe1bdd1d17d814a40bab1886a6204ba3e45996f45cf8c6bd412e403b\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://b4a5677a2bcc9159d4a90b66af9a888e33ac3cf3eae08f0b8548e9510131ec82\\",\\"dweb:/ipfs/Qmdj7Jz274wP2KevSqdpFQc4msVi9jfkrNsQvCFoHNJcDG\\"]},\\"src/interfaces/IUint256Component.sol\\":{\\"keccak256\\":\\"0x8846ddb1701b59f8cbf80225ea8e85bd2991ab6ee0515c011d79a265f47f93fe\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://959ba1dcc93439c82e53a1e9858bac831a3c003eae82fc35edd931d7e7da4f77\\",\\"dweb:/ipfs/QmQu2vGG9bDpuTHYJNSW6aXCp4FYCVzew2XpjVjZm59CAx\\"]},\\"src/interfaces/IWorld.sol\\":{\\"keccak256\\":\\"0xde47447df2e0f42b66a1c9ec6432ed30cad604de2b5eb673341abb772832be80\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://83bd8652b8531460cc580d6cd28fc8f0448ec9f032cd6581aee5298a4d0a12e9\\",\\"dweb:/ipfs/QmZsnaajiBVjcC6S8K39wdfnyZcH4B1FZYe2qL3p4iiwXD\\"]},\\"src/interfaces/Query.sol\\":{\\"keccak256\\":\\"0x3956cfb4b92afd3eccfea772480deb00ba573629bc0f36db5d948e2d168377cb\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://1aafe610e9283e1d7b1f45ba49cf77c8cf770241eeaa5317171df30b5f114c7d\\",\\"dweb:/ipfs/QmYShHHJqSfkdY3vcbKS18AuBpBmfwMUzebxZbPpgZDcfq\\"]}},\\"version\\":1}","metadata":{"compiler":{"version":"0.8.13+commit.abaa5c0e"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"writer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"authorizeWriter"},{"inputs":[],"stateMutability":"view","type":"function","name":"getEntities","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"bytes","name":"value","type":"bytes"}],"stateMutability":"view","type":"function","name":"getEntitiesWithValue","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"}],"stateMutability":"view","type":"function","name":"getRawValue","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"getSchema","outputs":[{"internalType":"string[]","name":"keys","type":"string[]"},{"internalType":"enum LibTypes.SchemaValue[]","name":"values","type":"uint8[]"}]},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"}],"stateMutability":"view","type":"function","name":"has","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"id","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"indexer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"registerIndexer"},{"inputs":[{"internalType":"address","name":"_world","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"registerWorld"},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"remove"},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"},{"internalType":"bytes","name":"value","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"set"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[],"stateMutability":"view","type":"function","name":"world","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"writeAccess","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"authorizeWriter(address)":{"params":{"writer":"Address to grant write access to."}},"getEntitiesWithValue(bytes)":{"params":{"value":"Abi-encoded value to get the list of entities with this value for."}},"getRawValue(uint256)":{"params":{"entity":"Entity to get the raw value in this component for."}},"has(uint256)":{"params":{"entity":"Entity to check whether it has a value in this component for."}},"registerIndexer(address)":{"params":{"indexer":"Address of the indexer to notify when a component value is set."}},"registerWorld(address)":{"params":{"_world":"Address of the World contract."}},"remove(uint256)":{"params":{"entity":"Entity to remove from this component."}},"set(uint256,bytes)":{"params":{"entity":"Entity to set the value for.","value":"Value to set for the given entity."}},"transferOwnership(address)":{"params":{"newOwner":"Address of the new owner."}}},"version":1},"userdoc":{"kind":"user","methods":{"authorizeWriter(address)":{"notice":"Grant write access to this component to the given address. Can only be called by the owner of this component."},"getEntities()":{"notice":"Get a list of all entities that have a value in this component."},"getEntitiesWithValue(bytes)":{"notice":"Get a list of all entities that have the specified value in this component."},"getRawValue(uint256)":{"notice":"Get the raw (abi-encoded) value of the given entity in this component."},"getSchema()":{"notice":"Return the keys and value types of the schema of this component."},"has(uint256)":{"notice":"Check whether the given entity has a value in this component."},"id()":{"notice":"Public identifier of this component "},"owner()":{"notice":"Get the owner of this component "},"registerIndexer(address)":{"notice":"Register a new indexer that gets notified when a component value is set."},"registerWorld(address)":{"notice":"Register this component in the given world."},"remove(uint256)":{"notice":"Remove the given entity from this component. Registers the update in the World contract. Can only be called by addresses with write access to this component."},"set(uint256,bytes)":{"notice":"Set the given component value for the given entity. Registers the update in the World contract. Can only be called by addresses with write access to this component."},"transferOwnership(address)":{"notice":"Transfer ownership of this component to a new owner. Can only be called by the current owner."},"world()":{"notice":"Reference to the World contract this component is registered in "},"writeAccess(address)":{"notice":"Addresses with write access to this component "}},"version":1}},"settings":{"remappings":[":@openzeppelin/=../../node_modules/openzeppelin-solidity/",":@rari-capital/=../../node_modules/@rari-capital/",":abdk-libraries-solidity/=../../node_modules/abdk-libraries-solidity/",":base64-sol/=../../node_modules/base64-sol/",":ds-test/=../../node_modules/ds-test/src/",":forge-std/=../../node_modules/forge-std/src/",":hardhat/=../../node_modules/hardhat/",":memmove/=../../node_modules/memmove/src/",":openzeppelin-solidity/=../../node_modules/openzeppelin-solidity/",":solmate/=../../node_modules/@rari-capital/solmate/src/"],"optimizer":{"enabled":true,"runs":1000000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/Component.sol":"Component"},"libraries":{}},"sources":{"../../node_modules/forge-std/src/console.sol":{"keccak256":"0x91d5413c2434ca58fd278b6e1e79fd98d10c83931cc2596a6038eee4daeb34ba","urls":["bzz-raw://91ccea707361e48b9b7a161fe81f496b9932bc471e9c4e4e1e9c283f2453cc70","dweb:/ipfs/QmcB66sZhQ6Kz7MUHcLE78YXRUZxoZnnxZjN6yATsbB2ec"],"license":"MIT"},"../../node_modules/memmove/src/Array.sol":{"keccak256":"0x0d7681d3392c34f811cebc9598c5e8f4eef6aba431dca9e1fa87267ba51a4515","urls":["bzz-raw://0ffb5179dd40ccacadc2cb26ac99e9ea5148796f6d21413d7e0f37913831bea1","dweb:/ipfs/QmfJogaoqook5JgnUZKib6w6khzViUag3EQb1EZ8aUEasQ"],"license":"MIT"},"../../node_modules/memmove/src/LinkedList.sol":{"keccak256":"0x2374863d39689178dda92b841e77b835ba8fa550561be23b7861d2e52c0fe8c1","urls":["bzz-raw://8538ec6ca6be4e1b25b74dfd2139586fa2b9dab8d49d91428ed64dc683884598","dweb:/ipfs/Qma7Z6urenqG5Dzqwe8ouGiFH37mbsJEX83tqjSq1PTnRc"],"license":"MIT"},"src/Component.sol":{"keccak256":"0x00b74ab0dba753d7929eb51cfd486693138402b6fb40561fd4fd27b657e6e9c1","urls":["bzz-raw://c77e94c375ff6d54713d8cde581695ab08879f5b9918262300a029dd77587f60","dweb:/ipfs/QmUPJYxV72n5mMgvPR6itQFJq5S8iqbDTm9Xn7HMK6KihA"],"license":"Unlicense"},"src/LibTypes.sol":{"keccak256":"0xd75f7055d9c877aca922804806e39cabc6c4fc324ebf3708d0f79abc3d00be96","urls":["bzz-raw://a4c61404cc167a0bac24effbd7768e2eb8ce250b6b7e000bde3523b97702321b","dweb:/ipfs/QmYTwkL3U68CLk1xUCHRXbCkUnNtFpzd3EAgduN7PePp9Y"],"license":"Unlicense"},"src/MapSet.sol":{"keccak256":"0x9bf5cd536c741f4ac730862fb49cd3d9527c7c62007b986ada5b0591859cb25c","urls":["bzz-raw://2da724933f2f22704131e39e27f64e83c214a0678b804358f822da31df4c3cf0","dweb:/ipfs/QmYAbxx94WgpwWViMBmguH8UcDmcS2Mopv7tTB89Cdz1my"],"license":"Unlicense"},"src/Set.sol":{"keccak256":"0xd6ebb07ab1047aa211cefad877d4ab3f65cbe2ac824c29b5141bc381a9867e95","urls":["bzz-raw://ad9e3bb5ff1c5bfcc7ee9ecc9d2e0db11042fe281de9bac4dd93e3456127c15c","dweb:/ipfs/QmWezbNuLBLP4v2UP7j3iP9f2HKM2ZwaDi173qBKsW197m"],"license":"Unlicense"},"src/interfaces/IComponent.sol":{"keccak256":"0xc653b5afc93743ae8606604d4941d085f9f25dc9f1a068e9950944e03bb1a61a","urls":["bzz-raw://dce85cd14551eb9008b05843dc3dba0243276c3e3e2f95c3a1dae2f20dd77e69","dweb:/ipfs/QmViPLRuBdczDVJ96eFY2EbrDY5y1BP4igh9AfjodcMM1J"],"license":"Unlicense"},"src/interfaces/IEntityContainer.sol":{"keccak256":"0x95ae0340082f859c0c31108323048c4d179a28df905ba8384f7ab8dd95d2d6a0","urls":["bzz-raw://cbc49eba9e6b4eb603d2ae4189a83b8c9f0b858cd4236c94ebd23b8b06817378","dweb:/ipfs/QmcTePiUxaua9NrUYWKPNMMPyaCxH1rMtniFkrSkTpwBak"],"license":"Unlicense"},"src/interfaces/IEntityIndexer.sol":{"keccak256":"0xd6ca557fd8afe2f16679c67857affc55eb237dbc942a6390097122c65a19a52e","urls":["bzz-raw://a1ea4345f6064267ed8ab657c945407d3c172e019664fe8ecdd069b1b7b44684","dweb:/ipfs/QmNPv69EEjhA6dv1nC7VHv4JMb35Aop3We52QB5CaAGheF"],"license":"Unlicense"},"src/interfaces/IOwned.sol":{"keccak256":"0x14dd27a7fe1bdd1d17d814a40bab1886a6204ba3e45996f45cf8c6bd412e403b","urls":["bzz-raw://b4a5677a2bcc9159d4a90b66af9a888e33ac3cf3eae08f0b8548e9510131ec82","dweb:/ipfs/Qmdj7Jz274wP2KevSqdpFQc4msVi9jfkrNsQvCFoHNJcDG"],"license":"Unlicense"},"src/interfaces/IUint256Component.sol":{"keccak256":"0x8846ddb1701b59f8cbf80225ea8e85bd2991ab6ee0515c011d79a265f47f93fe","urls":["bzz-raw://959ba1dcc93439c82e53a1e9858bac831a3c003eae82fc35edd931d7e7da4f77","dweb:/ipfs/QmQu2vGG9bDpuTHYJNSW6aXCp4FYCVzew2XpjVjZm59CAx"],"license":"Unlicense"},"src/interfaces/IWorld.sol":{"keccak256":"0xde47447df2e0f42b66a1c9ec6432ed30cad604de2b5eb673341abb772832be80","urls":["bzz-raw://83bd8652b8531460cc580d6cd28fc8f0448ec9f032cd6581aee5298a4d0a12e9","dweb:/ipfs/QmZsnaajiBVjcC6S8K39wdfnyZcH4B1FZYe2qL3p4iiwXD"],"license":"Unlicense"},"src/interfaces/Query.sol":{"keccak256":"0x3956cfb4b92afd3eccfea772480deb00ba573629bc0f36db5d948e2d168377cb","urls":["bzz-raw://1aafe610e9283e1d7b1f45ba49cf77c8cf770241eeaa5317171df30b5f114c7d","dweb:/ipfs/QmYShHHJqSfkdY3vcbKS18AuBpBmfwMUzebxZbPpgZDcfq"],"license":"Unlicense"}},"version":1},"id":9}');var Gu;function Ku(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}Gu=JSON.parse('{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"componentId","type":"uint256"},{"indexed":true,"internalType":"address","name":"component","type":"address"},{"indexed":true,"internalType":"uint256","name":"entity","type":"uint256"}],"name":"ComponentValueRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"componentId","type":"uint256"},{"indexed":true,"internalType":"address","name":"component","type":"address"},{"indexed":true,"internalType":"uint256","name":"entity","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"ComponentValueSet","type":"event"},{"inputs":[],"name":"components","outputs":[{"internalType":"contract IUint256Component","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"getComponent","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"componentAddr","type":"address"}],"name":"getComponentIdFromAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNumEntities","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"systemId","type":"uint256"}],"name":"getSystemAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getUniqueEntityId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"}],"name":"hasEntity","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"enum QueryType","name":"queryType","type":"uint8"},{"internalType":"uint256","name":"componentId","type":"uint256"},{"internalType":"bytes","name":"value","type":"bytes"}],"internalType":"struct WorldQueryFragment[]","name":"worldQueryFragments","type":"tuple[]"}],"name":"query","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"register","outputs":[{"internalType":"contract RegisterSystem","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"componentAddr","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"registerComponent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"component","type":"address"},{"internalType":"uint256","name":"entity","type":"uint256"}],"name":"registerComponentValueRemoved","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"component","type":"address"},{"internalType":"uint256","name":"entity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"registerComponentValueSet","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"systemAddr","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"registerSystem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"systems","outputs":[{"internalType":"contract IUint256Component","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"methodIdentifiers":{"components()":"ba62fbe4","getComponent(uint256)":"4f27da18","getComponentIdFromAddress(address)":"9f54f545","getNumEntities()":"d7ecf62b","getSystemAddress(uint256)":"fb3ec48b","getUniqueEntityId()":"614bfa6e","hasEntity(uint256)":"e3d12875","init()":"e1c7392a","query((uint8,uint256,bytes)[])":"687485a6","register()":"1aa3a008","registerComponent(address,uint256)":"f3034770","registerComponentValueRemoved(address,uint256)":"d803064a","registerComponentValueSet(address,uint256,bytes)":"af104e40","registerSystem(address,uint256)":"1ee444b7","systems()":"0d59332e"},"rawMetadata":"{\\"compiler\\":{\\"version\\":\\"0.8.13+commit.abaa5c0e\\"},\\"language\\":\\"Solidity\\",\\"output\\":{\\"abi\\":[{\\"inputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"constructor\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"componentId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"component\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"ComponentValueRemoved\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"componentId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"component\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"bytes\\",\\"name\\":\\"data\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"ComponentValueSet\\",\\"type\\":\\"event\\"},{\\"inputs\\":[],\\"name\\":\\"components\\",\\"outputs\\":[{\\"internalType\\":\\"contract IUint256Component\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getComponent\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"componentAddr\\",\\"type\\":\\"address\\"}],\\"name\\":\\"getComponentIdFromAddress\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getNumEntities\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"systemId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getSystemAddress\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getUniqueEntityId\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"hasEntity\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"init\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"components\\":[{\\"internalType\\":\\"enum QueryType\\",\\"name\\":\\"queryType\\",\\"type\\":\\"uint8\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"componentId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"value\\",\\"type\\":\\"bytes\\"}],\\"internalType\\":\\"struct WorldQueryFragment[]\\",\\"name\\":\\"worldQueryFragments\\",\\"type\\":\\"tuple[]\\"}],\\"name\\":\\"query\\",\\"outputs\\":[{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"\\",\\"type\\":\\"uint256[]\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"register\\",\\"outputs\\":[{\\"internalType\\":\\"contract RegisterSystem\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"componentAddr\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"registerComponent\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"component\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"registerComponentValueRemoved\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"component\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"entity\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"data\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"registerComponentValueSet\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"systemAddr\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"registerSystem\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"systems\\",\\"outputs\\":[{\\"internalType\\":\\"contract IUint256Component\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"}],\\"devdoc\\":{\\"kind\\":\\"dev\\",\\"methods\\":{},\\"version\\":1},\\"userdoc\\":{\\"kind\\":\\"user\\",\\"methods\\":{\\"components()\\":{\\"notice\\":\\"Get the component registry Uint256Component (mapping from component address to component id)\\"},\\"getComponent(uint256)\\":{\\"notice\\":\\"Deprecated, but left here for backward compatibility. TODO: refactor all consumers. \\"},\\"getComponentIdFromAddress(address)\\":{\\"notice\\":\\"Deprecated, but left here for backward compatibility. TODO: refactor all consumers. \\"},\\"getSystemAddress(uint256)\\":{\\"notice\\":\\"Deprecated, but left here for backward compatibility. TODO: refactor all consumers. \\"},\\"getUniqueEntityId()\\":{\\"notice\\":\\"Get a new unique entity ID.\\"},\\"hasEntity(uint256)\\":{\\"notice\\":\\"Check whether an entity exists in this world.\\"},\\"init()\\":{\\"notice\\":\\"Initialize the World. Separated from the constructor to prevent circular dependencies.\\"},\\"query((uint8,uint256,bytes)[])\\":{\\"notice\\":\\"Helper function to execute a query with query fragments referring to a component ID instead of a component address.\\"},\\"registerComponent(address,uint256)\\":{\\"notice\\":\\"Register a new component in this World. ID must be unique.\\"},\\"registerComponentValueRemoved(address,uint256)\\":{\\"notice\\":\\"Register a component value removal. Emits the `ComponentValueRemoved` event for clients to reconstruct the state.\\"},\\"registerComponentValueSet(address,uint256,bytes)\\":{\\"notice\\":\\"Register a component value update. Emits the `ComponentValueSet` event for clients to reconstruct the state.\\"},\\"registerSystem(address,uint256)\\":{\\"notice\\":\\"Register a new system in this World. ID must be unique.\\"},\\"systems()\\":{\\"notice\\":\\"Get the system registry Uint256Component (mapping from system address to system id)\\"}},\\"notice\\":\\"The `World` contract is at the core of every on-chain world. Entities, components and systems are registered in the `World`. Components register updates to their state via the `registerComponentValueSet` and `registerComponentValueRemoved` methods, which emit the `ComponentValueSet` and `ComponentValueRemoved` events respectively. Clients can reconstruct the entire state (of all components) by listening to these two events, instead of having to add a separate getter or event listener for every type of data. (Have a look at the MUD network package for a TypeScript implementation of contract/client state sync.) The `World` is an ownerless and permissionless contract. Anyone can register new components and systems in the world (via the `registerComponent` and `registerSystem` methods). Clients decide which components and systems they care about.\\",\\"version\\":1}},\\"settings\\":{\\"compilationTarget\\":{\\"src/World.sol\\":\\"World\\"},\\"evmVersion\\":\\"london\\",\\"libraries\\":{},\\"metadata\\":{\\"bytecodeHash\\":\\"ipfs\\"},\\"optimizer\\":{\\"enabled\\":true,\\"runs\\":1000000},\\"remappings\\":[\\":@openzeppelin/=../../node_modules/openzeppelin-solidity/\\",\\":@rari-capital/=../../node_modules/@rari-capital/\\",\\":abdk-libraries-solidity/=../../node_modules/abdk-libraries-solidity/\\",\\":base64-sol/=../../node_modules/base64-sol/\\",\\":ds-test/=../../node_modules/ds-test/src/\\",\\":forge-std/=../../node_modules/forge-std/src/\\",\\":hardhat/=../../node_modules/hardhat/\\",\\":memmove/=../../node_modules/memmove/src/\\",\\":openzeppelin-solidity/=../../node_modules/openzeppelin-solidity/\\",\\":solmate/=../../node_modules/@rari-capital/solmate/src/\\"]},\\"sources\\":{\\"../../node_modules/forge-std/src/console.sol\\":{\\"keccak256\\":\\"0x91d5413c2434ca58fd278b6e1e79fd98d10c83931cc2596a6038eee4daeb34ba\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://91ccea707361e48b9b7a161fe81f496b9932bc471e9c4e4e1e9c283f2453cc70\\",\\"dweb:/ipfs/QmcB66sZhQ6Kz7MUHcLE78YXRUZxoZnnxZjN6yATsbB2ec\\"]},\\"../../node_modules/memmove/src/Array.sol\\":{\\"keccak256\\":\\"0x0d7681d3392c34f811cebc9598c5e8f4eef6aba431dca9e1fa87267ba51a4515\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://0ffb5179dd40ccacadc2cb26ac99e9ea5148796f6d21413d7e0f37913831bea1\\",\\"dweb:/ipfs/QmfJogaoqook5JgnUZKib6w6khzViUag3EQb1EZ8aUEasQ\\"]},\\"../../node_modules/memmove/src/LinkedList.sol\\":{\\"keccak256\\":\\"0x2374863d39689178dda92b841e77b835ba8fa550561be23b7861d2e52c0fe8c1\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://8538ec6ca6be4e1b25b74dfd2139586fa2b9dab8d49d91428ed64dc683884598\\",\\"dweb:/ipfs/Qma7Z6urenqG5Dzqwe8ouGiFH37mbsJEX83tqjSq1PTnRc\\"]},\\"src/Component.sol\\":{\\"keccak256\\":\\"0x00b74ab0dba753d7929eb51cfd486693138402b6fb40561fd4fd27b657e6e9c1\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://c77e94c375ff6d54713d8cde581695ab08879f5b9918262300a029dd77587f60\\",\\"dweb:/ipfs/QmUPJYxV72n5mMgvPR6itQFJq5S8iqbDTm9Xn7HMK6KihA\\"]},\\"src/LibQuery.sol\\":{\\"keccak256\\":\\"0xb78d437d35151eddd49123b3bf0b50563fff4225df23beb38374c21c395c82dc\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://d669208321aee800dd9c6845894657b0dbc27077bcbd5c53bdaa08cca6b8b35d\\",\\"dweb:/ipfs/QmaGzbhALNBMFDf2287yk91qaHZUSoCnQfZhwM7KPKJRjT\\"]},\\"src/LibTypes.sol\\":{\\"keccak256\\":\\"0xd75f7055d9c877aca922804806e39cabc6c4fc324ebf3708d0f79abc3d00be96\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://a4c61404cc167a0bac24effbd7768e2eb8ce250b6b7e000bde3523b97702321b\\",\\"dweb:/ipfs/QmYTwkL3U68CLk1xUCHRXbCkUnNtFpzd3EAgduN7PePp9Y\\"]},\\"src/MapSet.sol\\":{\\"keccak256\\":\\"0x9bf5cd536c741f4ac730862fb49cd3d9527c7c62007b986ada5b0591859cb25c\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://2da724933f2f22704131e39e27f64e83c214a0678b804358f822da31df4c3cf0\\",\\"dweb:/ipfs/QmYAbxx94WgpwWViMBmguH8UcDmcS2Mopv7tTB89Cdz1my\\"]},\\"src/Set.sol\\":{\\"keccak256\\":\\"0xd6ebb07ab1047aa211cefad877d4ab3f65cbe2ac824c29b5141bc381a9867e95\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://ad9e3bb5ff1c5bfcc7ee9ecc9d2e0db11042fe281de9bac4dd93e3456127c15c\\",\\"dweb:/ipfs/QmWezbNuLBLP4v2UP7j3iP9f2HKM2ZwaDi173qBKsW197m\\"]},\\"src/System.sol\\":{\\"keccak256\\":\\"0x7ae9977691c03669629ef9e8251e38285465de7ef843906ff1e947711ba2e220\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://1834ec579d16a2aa9ce39df4c749e3ea7582488c14813c0c3cc5dea1821c7126\\",\\"dweb:/ipfs/QmTX2x1sDRRh9RRWiN9AnTdHVKjParxZTK9ykSypmGes6Q\\"]},\\"src/World.sol\\":{\\"keccak256\\":\\"0x48560eb2db9d6b5bb8b6b2d47638b4d670d52ebc1613315dab62c81d50a4cbd3\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://e14861552e94c76468a0e1fcdad4d1a4624f4469479f511a0ceee659b3b521bb\\",\\"dweb:/ipfs/Qmd7jzSLcSEEvgCMjivA1MEPx3nSfZ3kmPKXnB1qJe1FvM\\"]},\\"src/components/Uint256Component.sol\\":{\\"keccak256\\":\\"0xdcb7dd8bfb2abb244f00a4f220f8a648e4a5242c83b705fc9b7fe1b73ddbab62\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://23fde57b9fe2c03bfa0462682fb4eaeaf7936950bff72d0762f17540b2df2b1e\\",\\"dweb:/ipfs/QmTGePFpJ22CLLvEZzb9ffJNQEbbFqG6ibVNFp3fJs2fJx\\"]},\\"src/constants.sol\\":{\\"keccak256\\":\\"0x486b309f7eadc90994db01b9e0cc9fe2271183c4c572cb8a76fe768563bcc757\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://6cdb841c42cafb78fa8d0c22d782d925f711d59fe552369d1ac8021837246771\\",\\"dweb:/ipfs/QmRHdDnx7TPzaQ3rX4W8AT7e2uLA7t42houXkwx2zJ2pTL\\"]},\\"src/interfaces/IComponent.sol\\":{\\"keccak256\\":\\"0xc653b5afc93743ae8606604d4941d085f9f25dc9f1a068e9950944e03bb1a61a\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://dce85cd14551eb9008b05843dc3dba0243276c3e3e2f95c3a1dae2f20dd77e69\\",\\"dweb:/ipfs/QmViPLRuBdczDVJ96eFY2EbrDY5y1BP4igh9AfjodcMM1J\\"]},\\"src/interfaces/IEntityContainer.sol\\":{\\"keccak256\\":\\"0x95ae0340082f859c0c31108323048c4d179a28df905ba8384f7ab8dd95d2d6a0\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://cbc49eba9e6b4eb603d2ae4189a83b8c9f0b858cd4236c94ebd23b8b06817378\\",\\"dweb:/ipfs/QmcTePiUxaua9NrUYWKPNMMPyaCxH1rMtniFkrSkTpwBak\\"]},\\"src/interfaces/IEntityIndexer.sol\\":{\\"keccak256\\":\\"0xd6ca557fd8afe2f16679c67857affc55eb237dbc942a6390097122c65a19a52e\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://a1ea4345f6064267ed8ab657c945407d3c172e019664fe8ecdd069b1b7b44684\\",\\"dweb:/ipfs/QmNPv69EEjhA6dv1nC7VHv4JMb35Aop3We52QB5CaAGheF\\"]},\\"src/interfaces/IOwned.sol\\":{\\"keccak256\\":\\"0x14dd27a7fe1bdd1d17d814a40bab1886a6204ba3e45996f45cf8c6bd412e403b\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://b4a5677a2bcc9159d4a90b66af9a888e33ac3cf3eae08f0b8548e9510131ec82\\",\\"dweb:/ipfs/Qmdj7Jz274wP2KevSqdpFQc4msVi9jfkrNsQvCFoHNJcDG\\"]},\\"src/interfaces/ISystem.sol\\":{\\"keccak256\\":\\"0xb592e00cad8c4907f623e12ee8968b1a0d2d3233466616ce52908d97631f57bf\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://9eaa438a69cf74ff00986908f7b38bddf67e5848ae7fb4ef1dbbf3aad42e830a\\",\\"dweb:/ipfs/QmXaho8gjkfA2yaU1kKSoP7xn8dBLGnq6QcgBEFfxh5tkU\\"]},\\"src/interfaces/IUint256Component.sol\\":{\\"keccak256\\":\\"0x8846ddb1701b59f8cbf80225ea8e85bd2991ab6ee0515c011d79a265f47f93fe\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://959ba1dcc93439c82e53a1e9858bac831a3c003eae82fc35edd931d7e7da4f77\\",\\"dweb:/ipfs/QmQu2vGG9bDpuTHYJNSW6aXCp4FYCVzew2XpjVjZm59CAx\\"]},\\"src/interfaces/IWorld.sol\\":{\\"keccak256\\":\\"0xde47447df2e0f42b66a1c9ec6432ed30cad604de2b5eb673341abb772832be80\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://83bd8652b8531460cc580d6cd28fc8f0448ec9f032cd6581aee5298a4d0a12e9\\",\\"dweb:/ipfs/QmZsnaajiBVjcC6S8K39wdfnyZcH4B1FZYe2qL3p4iiwXD\\"]},\\"src/interfaces/Query.sol\\":{\\"keccak256\\":\\"0x3956cfb4b92afd3eccfea772480deb00ba573629bc0f36db5d948e2d168377cb\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://1aafe610e9283e1d7b1f45ba49cf77c8cf770241eeaa5317171df30b5f114c7d\\",\\"dweb:/ipfs/QmYShHHJqSfkdY3vcbKS18AuBpBmfwMUzebxZbPpgZDcfq\\"]},\\"src/systems/RegisterSystem.sol\\":{\\"keccak256\\":\\"0x6ea73130e6ed7dd1312f1fd8ddc6c54b5ddd6965ff9dfbd5a251d81286654fbc\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://ddf8288a7da7de28deee21162b947eb1e2751c138f620b91d258f84484f82dff\\",\\"dweb:/ipfs/QmU8rgoWbfLsxMXiPt6Wc7sXaQRHRsX6Sb3hDfj1Hw9qjU\\"]},\\"src/utils.sol\\":{\\"keccak256\\":\\"0x296035349987e83f28a34ea95564c737c139002981b18014dd98b6dcd8b3acc5\\",\\"license\\":\\"Unlicense\\",\\"urls\\":[\\"bzz-raw://93ada04b8c804a3f65a45b1f0a648d1929607a616623803c277ad9bdc0a7867b\\",\\"dweb:/ipfs/QmY8vnJ4yJkBuzMSd8jkXzEAEyYAThCyuTfgrGNf5JEc6P\\"]}},\\"version\\":1}","metadata":{"compiler":{"version":"0.8.13+commit.abaa5c0e"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"componentId","type":"uint256","indexed":true},{"internalType":"address","name":"component","type":"address","indexed":true},{"internalType":"uint256","name":"entity","type":"uint256","indexed":true}],"type":"event","name":"ComponentValueRemoved","anonymous":false},{"inputs":[{"internalType":"uint256","name":"componentId","type":"uint256","indexed":true},{"internalType":"address","name":"component","type":"address","indexed":true},{"internalType":"uint256","name":"entity","type":"uint256","indexed":true},{"internalType":"bytes","name":"data","type":"bytes","indexed":false}],"type":"event","name":"ComponentValueSet","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"components","outputs":[{"internalType":"contract IUint256Component","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function","name":"getComponent","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"componentAddr","type":"address"}],"stateMutability":"view","type":"function","name":"getComponentIdFromAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getNumEntities","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"systemId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getSystemAddress","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getUniqueEntityId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"entity","type":"uint256"}],"stateMutability":"view","type":"function","name":"hasEntity","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"init"},{"inputs":[{"internalType":"struct WorldQueryFragment[]","name":"worldQueryFragments","type":"tuple[]","components":[{"internalType":"enum QueryType","name":"queryType","type":"uint8"},{"internalType":"uint256","name":"componentId","type":"uint256"},{"internalType":"bytes","name":"value","type":"bytes"}]}],"stateMutability":"view","type":"function","name":"query","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"register","outputs":[{"internalType":"contract RegisterSystem","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"componentAddr","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"registerComponent"},{"inputs":[{"internalType":"address","name":"component","type":"address"},{"internalType":"uint256","name":"entity","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"registerComponentValueRemoved"},{"inputs":[{"internalType":"address","name":"component","type":"address"},{"internalType":"uint256","name":"entity","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"registerComponentValueSet"},{"inputs":[{"internalType":"address","name":"systemAddr","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"registerSystem"},{"inputs":[],"stateMutability":"view","type":"function","name":"systems","outputs":[{"internalType":"contract IUint256Component","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"components()":{"notice":"Get the component registry Uint256Component (mapping from component address to component id)"},"getComponent(uint256)":{"notice":"Deprecated, but left here for backward compatibility. TODO: refactor all consumers. "},"getComponentIdFromAddress(address)":{"notice":"Deprecated, but left here for backward compatibility. TODO: refactor all consumers. "},"getSystemAddress(uint256)":{"notice":"Deprecated, but left here for backward compatibility. TODO: refactor all consumers. "},"getUniqueEntityId()":{"notice":"Get a new unique entity ID."},"hasEntity(uint256)":{"notice":"Check whether an entity exists in this world."},"init()":{"notice":"Initialize the World. Separated from the constructor to prevent circular dependencies."},"query((uint8,uint256,bytes)[])":{"notice":"Helper function to execute a query with query fragments referring to a component ID instead of a component address."},"registerComponent(address,uint256)":{"notice":"Register a new component in this World. ID must be unique."},"registerComponentValueRemoved(address,uint256)":{"notice":"Register a component value removal. Emits the `ComponentValueRemoved` event for clients to reconstruct the state."},"registerComponentValueSet(address,uint256,bytes)":{"notice":"Register a component value update. Emits the `ComponentValueSet` event for clients to reconstruct the state."},"registerSystem(address,uint256)":{"notice":"Register a new system in this World. ID must be unique."},"systems()":{"notice":"Get the system registry Uint256Component (mapping from system address to system id)"}},"version":1}},"settings":{"remappings":[":@openzeppelin/=../../node_modules/openzeppelin-solidity/",":@rari-capital/=../../node_modules/@rari-capital/",":abdk-libraries-solidity/=../../node_modules/abdk-libraries-solidity/",":base64-sol/=../../node_modules/base64-sol/",":ds-test/=../../node_modules/ds-test/src/",":forge-std/=../../node_modules/forge-std/src/",":hardhat/=../../node_modules/hardhat/",":memmove/=../../node_modules/memmove/src/",":openzeppelin-solidity/=../../node_modules/openzeppelin-solidity/",":solmate/=../../node_modules/@rari-capital/solmate/src/"],"optimizer":{"enabled":true,"runs":1000000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/World.sol":"World"},"libraries":{}},"sources":{"../../node_modules/forge-std/src/console.sol":{"keccak256":"0x91d5413c2434ca58fd278b6e1e79fd98d10c83931cc2596a6038eee4daeb34ba","urls":["bzz-raw://91ccea707361e48b9b7a161fe81f496b9932bc471e9c4e4e1e9c283f2453cc70","dweb:/ipfs/QmcB66sZhQ6Kz7MUHcLE78YXRUZxoZnnxZjN6yATsbB2ec"],"license":"MIT"},"../../node_modules/memmove/src/Array.sol":{"keccak256":"0x0d7681d3392c34f811cebc9598c5e8f4eef6aba431dca9e1fa87267ba51a4515","urls":["bzz-raw://0ffb5179dd40ccacadc2cb26ac99e9ea5148796f6d21413d7e0f37913831bea1","dweb:/ipfs/QmfJogaoqook5JgnUZKib6w6khzViUag3EQb1EZ8aUEasQ"],"license":"MIT"},"../../node_modules/memmove/src/LinkedList.sol":{"keccak256":"0x2374863d39689178dda92b841e77b835ba8fa550561be23b7861d2e52c0fe8c1","urls":["bzz-raw://8538ec6ca6be4e1b25b74dfd2139586fa2b9dab8d49d91428ed64dc683884598","dweb:/ipfs/Qma7Z6urenqG5Dzqwe8ouGiFH37mbsJEX83tqjSq1PTnRc"],"license":"MIT"},"src/Component.sol":{"keccak256":"0x00b74ab0dba753d7929eb51cfd486693138402b6fb40561fd4fd27b657e6e9c1","urls":["bzz-raw://c77e94c375ff6d54713d8cde581695ab08879f5b9918262300a029dd77587f60","dweb:/ipfs/QmUPJYxV72n5mMgvPR6itQFJq5S8iqbDTm9Xn7HMK6KihA"],"license":"Unlicense"},"src/LibQuery.sol":{"keccak256":"0xb78d437d35151eddd49123b3bf0b50563fff4225df23beb38374c21c395c82dc","urls":["bzz-raw://d669208321aee800dd9c6845894657b0dbc27077bcbd5c53bdaa08cca6b8b35d","dweb:/ipfs/QmaGzbhALNBMFDf2287yk91qaHZUSoCnQfZhwM7KPKJRjT"],"license":"Unlicense"},"src/LibTypes.sol":{"keccak256":"0xd75f7055d9c877aca922804806e39cabc6c4fc324ebf3708d0f79abc3d00be96","urls":["bzz-raw://a4c61404cc167a0bac24effbd7768e2eb8ce250b6b7e000bde3523b97702321b","dweb:/ipfs/QmYTwkL3U68CLk1xUCHRXbCkUnNtFpzd3EAgduN7PePp9Y"],"license":"Unlicense"},"src/MapSet.sol":{"keccak256":"0x9bf5cd536c741f4ac730862fb49cd3d9527c7c62007b986ada5b0591859cb25c","urls":["bzz-raw://2da724933f2f22704131e39e27f64e83c214a0678b804358f822da31df4c3cf0","dweb:/ipfs/QmYAbxx94WgpwWViMBmguH8UcDmcS2Mopv7tTB89Cdz1my"],"license":"Unlicense"},"src/Set.sol":{"keccak256":"0xd6ebb07ab1047aa211cefad877d4ab3f65cbe2ac824c29b5141bc381a9867e95","urls":["bzz-raw://ad9e3bb5ff1c5bfcc7ee9ecc9d2e0db11042fe281de9bac4dd93e3456127c15c","dweb:/ipfs/QmWezbNuLBLP4v2UP7j3iP9f2HKM2ZwaDi173qBKsW197m"],"license":"Unlicense"},"src/System.sol":{"keccak256":"0x7ae9977691c03669629ef9e8251e38285465de7ef843906ff1e947711ba2e220","urls":["bzz-raw://1834ec579d16a2aa9ce39df4c749e3ea7582488c14813c0c3cc5dea1821c7126","dweb:/ipfs/QmTX2x1sDRRh9RRWiN9AnTdHVKjParxZTK9ykSypmGes6Q"],"license":"Unlicense"},"src/World.sol":{"keccak256":"0x48560eb2db9d6b5bb8b6b2d47638b4d670d52ebc1613315dab62c81d50a4cbd3","urls":["bzz-raw://e14861552e94c76468a0e1fcdad4d1a4624f4469479f511a0ceee659b3b521bb","dweb:/ipfs/Qmd7jzSLcSEEvgCMjivA1MEPx3nSfZ3kmPKXnB1qJe1FvM"],"license":"Unlicense"},"src/components/Uint256Component.sol":{"keccak256":"0xdcb7dd8bfb2abb244f00a4f220f8a648e4a5242c83b705fc9b7fe1b73ddbab62","urls":["bzz-raw://23fde57b9fe2c03bfa0462682fb4eaeaf7936950bff72d0762f17540b2df2b1e","dweb:/ipfs/QmTGePFpJ22CLLvEZzb9ffJNQEbbFqG6ibVNFp3fJs2fJx"],"license":"Unlicense"},"src/constants.sol":{"keccak256":"0x486b309f7eadc90994db01b9e0cc9fe2271183c4c572cb8a76fe768563bcc757","urls":["bzz-raw://6cdb841c42cafb78fa8d0c22d782d925f711d59fe552369d1ac8021837246771","dweb:/ipfs/QmRHdDnx7TPzaQ3rX4W8AT7e2uLA7t42houXkwx2zJ2pTL"],"license":"Unlicense"},"src/interfaces/IComponent.sol":{"keccak256":"0xc653b5afc93743ae8606604d4941d085f9f25dc9f1a068e9950944e03bb1a61a","urls":["bzz-raw://dce85cd14551eb9008b05843dc3dba0243276c3e3e2f95c3a1dae2f20dd77e69","dweb:/ipfs/QmViPLRuBdczDVJ96eFY2EbrDY5y1BP4igh9AfjodcMM1J"],"license":"Unlicense"},"src/interfaces/IEntityContainer.sol":{"keccak256":"0x95ae0340082f859c0c31108323048c4d179a28df905ba8384f7ab8dd95d2d6a0","urls":["bzz-raw://cbc49eba9e6b4eb603d2ae4189a83b8c9f0b858cd4236c94ebd23b8b06817378","dweb:/ipfs/QmcTePiUxaua9NrUYWKPNMMPyaCxH1rMtniFkrSkTpwBak"],"license":"Unlicense"},"src/interfaces/IEntityIndexer.sol":{"keccak256":"0xd6ca557fd8afe2f16679c67857affc55eb237dbc942a6390097122c65a19a52e","urls":["bzz-raw://a1ea4345f6064267ed8ab657c945407d3c172e019664fe8ecdd069b1b7b44684","dweb:/ipfs/QmNPv69EEjhA6dv1nC7VHv4JMb35Aop3We52QB5CaAGheF"],"license":"Unlicense"},"src/interfaces/IOwned.sol":{"keccak256":"0x14dd27a7fe1bdd1d17d814a40bab1886a6204ba3e45996f45cf8c6bd412e403b","urls":["bzz-raw://b4a5677a2bcc9159d4a90b66af9a888e33ac3cf3eae08f0b8548e9510131ec82","dweb:/ipfs/Qmdj7Jz274wP2KevSqdpFQc4msVi9jfkrNsQvCFoHNJcDG"],"license":"Unlicense"},"src/interfaces/ISystem.sol":{"keccak256":"0xb592e00cad8c4907f623e12ee8968b1a0d2d3233466616ce52908d97631f57bf","urls":["bzz-raw://9eaa438a69cf74ff00986908f7b38bddf67e5848ae7fb4ef1dbbf3aad42e830a","dweb:/ipfs/QmXaho8gjkfA2yaU1kKSoP7xn8dBLGnq6QcgBEFfxh5tkU"],"license":"Unlicense"},"src/interfaces/IUint256Component.sol":{"keccak256":"0x8846ddb1701b59f8cbf80225ea8e85bd2991ab6ee0515c011d79a265f47f93fe","urls":["bzz-raw://959ba1dcc93439c82e53a1e9858bac831a3c003eae82fc35edd931d7e7da4f77","dweb:/ipfs/QmQu2vGG9bDpuTHYJNSW6aXCp4FYCVzew2XpjVjZm59CAx"],"license":"Unlicense"},"src/interfaces/IWorld.sol":{"keccak256":"0xde47447df2e0f42b66a1c9ec6432ed30cad604de2b5eb673341abb772832be80","urls":["bzz-raw://83bd8652b8531460cc580d6cd28fc8f0448ec9f032cd6581aee5298a4d0a12e9","dweb:/ipfs/QmZsnaajiBVjcC6S8K39wdfnyZcH4B1FZYe2qL3p4iiwXD"],"license":"Unlicense"},"src/interfaces/Query.sol":{"keccak256":"0x3956cfb4b92afd3eccfea772480deb00ba573629bc0f36db5d948e2d168377cb","urls":["bzz-raw://1aafe610e9283e1d7b1f45ba49cf77c8cf770241eeaa5317171df30b5f114c7d","dweb:/ipfs/QmYShHHJqSfkdY3vcbKS18AuBpBmfwMUzebxZbPpgZDcfq"],"license":"Unlicense"},"src/systems/RegisterSystem.sol":{"keccak256":"0x6ea73130e6ed7dd1312f1fd8ddc6c54b5ddd6965ff9dfbd5a251d81286654fbc","urls":["bzz-raw://ddf8288a7da7de28deee21162b947eb1e2751c138f620b91d258f84484f82dff","dweb:/ipfs/QmU8rgoWbfLsxMXiPt6Wc7sXaQRHRsX6Sb3hDfj1Hw9qjU"],"license":"Unlicense"},"src/utils.sol":{"keccak256":"0x296035349987e83f28a34ea95564c737c139002981b18014dd98b6dcd8b3acc5","urls":["bzz-raw://93ada04b8c804a3f65a45b1f0a648d1929607a616623803c277ad9bdc0a7867b","dweb:/ipfs/QmY8vnJ4yJkBuzMSd8jkXzEAEyYAThCyuTfgrGNf5JEc6P"],"license":"Unlicense"}},"version":1},"id":16}');Ku({},"SyncWorker",(()=>Zd));var Hu={};let qu;var Ju;function Yu(e){return e.type===qu.SystemCall}function $u(e){return e.type===qu.NetworkComponentUpdate}let Xu;var Qu;Ku(Hu,"NetworkEvents",(()=>qu)),Ku(Hu,"isSystemCallEvent",(()=>Yu)),Ku(Hu,"isNetworkComponentUpdateEvent",(()=>$u)),Ku(Hu,"ContractSchemaValue",(()=>Xu)),Ku(Hu,"ContractSchemaValueId",(()=>Zu)),Ku(Hu,"ContractSchemaValueArrayToElement",(()=>ed)),(Ju=qu||(qu={})).SystemCall="SystemCall",Ju.NetworkComponentUpdate="NetworkComponentUpdate",(Qu=Xu||(Xu={}))[Qu.BOOL=0]="BOOL",Qu[Qu.INT8=1]="INT8",Qu[Qu.INT16=2]="INT16",Qu[Qu.INT32=3]="INT32",Qu[Qu.INT64=4]="INT64",Qu[Qu.INT128=5]="INT128",Qu[Qu.INT256=6]="INT256",Qu[Qu.INT=7]="INT",Qu[Qu.UINT8=8]="UINT8",Qu[Qu.UINT16=9]="UINT16",Qu[Qu.UINT32=10]="UINT32",Qu[Qu.UINT64=11]="UINT64",Qu[Qu.UINT128=12]="UINT128",Qu[Qu.UINT256=13]="UINT256",Qu[Qu.BYTES=14]="BYTES",Qu[Qu.STRING=15]="STRING",Qu[Qu.ADDRESS=16]="ADDRESS",Qu[Qu.BYTES4=17]="BYTES4",Qu[Qu.BOOL_ARRAY=18]="BOOL_ARRAY",Qu[Qu.INT8_ARRAY=19]="INT8_ARRAY",Qu[Qu.INT16_ARRAY=20]="INT16_ARRAY",Qu[Qu.INT32_ARRAY=21]="INT32_ARRAY",Qu[Qu.INT64_ARRAY=22]="INT64_ARRAY",Qu[Qu.INT128_ARRAY=23]="INT128_ARRAY",Qu[Qu.INT256_ARRAY=24]="INT256_ARRAY",Qu[Qu.INT_ARRAY=25]="INT_ARRAY",Qu[Qu.UINT8_ARRAY=26]="UINT8_ARRAY",Qu[Qu.UINT16_ARRAY=27]="UINT16_ARRAY",Qu[Qu.UINT32_ARRAY=28]="UINT32_ARRAY",Qu[Qu.UINT64_ARRAY=29]="UINT64_ARRAY",Qu[Qu.UINT128_ARRAY=30]="UINT128_ARRAY",Qu[Qu.UINT256_ARRAY=31]="UINT256_ARRAY",Qu[Qu.BYTES_ARRAY=32]="BYTES_ARRAY",Qu[Qu.STRING_ARRAY=33]="STRING_ARRAY";const Zu={[Xu.BOOL]:"bool",[Xu.INT8]:"int8",[Xu.INT16]:"int16",[Xu.INT32]:"int32",[Xu.INT64]:"int64",[Xu.INT128]:"int128",[Xu.INT256]:"int256",[Xu.INT]:"int",[Xu.UINT8]:"uint8",[Xu.UINT16]:"uint16",[Xu.UINT32]:"uint32",[Xu.UINT64]:"uint64",[Xu.UINT128]:"uint128",[Xu.UINT256]:"uint256",[Xu.BYTES]:"bytes",[Xu.STRING]:"string",[Xu.ADDRESS]:"address",[Xu.BYTES4]:"bytes4",[Xu.BOOL_ARRAY]:"bool[]",[Xu.INT8_ARRAY]:"int8[]",[Xu.INT16_ARRAY]:"int16[]",[Xu.INT32_ARRAY]:"int32[]",[Xu.INT64_ARRAY]:"int64[]",[Xu.INT128_ARRAY]:"int128[]",[Xu.INT256_ARRAY]:"int256[]",[Xu.INT_ARRAY]:"int[]",[Xu.UINT8_ARRAY]:"uint8[]",[Xu.UINT16_ARRAY]:"uint16[]",[Xu.UINT32_ARRAY]:"uint32[]",[Xu.UINT64_ARRAY]:"uint64[]",[Xu.UINT128_ARRAY]:"uint128[]",[Xu.UINT256_ARRAY]:"uint256[]",[Xu.BYTES_ARRAY]:"bytes[]",[Xu.STRING_ARRAY]:"string[]"},ed={[Xu.BOOL_ARRAY]:Xu.BOOL,[Xu.INT8_ARRAY]:Xu.INT8,[Xu.INT16_ARRAY]:Xu.INT16,[Xu.INT32_ARRAY]:Xu.INT32,[Xu.INT64_ARRAY]:Xu.INT64,[Xu.INT128_ARRAY]:Xu.INT128,[Xu.INT256_ARRAY]:Xu.INT256,[Xu.INT_ARRAY]:Xu.INT,[Xu.UINT8_ARRAY]:Xu.UINT8,[Xu.UINT16_ARRAY]:Xu.UINT16,[Xu.UINT32_ARRAY]:Xu.UINT32,[Xu.UINT64_ARRAY]:Xu.UINT64,[Xu.UINT128_ARRAY]:Xu.UINT128,[Xu.UINT256_ARRAY]:Xu.INT256,[Xu.BYTES_ARRAY]:Xu.BYTES,[Xu.STRING_ARRAY]:Xu.STRING};var td={};Ku(td,"getCacheId",(()=>sd)),Ku(td,"createCacheStore",(()=>od)),Ku(td,"storeEvent",(()=>ad)),Ku(td,"storeEvents",(()=>cd)),Ku(td,"getCacheStoreEntries",(()=>ld)),Ku(td,"mergeCacheStores",(()=>ud)),Ku(td,"saveCacheStoreToIndexDb",(()=>dd)),Ku(td,"loadIndexDbCacheStore",(()=>hd)),Ku(td,"getIndexDBCacheStoreBlockNumber",(()=>fd)),Ku(td,"getIndexDbECSCache",(()=>pd));const nd=self.indexedDB;function rd(e,t){e.objectStoreNames.contains(t)||e.createObjectStore(t)}async function id(e,t,n,r){const i=await function(e,t,n=2,r=nd){const[i,s,o]=Tc(),a=r.open(e,n);return a.onupgradeneeded=()=>{const e=a.result;for(const n of t)rd(e,n)},a.onsuccess=()=>{const e=a.result;i(e)},a.onerror=e=>{s(new Error(JSON.stringify(e)))},o}(e,t,n,r);function s(e){return i.transaction(e,"readwrite").objectStore(e)}function o(e){const[t,n,r]=Tc(),i=s(e).getAllKeys();return i.onerror=e=>{n(new Error(JSON.stringify(e)))},i.onsuccess=()=>{const e=Bc(Uc(i.result),(e=>e.toString()));t(e)},r}function a(e){const[t,n,r]=Tc(),i=s(e).getAll();return i.onerror=e=>{n(new Error(JSON.stringify(e)))},i.onsuccess=()=>{t(Uc(i.result))},r}return{set:function(e,t,n,r=!1){const i=s(e).put(n,t);if(r)return;const[o,a,c]=Tc();return i.onerror=e=>{a(new Error(JSON.stringify(e)))},i.onsuccess=()=>{o()},c},get:function(e,t){const[n,r,i]=Tc(),o=s(e).get(t);return o.onerror=e=>{r(new Error(JSON.stringify(e)))},o.onsuccess=()=>{const e=o.result;n(e)},i},remove:function(e,t){const[n,r,i]=Tc(),o=s(e).delete(t);return o.onerror=e=>{r(new Error(JSON.stringify(e)))},o.onsuccess=()=>{n()},i},keys:o,values:a,entries:async function(e){const[t,n]=await Promise.all([o(e),a(e)]);return r=t,i=n,Lc({next(){const e=r.next(),t=i.next();return e.done&&t.done?{done:!0,value:null}:{value:[e.value,t.value]}}});var r,i},db:i}}function sd(e,t,n){return`${e}-${t}-${n}`}function od(){return{components:[],componentToIndex:new Map,entities:[],entityToIndex:new Map,blockNumber:0,state:new Map}}function ad(e,{component:t,entity:n,value:r,blockNumber:i}){const s="0"===n[0]&&"x"===n[1]?_s.BigNumber.from(n).toHexString():n,{components:o,entities:a,componentToIndex:c,entityToIndex:l,state:u}=e;let d=c.get(t);null==d&&(d=o.push(t)-1,c.set(t,d));let h=l.get(s);null==h&&(h=a.push(s)-1,l.set(s,h));const f=Dc([d,h]);null==r?u.delete(f):u.set(f,r),e.blockNumber=i-1}function cd(e,t){for(const n of t)ad(e,n)}function ld({blockNumber:e,state:t,components:n,entities:r}){return Bc(t.entries(),(([t,i])=>{const[s,o]=function(e,t){const n=[];let r=e;for(let e=t.length-1;e>=0;e--)n.unshift((i=r,s=t[e],i&2**s-1)),r>>>=t[e];var i,s;return n}(t,[8,24]);const a=n[s],c=r[o];if(null==a||null==c)throw new Error(`Unknown component / entity: ${a}, ${c}`);return{type:qu.NetworkComponentUpdate,component:a,entity:c,value:i,lastEventInTx:!1,txHash:"cache",blockNumber:e}}))}function ud(e){const t=od(),n=[...e].sort(((e,t)=>e.blockNumber-t.blockNumber));for(const e of n)for(const n of ld(e))ad(t,n);return t.blockNumber=n[n.length-1].blockNumber,t}async function dd(e,t){console.log("[Cache] store cache with size",t.state.size,"at block",t.blockNumber),await e.set("ComponentValues","current",t.state),await e.set("Mappings","components",t.components),await e.set("Mappings","entities",t.entities),await e.set("BlockNumber","current",t.blockNumber)}async function hd(e){const t=await e.get("ComponentValues","current")??new Map,n=await e.get("BlockNumber","current")??0,r=await e.get("Mappings","components")??[],i=await e.get("Mappings","entities")??[],s=new Map,o=new Map;for(let e=0;e<r.length;e++)s.set(r[e],e);for(let e=0;e<i.length;e++)o.set(i[e],e);return{state:t,blockNumber:n,components:r,entities:i,componentToIndex:s,entityToIndex:o}}async function fd(e){return await e.get("BlockNumber","current")??0}function pd(e,t,n,r){return id(sd("ECSCache",e,t),["ComponentValues","BlockNumber","Mappings","Checkpoint"],n,r)}var md={};Ku(md,"createProvider",(()=>Nd)),Ku(md,"ConnectionState",(()=>Ed)),Ku(md,"createReconnectingProvider",(()=>Ad));var bd={};async function yd(e,t){await Cc((()=>Promise.all([e.getBlockNumber(),t?t.getBlockNumber():Promise.resolve()])),[],10,1e3)}async function gd(e,t){for(const n of Oc(10)){const n=async()=>{const t=await e.perform("getBlock",{includeTransactions:!1,blockTag:e.formatter.blockTag(await e._getBlockTag("latest"))});return e.formatter.block(t)},r=await Cc(n,[],10,1e3);if(!(t&&r.number<t))return r;await Rc(300)}throw new Error("Could not fetch a block with blockNumber "+t)}async function vd(e,t,n,r,i,s){const o=async(t,i)=>{const s=await(0,kc.resolveProperties)({filter:e._getFilter({fromBlock:n,toBlock:r,address:t,topics:i})}),o=await e.perform("getLogs",s);return o.forEach((e=>{null==e.removed&&(e.removed=!1)})),go.arrayOf(e.formatter.filterLog.bind(e.formatter))(o)},a=async()=>{const t=await e.perform("getBlockNumber",{});return _s.BigNumber.from(t).toNumber()},c=()=>{const e=[];for(const[n,r]of Object.entries(i)){const i=t.find((e=>e.key===n))?.topics;i&&e.push(o(r.address,i))}return e};if(s){for(const e in Oc(10)){const e=()=>Promise.all([a(),...c()]),[t,n]=await Cc(e,[],10,1e3);if(!(t<s))return n.flat();await Rc(500)}throw new Error("Could not fetch logs with a required minimum block number")}{const e=()=>Promise.all([...c()]);return(await Cc(e,[],10,1e3)).flat()}}async function wd(e,t,n,r,i,s){const o=await vd(e,t,n,r,i,s?r:void 0);o.sort(((e,t)=>e.blockNumber<t.blockNumber?-1:e.blockNumber>t.blockNumber?1:e.transactionIndex<t.transactionIndex?-1:e.transactionIndex>t.transactionIndex?1:e.logIndex<t.logIndex?-1:1));const a={};for(const e of Object.keys(i))a[i[e].address.toLowerCase()]=e;const c=[];for(let e=0;e<o.length;e++){const t=o[e],n=a[t.address.toLowerCase()];if(!n)throw new Error("This should not happen. An event's address is not part of the contracts dictionnary: "+t.address);const{address:r,abi:s}=i[n],l=new(0,bs.Contract)(r,s);try{const r=l.interface.parseLog(t),i=o[e+1]?.transactionHash!==t.transactionHash;c.push({contractKey:n,eventKey:r.name,args:r.args,txHash:t.transactionHash,lastEventInTx:i})}catch(e){console.warn("Error",e),console.warn("A log couldn't be parsed with the corresponding contract interface!")}}return c}async function _d(e,t){const n=await t.getTransaction(e);n.gasPrice=void 0;const r=await t.call(n);return kc.defaultAbiCoder.decode(["string"],Vc(r))[0]}Ku(bd,"ensureNetworkIsUp",(()=>yd)),Ku(bd,"fetchBlock",(()=>gd)),Ku(bd,"fetchLogs",(()=>vd)),Ku(bd,"fetchEventsInBlockRange",(()=>wd)),Ku(bd,"getRevertReason",(()=>_d));class kd extends Jo.JsonRpcProvider{constructor(e,t){super(e,t)}async detectNetwork(){const e=this.network;if(null==e)throw new Error("No network");return e}}class Td extends ac{constructor(e,t){super(e,t)}async detectNetwork(){const e=this.network;if(null==e)throw new Error("No network");return e}}function Nd({chainId:e,jsonRpcUrl:t,wsRpcUrl:n,options:r}){const i={chainId:e,name:"mudChain"},s={json:r?.batch?new Td(t,i):new kd(t,i),ws:n?new(0,qo.WebSocketProvider)(n,i):void 0};return r?.pollingInterval&&(s.json.pollingInterval=r.pollingInterval),s}let Ed;var Id;async function Ad(e){const t=Re.box(Ed.DISCONNECTED),n=Re.box(),r=[];async function i(){if(t.get()===Ed.CONNECTING)return;Ut((()=>t.set(Ed.CONNECTING)));const r=n.get();r?.json.removeAllListeners(),r?.ws?.removeAllListeners();try{r?.ws?._websocket?.close()}catch{}const i=e.get();await Cc((async()=>{const e=Nd(i);!i?.options?.skipNetworkCheck&&await yd(e.json,e.ws),Ut((()=>{n.set(e),t.set(Ed.CONNECTED)}))}))}r.push(Ft((()=>e.get()),(()=>i()))),r.push(Ft((()=>n.get()),(e=>{e?.ws?._websocket&&(e.ws._websocket.onerror=i,e.ws._websocket.onclose=()=>{t.get()===Ed.CONNECTED&&i()})})));const s=setInterval((async()=>{if(t.get()!==Ed.CONNECTED)return;const e=n.get();if(e?.ws)try{await Pc(e.ws.getBlockNumber(),1e4,"Network Request Timed out")}catch{i()}}),1e4);return r.push((()=>clearInterval(s))),await i(),{connected:Ic(t),providers:Ic(n),dispose:()=>{for(const e of r)e();try{n.get()?.ws?._websocket?.close()}catch{}}}}(Id=Ed||(Ed={}))[Id.DISCONNECTED=0]="DISCONNECTED",Id[Id.CONNECTING=1]="CONNECTING",Id[Id.CONNECTED=2]="CONNECTED";var Sd={};Ku(Sd,"createSnapshotClient",(()=>Dd)),Ku(Sd,"createStreamClient",(()=>jd)),Ku(Sd,"getSnapshotBlockNumber",(()=>Md)),Ku(Sd,"fetchSnapshot",(()=>Vd)),Ku(Sd,"reduceFetchedState",(()=>zd)),Ku(Sd,"fetchSnapshotChunked",(()=>Fd)),Ku(Sd,"createLatestEventStreamService",(()=>Wd)),Ku(Sd,"createLatestEventStreamRPC",(()=>Gd)),Ku(Sd,"fetchEventsInBlockRangeChunked",(()=>Kd)),Ku(Sd,"fetchStateInBlockRange",(()=>Hd)),Ku(Sd,"createDecode",(()=>qd)),Ku(Sd,"createWorldTopics",(()=>Jd)),Ku(Sd,"createFetchWorldEventsInBlockRange",(()=>Yd)),Ku(Sd,"createTransformWorldEventsFromStream",(()=>$d)),Ku(Sd,"createFetchSystemCallsFromEvents",(()=>Xd));var Rd={};function Od(e,t){if(Array.isArray(e))return e.map((e=>Od(e,ed[t])));if("number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e;if(e=_s.BigNumber.from(e),[Xu.INT8,Xu.INT16,Xu.INT32,Xu.UINT8,Xu.UINT16,Xu.UINT32].includes(t))return e.toNumber();if([Xu.INT64,Xu.INT128,Xu.INT256,Xu.UINT64,Xu.UINT128,Xu.UINT256,Xu.BYTES,Xu.ADDRESS,Xu.BYTES4].includes(t))return e.toHexString();if([Xu.STRING].includes(t))return e.toString();throw new Error("Unknown value type")}function xd(e,t){return n=>{const r=kc.defaultAbiCoder.decode(t.map((e=>Zu[e])),n);if(e.length!==t.length)throw new Error("Component schema keys and values length does not match");const i={};for(let n=0;n<e.length;n++)i[e[n]]=Od(r[n],t[n]);return i}}Ku(Rd,"flattenValue",(()=>Od)),Ku(Rd,"createDecoder",(()=>xd));function Pd(e){const t=[];for(const n of Object.keys(e)){const{abi:r,topics:i}=e[n],s=new ms.Contract(ms.constants.AddressZero,r,new(0,vs.VoidSigner)(ms.constants.AddressZero)),o=[i.map((e=>s.filters[e]().topics)).map((e=>(e||[])[0]))];t.push({key:n,topics:o})}return t}Ku({},"createTopics",(()=>Pd));var Cd={};let Ld;var Bd;Ku(Cd,"SyncState",(()=>Ld)),Ku(Cd,"GodID",(()=>Ud)),(Bd=Ld||(Ld={}))[Bd.CONNECTING=0]="CONNECTING",Bd[Bd.INITIAL=1]="INITIAL",Bd[Bd.LIVE=2]="LIVE";const Ud="0x060d";function Dd(e){const t=new Ru({baseUrl:e,format:"binary"});return new ju(t)}function jd(e){const t=new Ru({baseUrl:e,format:"binary"});return new zu(t)}async function Md(e,t){let n=-1;if(!e)return n;try{const{response:r}=await e.getStateBlockLatest({worldAddress:t});n=r.blockNumber}catch(e){console.error(e)}return n}async function Vd(e,t,n){const r=od();try{const{response:i}=await e.getStateLatest({worldAddress:t});await zd(i,r,n)}catch(e){console.error(e)}return r}async function Fd(e,t,n){const r=od();try{const i=e.getStateLatestStream({worldAddress:t});for await(const e of i.responses)await zd(e,r,n)}catch(e){console.error(e)}return r}async function zd(e,t,n){const{state:r,blockNumber:i,stateComponents:s,stateEntities:o}=e;for(const{componentIdIdx:e,entityIdIdx:a,value:c}of r){const r=Mc(s[e]),l=o[a],u=await n(r,c);ad(t,{type:qu.NetworkComponentUpdate,component:r,entity:l,value:u,blockNumber:i})}}function Wd(e,t,n){return Ui(jd(e).subscribeToStreamLatest({worldAddress:t,blockNumber:!0,blockHash:!0,blockTimestamp:!0,transactionsConfirmed:!1,ecsEvents:!0}).responses).pipe(ci((async e=>{const t=await n(e);return console.info(`[SyncWorker || via Stream Service] got ${t.length} events from block ${e.blockNumber}`),t})),Nc(),Ji((e=>Hi(...e))))}function Gd(e,t,n){let r;return e.pipe(ci((async e=>{const i=null==r||r>=e?e:r+1,s=e;r=s;const o=await t(i,s);if(console.info(`[SyncWorker || via JSON-RPC] fetched ${o.length} events from block range ${i} -> ${s}`),n&&o.length>0){const t=await n(o,e);return[...o,...t]}return o})),Nc(),Ji((e=>Hi(...e))))}async function Kd(e,t,n,r=50,i){const s=[],o=n-t,a=Math.ceil(o/r),c=[...Oc(a,r,t)];for(let a=0;a<c.length;a++){const l=c[a],u=a===c.length-1?n:c[a+1]-1,d=await e(l,u);i&&i(Ld.INITIAL,`Fetching state from block ${t} to ${n} (${a*r}/${o})`,80),console.info(`[SyncWorker] initial sync fetched ${s.length} events from block range ${l} -> ${u}`),s.push(...d)}return s}async function Hd(e,t,n,r=50,i){const s=od();return cd(s,await Kd(e,t,n,r,i)),s}function qd(e,t){const n={},r=new(0,bs.Contract)(e.address,e.abi,t);return async function(e,i,s){if(!n[e]){const i=s||await r.getComponent(e);console.info("Creating decoder for",i);const o=new(0,bs.Contract)(i,Wu.abi,t),[a,c]=await o.getSchema();n[e]=xd(a,c)}return n[e](i)}}function Jd(){return Pd({World:{abi:Gu.abi,topics:["ComponentValueSet","ComponentValueRemoved"]}})}function Yd(e,t,n,r){const i=Jd();return async(s,o)=>{const a=await wd(e,i,s,o,{World:t},n),c=[];for(const e of a){const{lastEventInTx:t,txHash:n,args:i}=e,{component:s,entity:a,data:l,componentId:u}=i,d=Mc(_s.BigNumber.from(u).toHexString()),h=_s.BigNumber.from(a).toHexString(),f=o,p={type:qu.NetworkComponentUpdate,component:d,entity:h,value:void 0,blockNumber:f,lastEventInTx:t,txHash:n};if("ComponentValueRemoved"===e.eventKey&&c.push(p),"ComponentValueSet"===e.eventKey){const e=await r(d,l,s);c.push({...p,value:e})}}return c}}function $d(e){return async t=>{const{blockNumber:n,ecsEvents:r}=t,i=[];for(let t=0;t<r.length;t++){const s=r[t],o=s.componentId,a=s.entityId,c=s.tx,l=Mc(_s.BigNumber.from(o).toHexString()),u=Mc(_s.BigNumber.from(a).toHexString()),d="ComponentValueSet"===s.eventType?await e(l,s.value):void 0,h=r[t+1]?.tx!==s.tx;i.push({type:qu.NetworkComponentUpdate,component:l,entity:u,value:d,blockNumber:n,lastEventInTx:h,txHash:c})}return i}}function Xd(e){const{fetchBlock:t,clearBlock:n}=function(e){const t={};return{fetchBlock:async n=>{if(t[n])return t[n];const r=await e.getBlockWithTransactions(n);return t[n]=r,r},clearBlock:e=>delete t[e]}}(e),r=function(e){return async(t,n)=>{const r=(await e(n)).transactions.find((e=>e.hash===t));if(r)return{to:r.to,data:r.data,value:r.value,hash:r.hash}}}(t);return async(e,t)=>{const i=[],s=e.reduce(((e,t)=>(["worker","cache"].includes(t.txHash)||(e[t.txHash]||(e[t.txHash]=[]),e[t.txHash].push(t)),e)),{}),o=await Promise.all(Object.keys(s).map((e=>r(e,t))));n(t);for(const e of o)e&&i.push({type:qu.SystemCall,tx:e,updates:s[e.hash]});return i}}function Qd(e,t){const n=new ii(1),r=t?.initialSync?n.pipe(ts(1),as((e=>e>(t.initialSync.initialBlockNumber||0))),Ji((e=>{const n=e-t.initialSync.initialBlockNumber;return qi(0,Math.ceil(n/t.initialSync.interval)).pipe(ci((e=>t.initialSync.initialBlockNumber+e*t.initialSync.interval)),os(e))})),Ec(50)):ji,i=Ft((()=>e.get()),(e=>{(e?.ws||e?.json)?.on("block",(e=>n.next(e)))}),{fireImmediately:!0});return{blockNumber$:Di(r,n),dispose:i}}class Zd{input$=new ti;output$=new ti;constructor(){this.init()}setLoadingState(e,t,n,r=0){const i={type:qu.NetworkComponentUpdate,component:(s="component.LoadingState",_s.BigNumber.from((0,kc.keccak256)((0,kc.toUtf8Bytes)(s))).toHexString()),value:{state:e,msg:t,percentage:n},entity:Ud,txHash:"worker",lastEventInTx:!1,blockNumber:r};var s;this.output$.next(i)}async init(){this.setLoadingState(Ld.CONNECTING,"Connecting...",0);const e=await Ac(this.input$),{checkpointServiceUrl:t,streamServiceUrl:n,chainId:r,worldContract:i,provider:{options:s},initialBlockNumber:o,fetchSystemCalls:a}=e.get(),{providers:c}=await Ad(Ce((()=>e.get().provider))),l=c.get().json,u=t?Dd(t):void 0,d=await pd(r,i.address),h=qd(i,l),f=Yd(l,i,s?.batch,h),p=$d(h);console.log("[SyncWorker] start initial sync"),this.setLoadingState(Ld.INITIAL,"Starting initial sync",0);let m=!1;const b={current:od()},{blockNumber$:y}=Qd(c),g=n?Wd(n,i.address,p):Gd(y,f,a?Xd(l):void 0),v=[];g.subscribe((e=>{m?($u(e)&&(e.blockNumber>b.current.blockNumber+1&&dd(d,b.current),ad(b.current,e)),this.output$.next(e)):$u(e)&&v.push(e)}));const w=Sc(y);this.setLoadingState(Ld.INITIAL,"Fetching cache block number",20);const _=await fd(d),k=await Md(u,i.address);console.log(`[SyncWorker] cache block: ${_}, snapshot block: ${k>0?k:"Unavailable"}, start sync at ${o}`);let T=od();if(o>Math.max(_,k))T.blockNumber=o;else{const e=u&&k>_+100;e?(this.setLoadingState(Ld.INITIAL,"Fetching initial state from snapshot",50),T=await Fd(u,i.address,h)):(this.setLoadingState(Ld.INITIAL,"Fetching initial state from cache",50),T=await hd(d)),console.log(`[SyncWorker] got ${T.state.size} items from ${e?"snapshot":"cache"}`)}const N=await w;this.setLoadingState(Ld.INITIAL,`Fetching state from block ${T.blockNumber} to ${N}`,80);const E=await Kd(f,T.blockNumber,N,50,this.setLoadingState.bind(this));console.log(`[SyncWorker || via JSON-RPC] got ${E.length} items from block range ${T.blockNumber} -> ${N}`),cd(T,[...E,...v]),b.current=T,console.log(`[SyncWorker] initial sync state size: ${b.current.state.size}`),this.setLoadingState(Ld.INITIAL,`Initializing with ${b.current.state.size} state entries`,90);for(const e of ld(b.current))this.output$.next(e);dd(d,b.current),this.setLoadingState(Ld.LIVE,"Streaming live events",100,b.current.blockNumber),m=!0}work(e){return e.subscribe(this.input$),this.output$.asObservable()}}console.log("Starting Sync Worker"),function(e){const t=Gi(self,"message");e.work(t.pipe(ci((e=>e.data)))).subscribe((e=>self.postMessage(e)))}(new Zd)})();
//# sourceMappingURL=Sync.worker.48bf6c93.a15eae2e.js.map
